
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="shrike505">
      
      
        <link rel="canonical" href="https://nest.shrike505.cc/print_page/">
      
      
      
      
      <link rel="icon" href="../img/PP.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Print Site - 现实的荒原</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      
  
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
  
  <style>:root{--md-admonition-icon--info:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20576%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%206.7.2%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202024%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M320%2096a32%2032%200%201%201-64%200%2032%2032%200%201%201%2064%200m21.1%2080C367%20158.8%20384%20129.4%20384%2096c0-53-43-96-96-96s-96%2043-96%2096c0%2033.4%2017%2062.8%2042.9%2080H224c-17.7%200-32%2014.3-32%2032s14.3%2032%2032%2032h32v208h-48c-53%200-96-43-96-96v-6.1l7%207c9.4%209.4%2024.6%209.4%2033.9%200s9.4-24.6%200-33.9L97%20263c-9.4-9.4-24.6-9.4-33.9%200L7%20319c-9.4%209.4-9.4%2024.6%200%2033.9s24.6%209.4%2033.9%200l7-7v6.1c0%2088.4%2071.6%20160%20160%20160h160c88.4%200%20160-71.6%20160-160v-6.1l7%207c9.4%209.4%2024.6%209.4%2033.9%200s9.4-24.6%200-33.9l-56-56c-9.4-9.4-24.6-9.4-33.9%200l-56%2056c-9.4%209.4-9.4%2024.6%200%2033.9s24.6%209.4%2033.9%200l7-7v6.1c0%2053-43%2096-96%2096h-48V240h32c17.7%200%2032-14.3%2032-32s-14.3-32-32-32h-10.9z%22/%3E%3C/svg%3E');--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20512%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%206.7.2%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202024%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22m368.4%2018.3-55.7%2055.8%20125.2%20125.2%2055.7-55.7c21.9-21.9%2021.9-57.3%200-79.2l-46-46.1c-21.9-21.9-57.3-21.9-79.2%200M288%2094.6l-9.2%202.8-144.1%2043.2c-19.9%206-35.7%2021.2-42.3%2041L3.8%20445.8c-3.8%2011.3-1%2023.9%207.3%2032.4l153.6-153.5c-3-6.3-4.7-13.3-4.7-20.7%200-26.5%2021.5-48%2048-48s48%2021.5%2048%2048-21.5%2048-48%2048c-7.4%200-14.4-1.7-20.7-4.7L33.7%20500.9c8.6%208.3%2021.1%2011.2%2032.4%207.3l264.3-88.6c19.7-6.6%2035-22.4%2041-42.3l43.2-144.1%202.7-9.2z%22/%3E%3C/svg%3E');--md-admonition-icon--abstract:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20512%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%206.7.2%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202024%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M40%2048c-13.3%200-24%2010.7-24%2024v48c0%2013.3%2010.7%2024%2024%2024h48c13.3%200%2024-10.7%2024-24V72c0-13.3-10.7-24-24-24zm152%2016c-17.7%200-32%2014.3-32%2032s14.3%2032%2032%2032h288c17.7%200%2032-14.3%2032-32s-14.3-32-32-32zm0%20160c-17.7%200-32%2014.3-32%2032s14.3%2032%2032%2032h288c17.7%200%2032-14.3%2032-32s-14.3-32-32-32zm0%20160c-17.7%200-32%2014.3-32%2032s14.3%2032%2032%2032h288c17.7%200%2032-14.3%2032-32s-14.3-32-32-32zM16%20232v48c0%2013.3%2010.7%2024%2024%2024h48c13.3%200%2024-10.7%2024-24v-48c0-13.3-10.7-24-24-24H40c-13.3%200-24%2010.7-24%2024m24%20136c-13.3%200-24%2010.7-24%2024v48c0%2013.3%2010.7%2024%2024%2024h48c13.3%200%2024-10.7%2024-24v-48c0-13.3-10.7-24-24-24z%22/%3E%3C/svg%3E');--md-admonition-icon--tip:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20384%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%206.7.2%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202024%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M272%20384c9.6-31.9%2029.5-59.1%2049.2-86.2%205.2-7.1%2010.4-14.2%2015.4-21.4%2019.8-28.5%2031.4-63%2031.4-100.3C368%2078.8%20289.2%200%20192%200S16%2078.8%2016%20176c0%2037.3%2011.6%2071.9%2031.4%20100.3%205%207.2%2010.2%2014.3%2015.4%2021.4%2019.8%2027.1%2039.7%2054.4%2049.2%2086.2h160zm-80%20128c44.2%200%2080-35.8%2080-80v-16H112v16c0%2044.2%2035.8%2080%2080%2080m-80-336c0%208.8-7.2%2016-16%2016s-16-7.2-16-16c0-61.9%2050.1-112%20112-112%208.8%200%2016%207.2%2016%2016s-7.2%2016-16%2016c-44.2%200-80%2035.8-80%2080%22/%3E%3C/svg%3E');--md-admonition-icon--success:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20448%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%206.7.2%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202024%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M438.6%20105.4c12.5%2012.5%2012.5%2032.8%200%2045.3l-256%20256c-12.5%2012.5-32.8%2012.5-45.3%200l-128-128c-12.5-12.5-12.5-32.8%200-45.3s32.8-12.5%2045.3%200L160%20338.7l233.4-233.3c12.5-12.5%2032.8-12.5%2045.3%200z%22/%3E%3C/svg%3E');--md-admonition-icon--question:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20512%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%206.7.2%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202024%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M256%20512a256%20256%200%201%200%200-512%20256%20256%200%201%200%200%20512m-86.2-346.7c7.9-22.3%2029.1-37.3%2052.8-37.3h58.3c34.9%200%2063.1%2028.3%2063.1%2063.1%200%2022.6-12.1%2043.5-31.7%2054.8L280%20264.4c-.2%2013-10.9%2023.6-24%2023.6-13.3%200-24-10.7-24-24v-13.5c0-8.6%204.6-16.5%2012.1-20.8l44.3-25.4c4.7-2.7%207.6-7.7%207.6-13.1%200-8.4-6.8-15.1-15.1-15.1h-58.3c-3.4%200-6.4%202.1-7.5%205.3l-.4%201.2c-4.4%2012.5-18.2%2019-30.6%2014.6s-19-18.2-14.6-30.6l.4-1.2zM224%20352a32%2032%200%201%201%2064%200%2032%2032%200%201%201-64%200%22/%3E%3C/svg%3E');--md-admonition-icon--warning:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20512%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%206.7.2%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202024%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M256%2032c14.2%200%2027.3%207.5%2034.5%2019.8l216%20368c7.3%2012.4%207.3%2027.7.2%2040.1S486.3%20480%20472%20480H40c-14.3%200-27.6-7.7-34.7-20.1s-7-27.8.2-40.1l216-368C228.7%2039.5%20241.8%2032%20256%2032m0%20128c-13.3%200-24%2010.7-24%2024v112c0%2013.3%2010.7%2024%2024%2024s24-10.7%2024-24V184c0-13.3-10.7-24-24-24m32%20224a32%2032%200%201%200-64%200%2032%2032%200%201%200%2064%200%22/%3E%3C/svg%3E');--md-admonition-icon--failure:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2024%2024%22%3E%3Cpath%20d%3D%22M12%203c4.97%200%209%203.58%209%208s-6%2010-9%2010-9-5.58-9-10%204.03-8%209-8m-1.69%207.93C9.29%209.29%207.47%208.58%206.25%209.34s-1.38%202.71-.36%204.35c1.03%201.64%202.85%202.35%204.07%201.59%201.22-.78%201.37-2.71.35-4.35m3.38%200c-1.02%201.64-.87%203.57.35%204.35%201.22.76%203.04.05%204.07-1.59%201.02-1.64.86-3.59-.36-4.35s-3.04-.05-4.06%201.59M12%2017.75c-2%200-2.5-.75-2.5-.75%200%20.03.5%202%202.5%202s2.5-2%202.5-2-.5.75-2.5.75%22/%3E%3C/svg%3E');--md-admonition-icon--danger:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20512%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%206.7.2%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202024%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M288%2032c0-17.7-14.3-32-32-32s-32%2014.3-32%2032v11.5c0%2049.9-60.3%2074.9-95.6%2039.6l-8.2-8.1C107.7%2062.5%2087.5%2062.5%2075%2075s-12.5%2032.8%200%2045.3l8.2%208.2c35.2%2035.2%2010.2%2095.5-39.7%2095.5H32c-17.7%200-32%2014.3-32%2032s14.3%2032%2032%2032h11.5c49.9%200%2074.9%2060.3%2039.6%2095.6l-8.1%208.2c-12.5%2012.5-12.5%2032.8%200%2045.3s32.8%2012.5%2045.3%200l8.2-8.2c35.3-35.3%2095.6-10.3%2095.6%2039.6V480c0%2017.7%2014.3%2032%2032%2032s32-14.3%2032-32v-11.5c0-49.9%2060.3-74.9%2095.6-39.6l8.2%208.2c12.5%2012.5%2032.8%2012.5%2045.3%200s12.5-32.8%200-45.3l-8.2-8.2c-35.3-35.3-10.3-95.6%2039.6-95.6h11.5c17.7%200%2032-14.3%2032-32s-14.3-32-32-32h-11.5c-49.9%200-74.9-60.3-39.6-95.6l8.2-8.2c12.5-12.5%2012.5-32.8%200-45.3s-32.8-12.5-45.3%200l-8.2%208.2C348.3%20118.4%20288%2093.4%20288%2043.5zM176%20224a48%2048%200%201%201%2096%200%2048%2048%200%201%201-96%200m128%2056a24%2024%200%201%201%200%2048%2024%2024%200%201%201%200-48%22/%3E%3C/svg%3E');--md-admonition-icon--bug:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20640%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%206.7.2%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202024%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M320%200c17.7%200%2032%2014.3%2032%2032v64h120c39.8%200%2072%2032.2%2072%2072v272c0%2039.8-32.2%2072-72%2072H168c-39.8%200-72-32.2-72-72V168c0-39.8%2032.2-72%2072-72h120V32c0-17.7%2014.3-32%2032-32M208%20384c-8.8%200-16%207.2-16%2016s7.2%2016%2016%2016h32c8.8%200%2016-7.2%2016-16s-7.2-16-16-16zm96%200c-8.8%200-16%207.2-16%2016s7.2%2016%2016%2016h32c8.8%200%2016-7.2%2016-16s-7.2-16-16-16zm96%200c-8.8%200-16%207.2-16%2016s7.2%2016%2016%2016h32c8.8%200%2016-7.2%2016-16s-7.2-16-16-16zM264%20256a40%2040%200%201%200-80%200%2040%2040%200%201%200%2080%200m152%2040a40%2040%200%201%200%200-80%2040%2040%200%201%200%200%2080M48%20224h16v192H48c-26.5%200-48-21.5-48-48v-96c0-26.5%2021.5-48%2048-48m544%200c26.5%200%2048%2021.5%2048%2048v96c0%2026.5-21.5%2048-48%2048h-16V224z%22/%3E%3C/svg%3E');--md-admonition-icon--example:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20448%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%206.7.2%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202024%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M288%200H128c-17.7%200-32%2014.3-32%2032s14.3%2032%2032%2032v132.8c0%2011.8-3.3%2023.5-9.5%2033.5L10.3%20406.2C3.6%20417.2%200%20429.7%200%20442.6%200%20480.9%2031.1%20512%2069.4%20512h309.2c38.3%200%2069.4-31.1%2069.4-69.4%200-12.8-3.6-25.4-10.3-36.4L329.5%20230.4c-6.2-10.1-9.5-21.7-9.5-33.5V64c17.7%200%2032-14.3%2032-32S337.7%200%20320%200zm-96%20196.8V64h64v132.8c0%2023.7%206.6%2046.9%2019%2067.1l34.5%2056.1h-171l34.5-56.1c12.4-20.2%2019-43.4%2019-67.1%22/%3E%3C/svg%3E');--md-admonition-icon--quote:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20640%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%206.7.2%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202024%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M579.8%20267.7c56.5-56.5%2056.5-148%200-204.5-50-50-128.8-56.5-186.3-15.4l-1.6%201.1c-14.4%2010.3-17.7%2030.3-7.4%2044.6s30.3%2017.7%2044.6%207.4l1.6-1.1c32.1-22.9%2076-19.3%20103.8%208.6%2031.5%2031.5%2031.5%2082.5%200%20114L422.3%20334.8c-31.5%2031.5-82.5%2031.5-114%200-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4%206.9-34.4-7.4-44.6s-34.4-6.9-44.6%207.4l-1.1%201.6C206.5%20251.2%20213%20330%20263%20380c56.5%2056.5%20148%2056.5%20204.5%200zM60.2%20244.3c-56.5%2056.5-56.5%20148%200%20204.5%2050%2050%20128.8%2056.5%20186.3%2015.4l1.6-1.1c14.4-10.3%2017.7-30.3%207.4-44.6s-30.3-17.7-44.6-7.4l-1.6%201.1c-32.1%2022.9-76%2019.3-103.8-8.6C74%20372%2074%20321%20105.5%20289.5l112.2-112.3c31.5-31.5%2082.5-31.5%20114%200%2027.9%2027.9%2031.5%2071.8%208.6%20103.9l-1.1%201.6c-10.3%2014.4-6.9%2034.4%207.4%2044.6s34.4%206.9%2044.6-7.4l1.1-1.6C433.5%20260.8%20427%20182%20377%20132c-56.5-56.5-148-56.5-204.5%200z%22/%3E%3C/svg%3E');}</style>



    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../css/print-site.css">
    
      <link rel="stylesheet" href="../css/print-site-material.css">
    
      <link rel="stylesheet" href="../css/timeline.css">
    
      <link rel="stylesheet" href="../assets/mkdocs_pagetree_plugin.css">
    
      <link rel="stylesheet" href="https://fonts.loli.net/css2?family=Noto+Serif">
    
      <link rel="stylesheet" href="https://fonts.loli.net/css2?family=Victor+Mono">
    
      <link rel="stylesheet" href="https://fonts.loli.net/css2?family=Noto+Serif+SC">
    
      <link rel="stylesheet" href="https://fonts.loli.net/css2?family=Gloria+Hallelujah&display=swap">
    
      <link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/lxgw-wenkai-screen-webfont/1.7.0/style.min.css">
    
      <link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/juliamono/0.056/juliamono.css">
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/katex.min.css">
    
      <link rel="stylesheet" href="../css/changelogs.css">
    
      <link rel="stylesheet" href="../css/newcolor.css">
    
      <link rel="stylesheet" href="../css/newfonts.css">
    
      <link rel="stylesheet" href="../css/newadmonitions.css">
    
      <link rel="stylesheet" href="../css/cards.css">
    
    <script>__md_scope=new URL("/",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  
        <script type="text/javascript">
        document.addEventListener('DOMContentLoaded', function () {
            remove_material_navigation();remove_mkdocs_theme_navigation();generate_toc();
        })
        </script>
        </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="theme" data-md-color-primary="1bdbe9b0" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#index" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href=".." title="现实的荒原" class="md-header__button md-logo" aria-label="现实的荒原" data-md-component="logo">
      
  <img src="../img/PP.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            现实的荒原
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Print Site
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="theme" data-md-color-primary="1bdbe9b0" data-md-color-accent="indigo"  aria-label="光芒熄灭了。"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="光芒熄灭了。" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="把火点起来吧。"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="把火点起来吧。" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256l137.3-137.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/shrike-505/Nest" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    shrike505
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
  
    
  
  shrike505's Nest

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../stories/" class="md-tabs__link">
          
  
  
    
  
  小说

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../thoughts/" class="md-tabs__link">
          
  
  
    
  
  散文

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../notes/" class="md-tabs__link">
          
  
  
    
  
  笔记

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../others/" class="md-tabs__link">
          
  
  
    
  
  杂

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../tags/" class="md-tabs__link">
        
  
  
    
  
  标签

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../friends/" class="md-tabs__link">
        
  
  
    
  
  友谊是魔法

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="现实的荒原" class="md-nav__button md-logo" aria-label="现实的荒原" data-md-component="logo">
      
  <img src="../img/PP.png" alt="logo">

    </a>
    现实的荒原
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/shrike-505/Nest" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    shrike505
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    shrike505's Nest
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../stories/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    小说
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            小说
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../stories/G30/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    连霍
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../stories/Curse/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    诅咒
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../stories/Justice/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    正义
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../stories/Fool/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    愚者
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../stories/Pepper/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    花椒
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../stories/Protein/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    蛋白
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../stories/Vanishment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    烟消
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../stories/Gunpowdersmoke/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    硝烟
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../stories/Newcar/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    新车
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../stories/Weapon/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    尺兵
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../stories/Mice/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    老鼠
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../thoughts/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    散文
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            散文
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../thoughts/Echo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    回声
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../thoughts/Gaut/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    痛风
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../thoughts/Homesick/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    故乡
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../thoughts/Gut/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    羊杂
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../thoughts/Fortune/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    富贵
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../thoughts/Unspoken/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    希音
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../notes/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    笔记
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            笔记
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    AI
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            AI
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../notes/AI/AIY/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    人工智能引论
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../notes/AI/DAML/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    数据分析与机器学习
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../notes/AI/AIL/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    人工智能逻辑
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../notes/AI/NLP/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    自然语言处理相关
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2_4">
            <span class="md-nav__icon md-icon"></span>
            自然语言处理相关
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Computer Science
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            Computer Science
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../notes/ComputerScience/ComputerSystem1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    计算机系统Ⅰ
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../notes/ComputerScience/ComputerSystem2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    计算机系统Ⅱ
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../notes/ComputerScience/ComputerSystem3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    计算机系统Ⅲ
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../notes/ComputerScience/ADS/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    高级数据结构
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    数学&物理学
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            数学&物理学
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../notes/MathematicsAndPhysics/Analysis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    数学分析Ⅱ
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../notes/MathematicsAndPhysics/Physics1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    普通物理学Ⅰ
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../notes/MathematicsAndPhysics/ODE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    常微分方程
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../notes/MathematicsAndPhysics/DiscreteMath/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    离散数学理论基础
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../notes/MathematicsAndPhysics/Probability/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    概率论
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../notes/MathematicsAndPhysics/Physics2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    普通物理学Ⅱ
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5" >
        
          
          <label class="md-nav__link" for="__nav_4_5" id="__nav_4_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    文艺学
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_5">
            <span class="md-nav__icon md-icon"></span>
            文艺学
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../notes/Literature/BasicLinguistics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    语言学基础
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_6" >
        
          
          <label class="md-nav__link" for="__nav_4_6" id="__nav_4_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Language
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_6">
            <span class="md-nav__icon md-icon"></span>
            Language
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../notes/Language/cs61a/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Python - CS61A
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../notes/Language/Verilog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Verilog - HDLBits
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../notes/Language/Cpp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    C++ - OOP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../notes/Language/Toefl/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    托福
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../notes/Language/Typst/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Typst 备忘录
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_7" >
        
          
          <label class="md-nav__link" for="__nav_4_7" id="__nav_4_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    短学期
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_7">
            <span class="md-nav__icon md-icon"></span>
            短学期
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../notes/SummerCourses/CTF/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CTF101
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../others/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    杂
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            杂
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../others/Quotes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    记念
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../others/final/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    年终总结
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../others/summer_idle/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    暑假指南
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../tags/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    标签
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../friends/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    友谊是魔法
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#index" class="md-nav__link">
    <span class="md-ellipsis">
      1 shrike505's Nest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-2" class="md-nav__link">
    <span class="md-ellipsis">
      2 小说
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2 小说">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#stories" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 小说
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stories-g30" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 连霍
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stories-curse" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 诅咒
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stories-justice" class="md-nav__link">
    <span class="md-ellipsis">
      2.4 正义
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stories-fool" class="md-nav__link">
    <span class="md-ellipsis">
      2.5 愚者
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stories-pepper" class="md-nav__link">
    <span class="md-ellipsis">
      2.6 花椒
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stories-protein" class="md-nav__link">
    <span class="md-ellipsis">
      2.7 蛋白
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stories-vanishment" class="md-nav__link">
    <span class="md-ellipsis">
      2.8 烟消
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stories-gunpowdersmoke" class="md-nav__link">
    <span class="md-ellipsis">
      2.9 硝烟
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stories-newcar" class="md-nav__link">
    <span class="md-ellipsis">
      2.10 新车
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stories-weapon" class="md-nav__link">
    <span class="md-ellipsis">
      2.11 尺兵
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stories-mice" class="md-nav__link">
    <span class="md-ellipsis">
      2.12 老鼠
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-3" class="md-nav__link">
    <span class="md-ellipsis">
      3 散文
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3 散文">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#thoughts" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 散文
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#thoughts-echo" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 回声
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#thoughts-gaut" class="md-nav__link">
    <span class="md-ellipsis">
      3.3 痛风
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#thoughts-homesick" class="md-nav__link">
    <span class="md-ellipsis">
      3.4 故乡
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#thoughts-gut" class="md-nav__link">
    <span class="md-ellipsis">
      3.5 羊杂
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#thoughts-fortune" class="md-nav__link">
    <span class="md-ellipsis">
      3.6 富贵
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#thoughts-unspoken" class="md-nav__link">
    <span class="md-ellipsis">
      3.7 希音
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-4" class="md-nav__link">
    <span class="md-ellipsis">
      4 笔记
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4 笔记">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#notes" class="md-nav__link">
    <span class="md-ellipsis">
      4.1 笔记
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#section-4-2" class="md-nav__link">
    <span class="md-ellipsis">
      4.2 AI
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.2 AI">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#notes-ai-aiy" class="md-nav__link">
    <span class="md-ellipsis">
      4.2.1 人工智能引论
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes-ai-daml" class="md-nav__link">
    <span class="md-ellipsis">
      4.2.2 数据分析与机器学习
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes-ai-ail" class="md-nav__link">
    <span class="md-ellipsis">
      4.2.3 人工智能逻辑
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#section-4-2-4" class="md-nav__link">
    <span class="md-ellipsis">
      4.2.4 自然语言处理相关
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.2.4 自然语言处理相关">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#notes-ai-nlp" class="md-nav__link">
    <span class="md-ellipsis">
      4.2.4.1 自然语言处理相关
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#section-4-3" class="md-nav__link">
    <span class="md-ellipsis">
      4.3 Computer Science
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.3 Computer Science">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#notes-computerscience-computersystem1" class="md-nav__link">
    <span class="md-ellipsis">
      4.3.1 计算机系统Ⅰ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes-computerscience-computersystem2" class="md-nav__link">
    <span class="md-ellipsis">
      4.3.2 计算机系统Ⅱ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes-computerscience-computersystem3" class="md-nav__link">
    <span class="md-ellipsis">
      4.3.3 计算机系统Ⅲ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes-computerscience-ads" class="md-nav__link">
    <span class="md-ellipsis">
      4.3.4 高级数据结构
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#section-4-4" class="md-nav__link">
    <span class="md-ellipsis">
      4.4 数学&物理学
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.4 数学&amp;物理学">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#notes-mathematicsandphysics-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      4.4.1 数学分析Ⅱ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes-mathematicsandphysics-physics1" class="md-nav__link">
    <span class="md-ellipsis">
      4.4.2 普通物理学Ⅰ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes-mathematicsandphysics-ode" class="md-nav__link">
    <span class="md-ellipsis">
      4.4.3 常微分方程
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes-mathematicsandphysics-discretemath" class="md-nav__link">
    <span class="md-ellipsis">
      4.4.4 离散数学理论基础
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes-mathematicsandphysics-probability" class="md-nav__link">
    <span class="md-ellipsis">
      4.4.5 概率论
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes-mathematicsandphysics-physics2" class="md-nav__link">
    <span class="md-ellipsis">
      4.4.6 普通物理学Ⅱ
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#section-4-5" class="md-nav__link">
    <span class="md-ellipsis">
      4.5 文艺学
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.5 文艺学">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#notes-literature-basiclinguistics" class="md-nav__link">
    <span class="md-ellipsis">
      4.5.1 语言学基础
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#section-4-6" class="md-nav__link">
    <span class="md-ellipsis">
      4.6 Language
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.6 Language">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#notes-language-cs61a" class="md-nav__link">
    <span class="md-ellipsis">
      4.6.1 Python - CS61A
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes-language-verilog" class="md-nav__link">
    <span class="md-ellipsis">
      4.6.2 Verilog - HDLBits
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes-language-cpp" class="md-nav__link">
    <span class="md-ellipsis">
      4.6.3 C++ - OOP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes-language-toefl" class="md-nav__link">
    <span class="md-ellipsis">
      4.6.4 托福
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes-language-typst" class="md-nav__link">
    <span class="md-ellipsis">
      4.6.5 Typst 备忘录
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#section-4-7" class="md-nav__link">
    <span class="md-ellipsis">
      4.7 短学期
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.7 短学期">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#notes-summercourses-ctf" class="md-nav__link">
    <span class="md-ellipsis">
      4.7.1 CTF101
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-5" class="md-nav__link">
    <span class="md-ellipsis">
      5 杂
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5 杂">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#others" class="md-nav__link">
    <span class="md-ellipsis">
      5.1 杂
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#others-quotes" class="md-nav__link">
    <span class="md-ellipsis">
      5.2 记念
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#others-final" class="md-nav__link">
    <span class="md-ellipsis">
      5.3 年终总结
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#others-summer_idle" class="md-nav__link">
    <span class="md-ellipsis">
      5.4 暑假指南
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tags" class="md-nav__link">
    <span class="md-ellipsis">
      6 标签
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#friends" class="md-nav__link">
    <span class="md-ellipsis">
      7 友谊是魔法
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<div id="print-site-page" class="print-site-enumerate-headings print-site-enumerate-figures">
        <section class="print-page">
            <div id="print-page-toc" data-toc-depth="3">
                <nav role='navigation' class='print-page-toc-nav'>
                <h1 class='print-page-toc-title'>Table of Contents</h1>
                </nav>
            </div>
        </section>
        <section class="print-page" id="index" heading-number="1"><blockquote>
<p>德洛丽丝·黛————人道主义，国际主义和福利国家的无罪女王——转身面向你。<br />
她手上拖着一只旅行箱，似乎很着急。</p>
</blockquote>
<h1 id="index-shrike505s-nest">shrike505's Nest<a class="headerlink" href="#index-shrike505s-nest" title="Permanent link">&para;</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 645 个字 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 2 分钟</p>
</div>
<h2 id="index-_1">前言<a class="headerlink" href="#index-_1" title="Permanent link">&para;</a></h2>
<p>这里保存了一些文字、想法、笔记，说不定未来它们能变成什么赛博文物。敬请期待未来的内容！</p>
<p>这里已经上传了我近年来写的所有文章，参差良莠，不一而同。感谢阅读，望它们对得起你的时间！</p>
<hr />
<p><img alt="🎆" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f386.svg" title=":fireworks:" /> <a href="https://shrike505.cc/">点击这里返回我的主页</a> <img alt="🎆" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f386.svg" title=":fireworks:" /></p>
<hr />
<h2 id="index-_2">更新记录<a class="headerlink" href="#index-_2" title="Permanent link">&para;</a></h2>
<p>新增文章时间均为 <strong>创作时间</strong><br />
目前共 63 个页面，约 131124 字，908 行代码。  </p>
<h3 id="index-2025">2025<a class="headerlink" href="#index-2025" title="Permanent link">&para;</a></h3>
<div style="position: relative">
  <div class="timeline-wrapper">
    <div class="timeline">

      <div class="timeline-item">
        <div class="timeline-dot-wrapper">
          <div class="timeline-dot"></div>
        </div>
        <div class="timeline-content">
          <div class="timeline-card">
            <div class="changelog-time" id="2025.2.24">2025.2.24<a class="headerlink" href="#index-2025.2.24" title="Permanent link">¶</a></div>
            <div class="changelog-content">


                  <p><span class="changelog-type changelog-type-function"></span> 新学期第一周结束啦</p>


            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
  </div>

<hr />
<h3 id="index-2024">2024<a class="headerlink" href="#index-2024" title="Permanent link">&para;</a></h3>
<div style="position: relative">
  <div class="timeline-wrapper">
    <div class="timeline">

      <div class="timeline-item">
        <div class="timeline-dot-wrapper">
          <div class="timeline-dot"></div>
        </div>
        <div class="timeline-content">
          <div class="timeline-card">
            <div class="changelog-time" id="2024.12.27">2024.12.27<a class="headerlink" href="#index-2024.12.27" title="Permanent link">¶</a></div>
            <div class="changelog-content">


                  <p><span class="changelog-type changelog-type-newpage"></span> <a href="#notes-computerscience-computersystem2">系统Ⅱ笔记完结：学系统了，舒服，原来学系统这么舒服，天天学系统多好呀</a></p>


            </div>
          </div>
        </div>
      </div>

      <div class="timeline-item">
        <div class="timeline-dot-wrapper">
          <div class="timeline-dot"></div>
        </div>
        <div class="timeline-content">
          <div class="timeline-card">
            <div class="changelog-time" id="2024.11.14">2024.11.14<a class="headerlink" href="#index-2024.11.14" title="Permanent link">¶</a></div>
            <div class="changelog-content">


                  <p><span class="changelog-type changelog-type-function"></span> 重构了一下附件系统，现在每个板块下有专门的assets文件夹存储图片等附件啦</p>


            </div>
          </div>
        </div>
      </div>

      <div class="timeline-item">
        <div class="timeline-dot-wrapper">
          <div class="timeline-dot"></div>
        </div>
        <div class="timeline-content">
          <div class="timeline-card">
            <div class="changelog-time" id="2024.10.29">2024.10.29<a class="headerlink" href="#index-2024.10.29" title="Permanent link">¶</a></div>
            <div class="changelog-content">


                  <p><span class="changelog-type changelog-type-newart"></span> <a href="#stories-g30">🛣️连霍 —— 西极道九千九百里。</a></p>


            </div>
          </div>
        </div>
      </div>

      <div class="timeline-item">
        <div class="timeline-dot-wrapper">
          <div class="timeline-dot"></div>
        </div>
        <div class="timeline-content">
          <div class="timeline-card">
            <div class="changelog-time" id="2024.10.18">2024.10.18<a class="headerlink" href="#index-2024.10.18" title="Permanent link">¶</a></div>
            <div class="changelog-content">


                  <p><span class="changelog-type changelog-type-newpage"></span> <a href="#others-quotes">🥲新增记念界面</a></p>


            </div>
          </div>
        </div>
      </div>

      <div class="timeline-item">
        <div class="timeline-dot-wrapper">
          <div class="timeline-dot"></div>
        </div>
        <div class="timeline-content">
          <div class="timeline-card">
            <div class="changelog-time" id="2024.10.15">2024.10.15<a class="headerlink" href="#index-2024.10.15" title="Permanent link">¶</a></div>
            <div class="changelog-content">


                  <p><span class="changelog-type changelog-type-newpage"></span> <a href="#notes-ai-daml">更新国际化课程笔记：数据分析与机器学习</a></p>


            </div>
          </div>
        </div>
      </div>

      <div class="timeline-item">
        <div class="timeline-dot-wrapper">
          <div class="timeline-dot"></div>
        </div>
        <div class="timeline-content">
          <div class="timeline-card">
            <div class="changelog-time" id="2024.9.16">2024.9.16<a class="headerlink" href="#index-2024.9.16" title="Permanent link">¶</a></div>
            <div class="changelog-content">


                  <p><span class="changelog-type changelog-type-newpage"></span> <a href="#notes-language-verilog">更新 HDLBits 题解</a></p>


            </div>
          </div>
        </div>
      </div>

      <div class="timeline-item">
        <div class="timeline-dot-wrapper">
          <div class="timeline-dot"></div>
        </div>
        <div class="timeline-content">
          <div class="timeline-card">
            <div class="changelog-time" id="2024.9.13">2024.9.13<a class="headerlink" href="#index-2024.9.13" title="Permanent link">¶</a></div>
            <div class="changelog-content">


                  <p><span class="changelog-type changelog-type-newart"></span> <a href="#thoughts-echo">📽️回声 —— 神经回路的沟壑间，绣满一座座纪念碑。</a></p>


            </div>
          </div>
        </div>
      </div>

      <div class="timeline-item">
        <div class="timeline-dot-wrapper">
          <div class="timeline-dot"></div>
        </div>
        <div class="timeline-content">
          <div class="timeline-card">
            <div class="changelog-time" id="2024.7.20">2024.7.20<a class="headerlink" href="#index-2024.7.20" title="Permanent link">¶</a></div>
            <div class="changelog-content">


                  <p><span class="changelog-type changelog-type-newpage"></span> <a href="#notes-ctf">CTF 笔记堂堂完结</a></p>


            </div>
          </div>
        </div>
      </div>

      <div class="timeline-item">
        <div class="timeline-dot-wrapper">
          <div class="timeline-dot"></div>
        </div>
        <div class="timeline-content">
          <div class="timeline-card">
            <div class="changelog-time" id="2024.5.11">2024.5.11<a class="headerlink" href="#index-2024.5.11" title="Permanent link">¶</a></div>
            <div class="changelog-content">


                  <p><span class="changelog-type changelog-type-function"></span> 添加了一些插件</p>


            </div>
          </div>
        </div>
      </div>

      <div class="timeline-item">
        <div class="timeline-dot-wrapper">
          <div class="timeline-dot"></div>
        </div>
        <div class="timeline-content">
          <div class="timeline-card">
            <div class="changelog-time" id="2024.4.18">2024.4.18<a class="headerlink" href="#index-2024.4.18" title="Permanent link">¶</a></div>
            <div class="changelog-content">


                  <p><span class="changelog-type changelog-type-newart"></span> <a href="#stories-curse">🌼诅咒 —— 斟满一朵花的眼泪。</a></p>


            </div>
          </div>
        </div>
      </div>

      <div class="timeline-item">
        <div class="timeline-dot-wrapper">
          <div class="timeline-dot"></div>
        </div>
        <div class="timeline-content">
          <div class="timeline-card">
            <div class="changelog-time" id="2024.3.3">2024.3.3<a class="headerlink" href="#index-2024.3.3" title="Permanent link">¶</a></div>
            <div class="changelog-content">


                  <p><span class="changelog-type changelog-type-newpage"></span> <a href="#casual">🛜更新博客界面</a></p>


            </div>
          </div>
        </div>
      </div>

      <div class="timeline-item">
        <div class="timeline-dot-wrapper">
          <div class="timeline-dot"></div>
        </div>
        <div class="timeline-content">
          <div class="timeline-card">
            <div class="changelog-time" id="2024.2.27">2024.2.27<a class="headerlink" href="#index-2024.2.27" title="Permanent link">¶</a></div>
            <div class="changelog-content">


                  <p><span class="changelog-type changelog-type-newpage"></span> <a href="#notes">📚添加了一堆笔记</a></p>


            </div>
          </div>
        </div>
      </div>

      <div class="timeline-item">
        <div class="timeline-dot-wrapper">
          <div class="timeline-dot"></div>
        </div>
        <div class="timeline-content">
          <div class="timeline-card">
            <div class="changelog-time" id="2024.2.19">2024.2.19<a class="headerlink" href="#index-2024.2.19" title="Permanent link">¶</a></div>
            <div class="changelog-content">


                  <p><span class="changelog-type changelog-type-newpage"></span> <a href="#others-summer_idle">☀完成暑假指南</a></p>


            </div>
          </div>
        </div>
      </div>

      <div class="timeline-item">
        <div class="timeline-dot-wrapper">
          <div class="timeline-dot"></div>
        </div>
        <div class="timeline-content">
          <div class="timeline-card">
            <div class="changelog-time" id="2024.1.23">2024.1.23<a class="headerlink" href="#index-2024.1.23" title="Permanent link">¶</a></div>
            <div class="changelog-content">


                  <p><span class="changelog-type changelog-type-function"></span> 新增了酷酷的字体</p>


            </div>
          </div>
        </div>
      </div>

      <div class="timeline-item">
        <div class="timeline-dot-wrapper">
          <div class="timeline-dot"></div>
        </div>
        <div class="timeline-content">
          <div class="timeline-card">
            <div class="changelog-time" id="2024.1.20">2024.1.20<a class="headerlink" href="#index-2024.1.20" title="Permanent link">¶</a></div>
            <div class="changelog-content">


                  <p><span class="changelog-type changelog-type-newpage"></span> <a href="#notes-computerscience-cs61a">添加 CS61A 笔记</a></p>


            </div>
          </div>
        </div>
      </div>

      <div class="timeline-item">
        <div class="timeline-dot-wrapper">
          <div class="timeline-dot"></div>
        </div>
        <div class="timeline-content">
          <div class="timeline-card">
            <div class="changelog-time" id="2024.1.15">2024.1.15<a class="headerlink" href="#index-2024.1.15" title="Permanent link">¶</a></div>
            <div class="changelog-content">


                  <p><span class="changelog-type changelog-type-newpage"></span> <a href="#others-final">📝新增年终总结</a></p>


            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
  </div>

<hr />
<h3 id="index-2023">2023<a class="headerlink" href="#index-2023" title="Permanent link">&para;</a></h3>
<div style="position: relative">
  <div class="timeline-wrapper">
    <div class="timeline">

      <div class="timeline-item">
        <div class="timeline-dot-wrapper">
          <div class="timeline-dot"></div>
        </div>
        <div class="timeline-content">
          <div class="timeline-card">
            <div class="changelog-time" id="2023.11.16">2023.11.16<a class="headerlink" href="#index-2023.11.16" title="Permanent link">¶</a></div>
            <div class="changelog-content">


                  <p><span class="changelog-type changelog-type-function"></span> 更新了一大堆玩意，比如这个记录，网页图标，以及目录形式。</p>


            </div>
          </div>
        </div>
      </div>

      <div class="timeline-item">
        <div class="timeline-dot-wrapper">
          <div class="timeline-dot"></div>
        </div>
        <div class="timeline-content">
          <div class="timeline-card">
            <div class="changelog-time" id="2023.10.15">2023.10.15<a class="headerlink" href="#index-2023.10.15" title="Permanent link">¶</a></div>
            <div class="changelog-content">


                  <p><span class="changelog-type changelog-type-newart"></span> <a href="#thoughts-gaut">🦶痛风 —— “须知参差多态，乃是幸福的本源。”</a></p>


            </div>
          </div>
        </div>
      </div>

      <div class="timeline-item">
        <div class="timeline-dot-wrapper">
          <div class="timeline-dot"></div>
        </div>
        <div class="timeline-content">
          <div class="timeline-card">
            <div class="changelog-time" id="2023.9.14">2023.9.14<a class="headerlink" href="#index-2023.9.14" title="Permanent link">¶</a></div>
            <div class="changelog-content">


                  <p><span class="changelog-type changelog-type-newart"></span> <a href="#thoughts-homesick">👨‍👩‍👧‍👦故乡 —— 今夜我陪你化成灰。</a></p>


            </div>
          </div>
        </div>
      </div>

      <div class="timeline-item">
        <div class="timeline-dot-wrapper">
          <div class="timeline-dot"></div>
        </div>
        <div class="timeline-content">
          <div class="timeline-card">
            <div class="changelog-time" id="2023.7.5">2023.7.5<a class="headerlink" href="#index-2023.7.5" title="Permanent link">¶</a></div>
            <div class="changelog-content">


                  <p><span class="changelog-type changelog-type-newart"></span> <a href="#stories-justice">👮‍正义 —— 对，对吗？</a></p>


            </div>
          </div>
        </div>
      </div>

      <div class="timeline-item">
        <div class="timeline-dot-wrapper">
          <div class="timeline-dot"></div>
        </div>
        <div class="timeline-content">
          <div class="timeline-card">
            <div class="changelog-time" id="2023.4.6">2023.4.6<a class="headerlink" href="#index-2023.4.6" title="Permanent link">¶</a></div>
            <div class="changelog-content">


                  <p><span class="changelog-type changelog-type-newart"></span> <a href="#stories-fool">🎴愚者 —— 看看你的幽默感</a></p>


            </div>
          </div>
        </div>
      </div>

      <div class="timeline-item">
        <div class="timeline-dot-wrapper">
          <div class="timeline-dot"></div>
        </div>
        <div class="timeline-content">
          <div class="timeline-card">
            <div class="changelog-time" id="2023.2.3">2023.2.3<a class="headerlink" href="#index-2023.2.3" title="Permanent link">¶</a></div>
            <div class="changelog-content">


                  <p><span class="changelog-type changelog-type-newart"></span> <a href="#thoughts-gut">🐏羊杂 —— 能写死董卓乎？</a></p>


            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
  </div>

<hr />
<h3 id="index-2022">2022<a class="headerlink" href="#index-2022" title="Permanent link">&para;</a></h3>
<div style="position: relative">
  <div class="timeline-wrapper">
    <div class="timeline">

      <div class="timeline-item">
        <div class="timeline-dot-wrapper">
          <div class="timeline-dot"></div>
        </div>
        <div class="timeline-content">
          <div class="timeline-card">
            <div class="changelog-time" id="2022.12.4">2022.12.4<a class="headerlink" href="#index-2022.12.4" title="Permanent link">¶</a></div>
            <div class="changelog-content">


                  <p><span class="changelog-type changelog-type-newart"></span> <a href="#stories-pepper">🌶️花椒 —— 人道主义之母德洛莉丝·黛，希望你的思想不会着凉。</a></p>


            </div>
          </div>
        </div>
      </div>

      <div class="timeline-item">
        <div class="timeline-dot-wrapper">
          <div class="timeline-dot"></div>
        </div>
        <div class="timeline-content">
          <div class="timeline-card">
            <div class="changelog-time" id="2022.10.29">2022.10.29<a class="headerlink" href="#index-2022.10.29" title="Permanent link">¶</a></div>
            <div class="changelog-content">


                  <p><span class="changelog-type changelog-type-newart"></span> <a href="#thoughts-fortune">🪙富贵 —— 无意义的念想们。</a></p>


            </div>
          </div>
        </div>
      </div>

      <div class="timeline-item">
        <div class="timeline-dot-wrapper">
          <div class="timeline-dot"></div>
        </div>
        <div class="timeline-content">
          <div class="timeline-card">
            <div class="changelog-time" id="2022.9.20">2022.9.20<a class="headerlink" href="#index-2022.9.20" title="Permanent link">¶</a></div>
            <div class="changelog-content">


                  <p><span class="changelog-type changelog-type-newart"></span> <a href="#stories-protein">🏴蛋白 —— 如何妥协</a></p>


            </div>
          </div>
        </div>
      </div>

      <div class="timeline-item">
        <div class="timeline-dot-wrapper">
          <div class="timeline-dot"></div>
        </div>
        <div class="timeline-content">
          <div class="timeline-card">
            <div class="changelog-time" id="2022.8.25">2022.8.25<a class="headerlink" href="#index-2022.8.25" title="Permanent link">¶</a></div>
            <div class="changelog-content">


                  <p><span class="changelog-type changelog-type-newart"></span> <a href="#stories-vanishment">🌤烟消 —— 我不知道她是谁。</a></p>


            </div>
          </div>
        </div>
      </div>

      <div class="timeline-item">
        <div class="timeline-dot-wrapper">
          <div class="timeline-dot"></div>
        </div>
        <div class="timeline-content">
          <div class="timeline-card">
            <div class="changelog-time" id="2022.5.4">2022.5.4<a class="headerlink" href="#index-2022.5.4" title="Permanent link">¶</a></div>
            <div class="changelog-content">


                  <p><span class="changelog-type changelog-type-newart"></span> <a href="#thoughts-unspoken">🔕希音 —— 为什么？</a></p>


            </div>
          </div>
        </div>
      </div>

      <div class="timeline-item">
        <div class="timeline-dot-wrapper">
          <div class="timeline-dot"></div>
        </div>
        <div class="timeline-content">
          <div class="timeline-card">
            <div class="changelog-time" id="2022.1.29">2022.1.29<a class="headerlink" href="#index-2022.1.29" title="Permanent link">¶</a></div>
            <div class="changelog-content">


                  <p><span class="changelog-type changelog-type-newart"></span> <a href="#stories-newcar">🚗新车 —— “红色象征着热情，奔放，以及速度。”</a></p>


            </div>
          </div>
        </div>
      </div>

      <div class="timeline-item">
        <div class="timeline-dot-wrapper">
          <div class="timeline-dot"></div>
        </div>
        <div class="timeline-content">
          <div class="timeline-card">
            <div class="changelog-time" id="2022.1.23">2022.1.23<a class="headerlink" href="#index-2022.1.23" title="Permanent link">¶</a></div>
            <div class="changelog-content">


                  <p><span class="changelog-type changelog-type-newart"></span> <a href="#stories-gunpowdersmoke">🌫️硝烟 —— “在无比刺鼻的气味将要摧毁他的瞬间，她的名字渐渐显现。”</a></p>


            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
  </div>

<hr />
<h3 id="index-2021">2021<a class="headerlink" href="#index-2021" title="Permanent link">&para;</a></h3>
<div style="position: relative">
  <div class="timeline-wrapper">
    <div class="timeline">

      <div class="timeline-item">
        <div class="timeline-dot-wrapper">
          <div class="timeline-dot"></div>
        </div>
        <div class="timeline-content">
          <div class="timeline-card">
            <div class="changelog-time" id="2021.2.16">2021.2.16<a class="headerlink" href="#index-2021.2.16" title="Permanent link">¶</a></div>
            <div class="changelog-content">


                  <p><span class="changelog-type changelog-type-newart"></span> <a href="#stories-weapon">🔫尺兵 —— 那一天是个雨天，天上飘的全是雨点。</a></p>


            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
  </div>

<hr />
<h3 id="index-2020">2020<a class="headerlink" href="#index-2020" title="Permanent link">&para;</a></h3>
<div style="position: relative">
  <div class="timeline-wrapper">
    <div class="timeline">

      <div class="timeline-item">
        <div class="timeline-dot-wrapper">
          <div class="timeline-dot"></div>
        </div>
        <div class="timeline-content">
          <div class="timeline-card">
            <div class="changelog-time" id="2020.10.24">2020.10.24<a class="headerlink" href="#index-2020.10.24" title="Permanent link">¶</a></div>
            <div class="changelog-content">


                  <p><span class="changelog-type changelog-type-newart"></span> <a href="#stories-mice">🐀老鼠 —— “理想主义者，不应归属于老鼠之列。”</a></p>


            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
  </div>

<hr />
<div class="admonition 特别鸣谢">
<p class="admonition-title">特别鸣谢</p>
<p><a href="https://github.com/TonyCrane"><strong>@TonyCrane</strong></a> <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg></span><br />
记录样式与数据统计来自 TonyCrane 老师的 <a href="https://github.com/TonyCrane/mkdocs-changelog-plugin">changelog</a> &amp; <a href="https://github.com/TonyCrane/mkdocs-statistics-plugin">statistics</a><br />
<a href="https://github.com/HobbitQia/"><strong>@HobbitQia</strong></a> <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg></span><br />
几乎是照抄了大 Q 老师对 changelog 的配置和一众扩展。大 Q 是超级好的学长！</p>
</div></section>
                    <section class='print-page md-section' id='section-2' heading-number='2'>
                        <h1>小说<a class='headerlink' href='#section-2' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="stories" heading-number="2.1"><h1 id="stories-_1">小说<a class="headerlink" href="#stories-_1" title="Permanent link">&para;</a></h1>
<blockquote>
<p>"One must never place a loaded rifle on the stage if it isn’t going to go off."<br />
-- Chekhov</p>
</blockquote>
<p>{{ pagetree(subtree) }}</p></section><section class="print-page" id="stories-g30" heading-number="2.2"><h1 id="stories-g30-_1">连霍<a class="headerlink" href="#stories-g30-_1" title="Permanent link">&para;</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 4529 个字 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 13 分钟</p>
</div>
<p>随意撷一张全国地图来，你都能一眼发现贯穿国土的那把利刃。纵横出鞘，笔走龙蛇，连霍高速桥接西北与东南，为国土见血封喉。  </p>
<p>在这无数行者旅人寓居的享誉“全国最长高速公路”的柏油长城上，除去服务区休息时热情拉家常交换目的地的胡子拉碴鬓角泛白带着一股羊肉味的西北大叔、身心俱疲眼袋鼓包却心怀崇高自豪之情于是下定决心日夜奔波欢送孩子上大学的小镇做题家父母、见识短浅却被爸妈强令报了个夏令营从而满怀期待挤进大巴车步入江南繁华景象的塞北娃娃、文艺之心蓬勃而后呼朋引伴说走就走发动汽車期盼一睹所谓边塞风光的南方青年，还上演着无数悲欢离合动人心弦的传统故事——天灾人祸、妻离子散的震颤韵脚数不胜数，蟾宫折桂、归心似箭的温暖传说亦接踵而至。与这些生死大义、心心相印比起来，小到分子原子的引斥，中到传统文化与人文伦理，大到宇宙星体的更相减损，都无法在这条绣起山川平原洼地沙丘的公路上占据一席之地——上不了台面啊！</p>
<p>与此相比，反而是远在公路开工之前的八个月，即1992年4月开工建设的西兴高速（西安——兴平高速公路）更富有纪念意义。在秦腔与肉夹馍泛滥，形状酷似英吉利的省份中，这段仅有27km长的公路端端盘踞连霍高速的中点，更扮演着全国土地的地理咽喉，而陕西省政府罔顾这一地理优势，固执愚忠地将这条公路命名为<span class="arithmatex">\(G30_{23}\)</span>，屈居连霍的威名麾下——不过，这都是之后的事，在千禧年尚未到来而西兴高速即将揭开帷幕的那个盛夏，在距西安市未央区（起点）约10公里的刘家镇中，得知高速公路将要横跨家中荒废多年的田野从而一蹦三尺高的刘国鹏胡子拉碴，笑靥如花，立刻撂下手中活计，踩着三轮直奔几里外的县城筹办购车事务。那是丰田与桑塔纳分庭抗礼的时代，刘国鹏兴高采烈，豪掷千金，在一系列客观上繁琐恼人主观上无可厚非的手续过后，开回一辆迷你可爱却马达强劲的上海大众POLO，纯白色，审美前卫大胆，好车啊，好车。</p>
<p>多年以后，当刘云和屠警官看着眼前连霍高速上鬼火般游移经过的车灯时，他将会想起父亲刚买下POLO的那一天，那是朴树的《我去2000年》尚未发行的年代。万事万物精彩绝伦，蒸腾炮制生息与色彩，恰如二十年后这张专辑在各大音乐软件评论区中怀古伤今的热评所呈现一般。屠警官点起根烟，狠狠捏着烟柄，哦，无踪无迹，还能直接失踪的，我是没碰过这样的案子。刘云嚼着嘴唇干裂的死皮，瞳孔被璀璨的车灯映得斑驳，嗯，嗯，确实。警官没绷住，你哑巴了？抽一口烟，又说，再说说你为什么要跟着我来，你俩是咋认识的？刘云张了张嘴，向大脑请求回忆，大脑却返回 403 Forbidden：他和她相遇之前与之后所发生的所有事，将会，且已经，如同烤鱼肚皮底下埋藏的豆花，永远葬在本篇作品的骨髓下，而他的记忆并没有读写的权限。屠警官摇了摇头，转身走下土坡，火星子被黑暗掐得越来越小，就像逝去的时间。刘云一激灵，鸡皮疙瘩泛了半身。几天后，屠警官打来电话，初步鉴定为意外，不过题外话，监控查到了现场一辆POLO，居然是你家的那辆，这是怎么个事。刘云捏着手机，质问父亲，父亲挠挠脑袋，额，前几天是借给七号楼的癞头叔一次，他说要出去办点活，哈哈，别看他只有一个眼珠子，车技还是杠杠的。刘云立马挂了电话，披衣下楼，奔向七号楼，而连霍高速就卧在月夜安歌的背景板中，为他默默保佑，静静哀悼。这架雄踞世界中央的公路发出鼓动细胞的低鸣，如单曲循环的背景音乐，无止境地盘桓在他战栗的心底。</p>
<p>直到某一天，2010年2月21日，雅居乐花园内，新年开幕后浓重的烟火味尚未散去，雪地遍布硝与硫磺。夜间11点整，饱受肾结石折磨，不得不屡次翻身起夜喝水的刘云在厨房站定，他端起水杯，凑近嘴角，缓缓抬眼向窗外一瞥。在漫天垂死挣扎的雪花内，他看见来自上世纪的的气焰生生不息。12年前，这颗星球的另一侧，在以雄鹰为标志的国家内，七名风尘仆仆的宇航员饮着雪花走出返回舱，没再回头看过一眼。就在两天前，一步之遥的太空，他们刚刚为老掉牙的古董哈勃望远镜更新了一套设备，分光仪、红外照相机、摄谱仪轮番上阵。然而，后人永远也不会知晓的是，在那7名仅仅被认为是完成了常规执行任务的航天员背后，他们承载的使命似乎并没有那么普通。在那艘冠名为“发现”的航天飞船打开舱门的一刻起，隶属于科学组织“鸟语”的这几位中年人便笃定决心把住机会，以检修望远镜为契机，在哈勃表面部署一枚名为“无符号”（Unsigned）的伟大装置。三个月前，来自该神秘组织的数位物理学家——明面上也是享誉全球的物理学泰斗们，历经数年峥嵘研发，满怀激情地宣布，能使人免除死亡之忧的机械刚刚呱呱坠地。举组织欢庆，但亟待具体案例的证明。由此可见，科学家的严谨绝非凡人能比。此乃闲话，总之，呈炫酷球形的这一装置将会在部署后按指令就班，向寂寂无闻的宇宙四面八方播放动画片《小马宝莉：友谊的魔力》片头主题曲——你可能会问，在寂寂太空，失去分子振动的协鸣，一曲子供向动画的OP能又有何功用？当无符号的律动骤然响起，乐曲声出师未捷，而附于其中的引力波却探出嘶嘶蛇信，奔向太阳。不同于夸父，它成功抵达日冕——而片刻后被这颗可爱恒星放大数十万倍后，以精妙的角度反弹回地球。在太阳风的簇拥下，这一道身先士卒的引力波璨然降临地球，莅临于一座挑起中国国土的高速公路——Wait a minute. 数十位科学家面对着显示屏上呈现的幽默结果瞠目结舌——那道引力辐射本该呼应地球公转与自转的巧妙日历，精准降落在自家国土中精心选定的坐标，然而却背井离乡，不得善终。不过——他们又长舒一口气，考虑到引力波的神必性质，这颗蓝星表面与内部的一切劳什子玩意都阻隔不了它的铁蹄，既无法削弱，又无法偏移。于是，只需静候佳音。而他们端坐在观测台前等啊等，三年，五年，十年，黄花菜都凉了，也从未接收到那道来自另一时间线的扰动。他们心灰意冷，作鸟兽散，自杀的自杀，回归生活的回归生活。与此同时，哈勃望远镜沐浴在群星的茫茫视野中，天真地反着光。在它冷峻清晰的目光中，那道引力波的去向水落石出——在抵达G30上空的那个夜晚，伟大的高速公路慧眼识珠而勇武无双，以无穷魄力将这道危险而未知的信号精确无疑地锁定在地表上方五千零五十米的高空。</p>
<p>而很久很久以后，已经毗邻这个故事结局的时刻，面对乌鞘岭隧道，刘云再次，也是最后一次回忆起，癞头带他去见识“无符号”原型的那个遥远的下午。夕阳欲沉，伤痛万分。刘云沉默不语，而癞头坐在破旧的原型机后，语重心长，津津乐道，将这台可怜机器与可怜自己的前世今生讲了个痛快，末了，加上一句，现在可能也算是成功了。刘云直接急了，成功你*。癞头嚼一口烂牙，咂巴两口，独眼眨巴着，确实，其实我后来去过事发现场的周围，比你们警官去的早，但是结果都一样，没见到她，无论是死是活都没见到，纯粹凭空蒸发，这样看，倒也不能算成功。</p>
<p>我要去见她，刘云瞪圆眼珠子，眼神挤兑着癞头布满皱纹的脸。</p>
<p>。？癞头迟疑了两秒，你的意思是？</p>
<p>你把我也杀了，刘云说。我和警官上连霍边上那天晚上，我感觉辐射也往我身子里辐射了一点。</p>
<p>一来，不要用“也”，不是我杀的她，只是残部多年来的计算显示了引力波的去处，我碰碰运气开到那里，她翻下坡去了；二来，我们确实给引力波设计了多个人的剂量，但是十二年，无论什么样的波，还能活下来的也是神波了；三来，即便是你也被影响了，你也不大可能能再见到她，考虑到她现在究竟在哪个位置，甚至说，在哪个*维度*，我们还活着的组织成员都对这道波没什么希望了，还不老不死呢，哈哈哈，她的遗体被什么小动物叼走，这可能性都她妈更大；四来，也是最重要的一点，你他妈脑子是不是有病？你就见过她一次吧？这是啥干呢？一见钟情也有个度吧，成他妈一键殉情了？</p>
<p>诚然，在外人，或者说，随便拉个普通人看来，刘云的想法已经处在最逆天，最无法解释的那一等级。甚至于，若有哪个不长脑子的作者，敢在自己的小说里派遣故事人物践行这个想法，都该被钉上剧情需要的耻辱柱吧。但是，<strong>Brother</strong>，我请你驻足此处，就在这一行，细细思量，倘若说，这并不是文艺领域的无端创作，不是什么脑子一热的虚构玩笑，而是真真切切存在这么一个组织，这样一台装置，这么一道声波，就在光天化日的现实中，在你每天睡过早八翘掉晚课的平凡日常中，在太阳变作方形，小动物说起人话，天上下起巧克力雨的这条世界线中呢？毕竟，连霍高速确实存在，小马宝莉也并非虚构，这样便有两条佐证了。剩下的论证就交给你了，而被赶出门，默默走回家的刘云脑海中进行的激烈论证是这样的：既然这一系列荒诞不经，耸人听闻的物什都真正存在，那我又有什么理由否认会在，且应该在另一个宇宙的另一个世界线与她重逢？</p>
<p>距该论证成立的一两年前，刘家镇成为全中国最最伟大城市的一隅城中村时，四周早已围起高楼大厦，沃尔玛与万达广场交相辉映，肯德基伙同飞鸿肉夹馍飘香万里。刘国鹏家喜提拆迁福利，堪堪拿到一小区三室两厅两卫的门钥匙。而美中不足，此名为雅居乐花园的庞然小区有着唯一的缺点：毗邻连霍高速。幸亏隔音效果极好，川流不息，轰隆哐啷，愣是没有叨扰到雅居乐花园5号楼505室卧室中书桌前面对一道圆锥曲线题目发怵的刘云。此时气温默然不语，偷偷降低，这实则昭示着寒露的来临。寒露过三朝，过水要寻桥，在一两年年后的同一个节气内，童心未泯，不信玩火尿床而在刘家村口烧完野火的刘云正打道回府，顺路站在一架卖烤苕皮的三轮車旁，要了一份烤苕皮，多加洋葱。与此同时，在同一小区的不同幢楼中，客厅内，一对夫妻正践行家庭暴力，吵得天翻地覆，如逐渐上紧的琴弦，不幸的开端。女儿缩在自己房间的墙角，瑟瑟发抖，于是第一次离家出走，直到经过一家烤苕皮的摊位时，与一个单调而可怜的高中生对视了一眼。直到四个月后，琴弦绷断，走火入魔的妻子将水果刀捅进丈夫的胸膛，歇斯底里地大笑。而电视台中，载歌载舞的电视节目其乐融融，播报着新年的到来。这是新世纪的头十年，是千禧年黄金开头收束的尾巴尖，全人类相亲相爱，坚定信念着将在21世纪达成世界和平与共产主义，这也是科技与活力沸腾饱满的时刻，人们将怀揣沉甸甸的心脏，迎来世博会与iPhone4，欢庆嫦娥二号和云母逼。世界线乐得发颤，人民群众欢歌笑语，刘国鹏家庭美满，<a href="#stories-justice">屠警官</a>升职加薪，而那女孩逃出疯狂可怖残破不堪的家庭，掐着几个月来割腕留下的伤疤，笃定决心结束自己可悲的生命。她冲出单元门，跑向连霍。而刘云恰好从同学家串门回来，关上的单元门背后跑过一个单薄的身影。真可惜，这本该是他们<strong>第二次</strong>相见。</p>
<p>即便是再强大的存在也终有衰落的一刻，两小时后，连霍高速不堪车水马龙，柏油软化，而幽幽作响的不死电波蠢蠢欲动，终于挣开公路设置的枷锁，天雷般轰开空气，堪堪砸中了连霍高速上应急车道护栏边一位踌躇而坚定的女孩，横纵波鼓瑟吹笙，使其震颤，跪倒。女孩慌不择路，打算原路逃回，而不巧的是，一辆POLO迎面驶来，灯光同车身一般惨白，女孩颤抖起身，却一脚踏空，滚下土坡，头颅被一块面包大的石头撞得粉碎。而引力波吹着令人两腿发软的哀歌，瞬间扼断了女孩的呼吸——直到她重新睁开眼睛。哀恸的吐息淹没整座麦积山，顺势南下，将西安变作雅丹。与此同时，刘云平稳的内心倏然弹跳一瞬，此后几天，他再无安稳睡眠，日夜试图在三个小时内睡够八个小时，直到新闻报道传来同小区的一个女孩失踪的消息，刘云盯着电视屏幕上她陌生的名字陌生的容貌，却熟悉无比。初步调查现场将在今晚进行，由警局新秀屠警官带领。刘云记下联系方式，快步向警察局走去。</p>
<p>几天后，2010年2月21日，透过那遮目风雪，刘云看到一个人在柏油马路上走着。这条路上没什么車，雪与冰冻僵的公路尚未被汽車解封，致使地面光滑无比。那个人穿着长长的羽绒服避寒，放低胯，迈出每一步都绷紧露出的那截小腿，蹒跚地在冰上踏出一道薄薄的脚印。刘云撇了撇嘴，皱了皱眉，差点憋出人生最后一滴泪。他套上件棉衣，没带手机和钥匙就开门下了楼，并在电梯里回避墙壁上来自自己审慎的目光。他推开大门，满面风雪，长途跋涉，小心翼翼，亦步亦趋，归心似箭。他怒发冲冠，乐不可支，无限悲伤，东施效颦，学先前那人的步调，缓缓走向7号楼，位置已经烂熟如麻。他站到单元门口，癞头翘着独眼瞪向他，满怀敌意。他再叙来意，癞头掐灭烟头，无语点头，不出刘云所料地伸手探进腌臜的衣兜。风暴px4，或者是ppk，或者是一块砖头，<a href="https://shrike505.cc/Goddess/docs/Dagger.html">一柄刺入群星的短剑</a>，一串火药炮仗，一本民法典，一根针，一封谎话，一句誓言，举起后，乌鞘岭隧道瞪开黝黑的眼眸，注视着你。  </p>
<p>你闭上眼，一阵巨响，紧跟一段寂静，有些像是老式电视机发出的低声尖啸，有电流脉冲的感觉。你睁开眼，癞头与身周一切布景只泛起黑白摇晃的光彩，如宇宙的痉挛。  </p>
<p>你心脏一动，转过头来，她缄默浑身，此时此刻，<a href="#stories-pepper">她就站在你面前</a>。</p>
<p><strong>2024年10月</strong></p></section><section class="print-page" id="stories-curse" heading-number="2.3"><h1 id="stories-curse-_1">诅咒<a class="headerlink" href="#stories-curse-_1" title="Permanent link">&para;</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 2130 个字 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 6 分钟</p>
</div>
<p>在世界上最偏僻最遥远的土壤上，在大海另一边未曾有人探险过陆地深处，在所有国家的所有国土都尚且无法染指的地脉中央，矗立着一座世上最高最大的山。很久很久以前，航船的水手们远望硕大的阴影，不信邪地端出司南，抛下指南鱼，指向却飘忽不定，而影子冒出水面，将船体撕扯成碎片。船员的尸体炙手可热，使周边水域的鱼类发展蓬勃，只只牙尖爪利。 </p>
<p>许多年后，国王差遣的军队终究前来探明这片地图上的未知一隅。在准备登山的前夕，在悠然恬静的海岸边，他们扎营休息。夜间，繁星四现，微风荡漾，国王起夜至海边，身边只带了最亲近的侍从两位。在波光粼粼的海面中，国王隐约看见水中暗流脉动，大的惊人的某种鱼类呈圈形队列整齐游动，仿佛在进行某种可怜的祭祀。国王看的入迷，隐约看见一块三角形物体从深处升浮而来。他向前一步，两只脚踝没入月光般冰凉的海水，脚底是经过千百年地壳演化而形成的沙砾。他两眼噙泪，捡起那物块，软不拉几还有点粘手，外表包裹的植物叶子已被咬掉一半，连带着半块黑乎乎的饭团。月光和星光共同洒在剩下的半块饭上，国王眯起眼睛，看到虾米与海藻匍匐黏连，霉菌与渣滓穿行其间。正欲丢掉，风力突然增大，令他发自骨髓间一抖擞，手一用劲，掐断了这截剩饭，微微一抖，指尖尚还黏着一张字条，他凑近眼珠子，其上用某种墨水歪歪扭扭写着：你将死于此山之下。国王一怔，随即如有神助，侧过脑袋，一簇淬毒的箭矢掠过发梢，深深没入沙地。</p>
<p>而与此同时，在那座山最高最深的顶峰，那片风雪缭绕，万籁俱寂的低真空，盛放着一朵浅紫色的花。五瓣花瓣，三根花蕊。————这是道听途说的消息。若干年前，隐姓埋名，携手妄闯世界的一对恋人路过此地，扎营海岸，恰巧瞥见海岸渔船空空如也的躯壳与膀大腰圆貌可食人的鱼群。他们被吓了一跳，便采集岸边芦苇叶，裹上随身自带的糯米饭蒸熟，香气四溢，却被不识好歹地丢进大海，以希求海底早已腐烂的血肉保持完整。多年后，父母葬身于此，孩子长大，四肢细如麻杆，弱不禁风，声音如干瘪的口香糖，吱呀刺耳，向每个命丧此地的亡灵重述这段记忆。那是火山灰尚且迷蒙的年代，某位国王挥刀率队，坚壁清野，将一对企图埋伏全军却未能得逞的野人击毙。野人之子衣不蔽体，摇晃着爬出洞穴，喊着叫爸爸妈妈。军士默然，一位将士抱起孩子，与一队士兵宣布：分道扬镳。国王怒不可遏，却趾高气扬，目送他们远去的背影，回头面对缄默耸立之山，集结剩余兵士，清了清嗓子，咳咳，正要开口，以重振前进之斗志，旋即被一枚落下的梨花斩断了脖颈。  </p>
<p>剩余的士兵们连夜狂奔，在几百公里外，山尖彻底消失于地平线之下的地界组成部落，日渐繁荣。野人之子吃着百家饭成长，却日夜不忘自己来时的方向。每当他问到，自己的父母去哪了，亦或是地平线之后是什么地方，收获的永远只是大人们幽怨而惊讳的眼神。直到若干年后，孩子下定决心，背上行囊，在众人复杂的目光中走向视野之外的高山。如今，如若你走向大山，那座塔楼便陡然出现。这不是拔地而起————那形容的无非目之所及建造高度之极————而是悚然横亘在视野中央的一座建筑。它仿佛与周身融为一体，躲入空气分子渺然的缝隙，在你尚未反应过来时，变作捅进你眼眶的一根筷子。是那瘦削如纸的孩子用谁也想不到的气力，花了谁也经受不住的时间，流出谁也流不完的血汗而建成的。  </p>
<p>孩子独临塔顶，眼睑肿胀，舌齿萎靡，不小心抬起眼皮，将那座夺去父母生命的大山堪堪收入眼底。心脏激荡，精神昏厥，他几欲倒地，于是闭起眼睛，打算阖上帘布。而恍惚摇摆间，他微眯的眼睛最后一次投向山顶————在那风雪盘桓而寸草不生的巉岩上，赫然开出了一朵淡紫色的花儿。他颠倒头脑，眼前重又明晰，便眨巴着瞪大眼球，扒着窗沿向山顶望去————花消失了，如水汽蒸干。孩子回过头来，摇了摇头，躺回床上，强装镇定，企愿落入梦乡，忘却那朵————花，无视自然规律盛开在他干涸单调心田中的————花，令骄阳隐匿热与熵、令皎月遮蔽凉与辉的————花，令幽灵击鼓、恶魔吹笙、天使与婴孩念唱颂歌的————花，注视五十亿颗恒星更相减损，自生自灭，三百万摩尔质子合纵连横，泯灭众生的————花，使他成为他，你成为你，我成为我的那朵花。</p>
<p>他翻身而起，跃下塔楼，冲向那座崭新的国都，在众人惊异的眼神中，买下一堆零件与蓝图。几年后，大功告成，他拿起自制的望远镜，张眼望去，山顶仿佛向他走进几步，熟稔的淡紫色再度聚焦成像。他饱受鼓舞，继续投身机械工艺，连日伏案令他脊柱佝偻，视力下降，如一只苍老的蜥蜴。多年后，他举起第四代望远镜，更近一步，而花瓣如轻风中恋人摇摆的白皙手臂，第十三代时，他对着迷糊的映像慢慢数着，一片，两片，三片，四片，五片，一共五瓣花朵。第二十七代时，他几乎能看到细细密密的花蕊。第九十六代，三根花蕊清晰成像，他振臂高呼，手舞足蹈，一不小心踩在第六十三代上，头着地，砸碎了第四十七代，碎片扎进右眼，痛不欲生，而他麻木不闻，伸手捡出碎片，将沾着血的第九十五代缝上眼眶。第九十五加两百零二代，他看见一只不知好歹的蜜蜂攀上花瓣，还好被花瓣一震，化为了一阵粉尘。第九十五加九百七十五代，他看见她的液泡和高尔基体。第九十五加两千三百零六十四代，他看见她的内心，震颤，婆娑，如地核，如宇宙。第九十五加一万零五百零五代，他的房间与台阶，全然堆满了往昔的望远镜。我望而祛步，敲了敲塔壁，高处窗沿上投来一束异样的透过望远镜的目光，一段时间后，叮铃哐啷声逐渐清晰，满身玻璃碎片的老人怪物般爬行着接近。我连连后退，发现并非爬行，只是太过驼背。而我一定神，发现其左眼干瘪，如泄气的气球，原是右眼的位置被一根硕大的望远镜捅入。我强颜欢笑，给他倒了杯水，他颤抖接过，用瘆人的嗓音讲述属于他的历史。讲述后，我嗤之以鼻，认作笑谈，也不好再寒暄，于是打算就此作别。告别后，他佝偻着挪向楼梯。而我鬼使神差，福至心灵，轻轻拾起地上的一支望远镜————这支还很小————怼上双眼，向四周望了望。直到林海密不透风的顶端露出的一抹山峰上的浅紫恰好溜进眼底。</p>
<p><strong>2024年4月</strong></p></section><section class="print-page" id="stories-justice" heading-number="2.4"><h1 id="stories-justice-_1">正义<a class="headerlink" href="#stories-justice-_1" title="Permanent link">&para;</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 2527 个字 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 7 分钟</p>
</div>
<p>屠警官把那张纸凑得可近，眯起眼睛仔细盯着那个男孩无辜的眼神。他用右手抓着头皮，一不小心把头发间的脂溢性皮炎抠破了，疼痛传来，登时他的眼皮痉挛了一瞬。</p>
<p>纸上记下了男孩的名字——简短无力，在警官的大脑中过了一瞬就消失了；年龄却很清楚：18。恰好在成人时进来了，屠警官心底起来一阵无名之火，特别是他又想到了自己那个不学无术的儿子，谁知道这兔崽子以后会不会成这样？警官愤愤地把脓血抹在裤子上，抬头一看路，到了：吴警官倚在办公室门口，抱着胳膊斜着眼看他。</p>
<p>“一个没啥大事，回家休养去了；另一个就差不多玩完了，正躺医院里呢。”吴警官叹气，依然斜着眼，似乎在等着看他的回答。屠警官避开他歪斜的眼神：“嚯，还挑软柿子捏……”</p>
<p>“恰恰相反，进医院的那个一身肌肉，明显要比另一个强很多，不知道这小子怎么敢出手的。”</p>
<p>“你这么一说，更让我好奇的是，那体格强的怎么直接被打进医院了？这小孩是练家子？”</p>
<p>“老屠，可别损了。刚和他老师家长聊过，”吴警官揉了揉因疲倦而干涩的眼睛，掏出腋下夹着的笔记本，“一中等生，每次大概都是年级一百多名。平常也是，额，怎么说，唯唯诺诺的那种性格吧，你看过照片，明显就是那种学校里没啥存在感的学生类型。”</p>
<p>“别急着定性，说不定人前人畜无害，人后阴狠残暴呐。”屠警官接过笔记本，嘿嘿地笑了一下，“这么说人家小孩是不是有点不太好？不过你也知道，这也是有可能滴。”</p>
<p>吴警官翻了个白眼：“去你当面跟他聊两句去，叫你来不就是看重你在青少年问题上的「崇高造诣」？”看着屠警官听着虚情假意的恭维，得意洋洋地翻着笔录，吴警官突然想到了什么：“噢，后来我们也查了一下那俩被打的小孩，一个学校的，比他还低一届。不过那两个是真混混，天天酒吧舞那种。”</p>
<p>屠警官被吴警官的谐音笑话逗乐了，随即恢复了严肃：“所以这是啥，‘平庸学生痛击不良少年’？反正我上学那会是绝对不敢招惹这种不良，还是这种又壮又混的。”他继续翻着笔记本，“而且我那个时代，这种平常没啥脾气的学生肯定是被狠狠霸凌的对象，”他嘿嘿一笑，“看来这小子的班级地位要提高不少。”</p>
<p>吴警官的眼白把眼黑驱逐出境：“所以怎么解释他惊人的战斗力？你读完就赶紧进去问问好不好？”</p>
<p>屠警官赔了赔笑，眼角的皱纹扭成一朵麻花，随即被眼神中流出的悍然杀气抚平。吴警官接过文件和笔录，满意地看着他慢慢推开看守室的门：老屠终于要开始工作了。</p>
<p>顷刻后，他听到一声咆哮，老练如他也不禁一颤：“老吴！你个杀千刀的把灯调这么暗干啥！”他缓缓探出头，对着幽暗灯光下的屠警官说：“不是我，他自己要求的。”</p>
<p>屠警官一愣，随即恢复了严峻的神态，朝他一挥手，说，我知道了，把门带上吧。吴警官点点头，阖上门。</p>
<p>那学生被刚刚的一番动静弄得清醒了一瞬，门关上的一瞬间又把眼睛眯了起来，宛若游离在另一个维度。屠警官在这个维度轻柔地拉开椅子，坐在他的对面。</p>
<p>“晚饭吃了没？我这有糖。”屠警官变魔术般掏出两颗椰子糖，一颗放在学生面前，自己打开另一颗嚼吧起来。</p>
<p>“你比刚刚那个警察厉害——他根本不敢面对我。”学生边撕糖纸边说，他的声音像刚射出一支箭的弓弩一样乏力。屠警官一愣，撇了撇嘴：“我和他搭档五年，没见他怕过什么。”学生摇了摇头，畏缩着的脸藏在灯光照不到的地方：“他不是怕，只是诧异，很诧异。”</p>
<p>屠警官几不可察地瞄了一眼手腕上的表盘，屏幕上，吴警官点了点头，眼神深邃。屠警官挑了挑眉：“我既不诧异，也不害怕。我身上也有点肌肉，你要是也想在这把我送进医院，可没那么轻松——并且，算是袭警，想想你的前程，孩子。”他顿了顿，“我就问一个问题，你是怎么做到的？他那身材，得来五个你才能打倒吧？”</p>
<p>学生的声音突然沉下去几分，像是被捏在手心的飞蛾尖锐的叫声：“你和其他警察不一样，只有你想知道我为什么要打倒那个畜牲……”</p>
<p>屠警官心中点了点头，方向对了，其次也多了一份疑惑，“畜牲”？便开口问：“你和那个谁认识，就那个，被你打的那两个？”</p>
<p>学生含着糖摇了摇头——在这一刹那，警官看到他眼中的泪水，被暗淡的灯揉碎成一团影子，他便起身找到开关，把灯调亮了一点。男孩没有拒绝。</p>
<p>屠警官坐下，这才看清了男孩的样貌：和文件上的二寸照片没有差别，寸头，圆脸，颊上冒着几颗青春痘，眼睑因长期辛劳泛起黑圈，佐之以硕果累累的眼袋。他两手缩在袖筒里，一颗头颅镶嵌入肩胛骨的空隙，看上去像一筐刚打包好的水果。</p>
<p>“你又不认识人家，咋就动手了——虽然这种混混我也看不惯，但实则不在正义的监管范围内。”屠警官腮帮子一抽一抽地嚼着糖，像个好奇发问的学生。</p>
<p>男孩沉默了许久，久到屠警官都以为他说不出原因了。这时他突然开口，嗓音苦涩而痛苦。</p>
<p>我第一眼见到她时，我就知道自己中招了。这并非一见钟情或是见色起意——那不过是茴的四种写法之二。好吧，就是见色起意。那时她在和同学聊天，言谈之间夹杂着她扬起的嘴角，就像<a href="https://shrike-505.github.io/stories/Pepper/">人道主义之母德洛莉丝·黛和耶哥蕊特</a>一样美好。她好像看到了我，目光转了一个角度投向我，如同看向一块墙角的石头。我慌乱地移开视线，心思却永远离不开她了。啊，我说的一些典故你可能……</p>
<p>噢，你都知道啊。但这又不是见色起意。自那天开始，我殷切打探到她的名字，却没有追问联系方式。我无心上课，成天对同桌念叨她的名字。同桌听得烦，催促我：“那你把人家加上不就完了。”我却不知为何坚决拒绝了。“可远观而不可亵玩”，是这么说的吧。但矛盾的我又开始幻想着，如果有一天我俩成了一对，我会和她坐在阳台上看着落日染红云霞，我会在夜晚和她窜进雨幕追逐徜徉，我能无拘无束地靠近她，沉溺在她如水般的目光里。</p>
<p>我暗自思忖，我要被这种臆想折磨疯了。可那天放学我去市场吃饭，情节如同玩笑般发展。两个小渣滓并排走在我前面，他们都比我高很多，我低着头沉浸在臆想里。我听见左边的那个，又高又壮，大声叫嚷：“……哎卧槽，那天整的那女的，真润！”“哪个哪个？”他兄弟像狗一样在旁边问着。</p>
<p>警官，你肯定猜到我当时是什么心情：我竖着耳朵，心里百般祈求不是她。可那人开口，她的名字像痰一样一口吐了出来。我听着他炫耀般的言语，眼前浮现的全是她的笑颜。我猛地就扑上去了，用了我活到现在全身积攒的全部力气狠下死手。他那兄弟吓得跳开了几米，然后冲上来拉开我的厮打，我死死瞪着他让他滚。紧接着就是你们的人来了。</p>
<p>警官，我心里明镜般地知道这不是正义，可你能告诉我，真正的正义究竟是什么样子？</p>
<p>屠警官沉默地低下头，分不清是在思考还是无奈。男孩倏然举起右手，以签订停战协议的气势用大拇指狠狠地摁在他低垂头颅上刚刚已受重创的脂溢性皮炎处。屠警官如遭到电击般抱头蜷缩，两脚一蹬地面，和椅子一齐倒塌。</p>
<p>吴警官惊悉这巨大声响，推门而入。男孩却迅速收回手，泥鳅般从他身侧冲了出去。他怔了一瞬，回头打算追上去，却听见屠警官撕心裂肺的嚎叫：“老吴，救救我！”他没有犹豫，快步到屠警官面前跪下。“你怎么了，老屠！”</p>
<p>老屠仰面朝天，死死盯着老吴慌张关切的表情，与从天花板投下的看似明亮实则昏沉的灯光。一个小小的脂溢性皮炎又怎会让警局最久负盛名的老牌警探颓然倒地？男孩又怎能逃脱同事的追捕？但他还是放他跑了。屠警官惨白的面孔上冒出一丝凄惶的微笑，他心里默念着，权当为了那微薄的正义。</p>
<p><strong>2023年7月</strong></p></section><section class="print-page" id="stories-fool" heading-number="2.5"><h1 id="stories-fool-_1">愚者<a class="headerlink" href="#stories-fool-_1" title="Permanent link">&para;</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 2838 个字 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 8 分钟</p>
</div>
<p>我印象里有好多文学作品，都乐于描写人物在寒冷的环境中思考的场面，并美其名曰“能够使思路明晰，精神专注”。写出这种文字的作者真该拖出去斩首，因为他肯定没有真正站在寒冷中思考过。</p>
<p>我有资格这么批判，因为我现在就站在瑟瑟寒风里——已逾三分钟。这三分钟里我非但没有感觉到思路明晰，反而感受到下丘脑疯狂地在大脑四周分泌了一圈激素护城河，把脑海里的东西全熬成一锅烂糊糊。</p>
<p>我抻抻外套的下摆，左右环顾。风虽然没有形状我却能看见它流体的骨骼。这骨骼噼啪作响，扑向西北小镇学校中教学楼墙角边站成一排的穿校服的小人们，把他们都冻成扑克牌上印刷的王子皇孙。噢，现在我才想起来我咋到这的。</p>
<p>事情的开端是这样的：有人在班里“打扑克”！——这是班主任的原话。具体是什么卡牌游戏我一开始还不知道——感觉不如炉石传说。总而言之，班主任火冒三丈，义愤填膺，大发雷霆。于是把这些人发配到瓜州——也就是楼门口。这里便出现一个问题，用以激发读者的阅读兴趣：</p>
<blockquote>
<p>8.文中的“我”没有参与打扑克，为什么会被流放瓜州？（6分）<br />
8.略。</p>
</blockquote>
<p>这答案看得读者破口大骂，于是作者不得不公开申明原委，原来事情是这样的：</p>
<blockquote>
<p>很久很久以前，有一片叫<a href="https://fimtale.com/">Equestria</a>（小马利亚/小马国）的神奇国度由两位皇室姐妹：宇宙公主和月亮公主共同治理，后来月亮公主变成邪恶的黑马—Nightmare Moon(梦魇之月/噩梦之月)。宇宙公主不得不使用Elements of Harmony（和谐之元/谐律精华）的将她囚禁在月球上，并同时承担日月交替的职责。但传说在一千年后白昼最长的这天群星将助她越狱，她将带来永恒的黑夜。</p>
</blockquote>
<p>然后这个黑夜就到来了，只听一名留着马尾辫的同学庄重地宣布：“天黑请闭眼。”于是在座的八九个同学便阖上双眼，匍匐于梦魇之月的统治！</p>
<p>——也就是著名桌游「狼人杀」的剧情——当然是我即兴创作的。总之我也在那七八个同学之中，正在进行这一盘火热朝天的游戏。我热血沸腾，志在千里，势必以燕雀之力抵鸿鹄之境！——随后就抽中一张平民牌。</p>
<blockquote>
<p>平民：是指没有任何技能的好人，负责跟着神职角色票出狼人。</p>
</blockquote>
<p>但我无惧羸弱的身躯、卑微的身份，海阔凭鱼跃，天高任鸟飞，必将以一己之力票送所有恶敌出局！——然后在第二天早晨就被票出局。</p>
<p>我抬头看看表，离上课还有五分钟，玩吧，玩似你们这些byd！我愤恨地看了看没把我救回来的b女巫和刀似我的b三狼。</p>
<blockquote>
<p>女巫：拥有两瓶药，解药可以救活一名当晚被狼人杀害的玩家，毒药可以毒杀一名玩家，女巫每天晚上最多使用一瓶药，女巫不可自救。</p>
<p>狼人：一般有3个玩家，每天夜里可以杀死一个人。</p>
</blockquote>
<p>我晃了晃脑袋，无奈地作无头苍蝇状离开教室，留下教室里热闹依旧却和我毫无瓜葛的游戏。随后，瑟索的寒风就把我送回来，我不得不穿上外套——寒风的胁迫是一个因素，更恐怖的原因是昨天去理发时，我把校服落在了理发店。我还记得校领导抓住没穿校服的同学，以黑白无常的气势喝令他回家的场面。因此套上外套后我就像一只套了狼皮的羊，没必要再担心被做成<a href="#thoughts-gut">羊杂</a>的危险。</p>
<p>有一个很擅长写小说的前辈曾经说过，如果故事的开幕出现了一把枪，那么它之后一定要发射出子弹。在此处本文便将要进行装弹的操作：我走到寒风肆虐的楼道里，咳嗽了两声。紧接着，我走出教学楼，在数十分钟后我即将站立的地方绕了一圈，宛如在提前蹲点。</p>
<blockquote>
<p>预言家：每天晚上可以查验一名玩家的身份是好人还是狼人。</p>
</blockquote>
<p>我至今也记不清自己为什么要在这里转悠掉大课间宝贵的两分钟，但我清晰地记着：这两分钟内，我的脑子里空空如也，和数十分钟后形成了鲜明对比。我的右手紧紧揣在兜里，我本想把攥着的东西掏出来看看，可惜上课铃忙不迭地响起来，敦促我回班。</p>
<p>我郁闷地心想：出来走一遭，吸收了两分钟的冷空气，对心情和肺都起到了强大的摧残作用。到班里发现刚刚的那一局游戏仍未结束，同学们热情依旧，在主持人的指挥下进行着睁闭眼张闭嘴的周期性变化。我心情更糟了，但是想到他们缺了我这个重要人物才要玩这么久，心情又好多了——于是心情越糟，心情越好，我将这命名为<strong>心情第一定律（Mood's 1<sup>st</sup> Law）</strong>。可见以后心理学发展的居功至伟可就要落在我的功劳上了，想到这里我的心情更好了——于是心情越好，心情越好——立刻得名<strong>心情第二定律（Mood's 2<sup>nd</sup> Law）</strong>。</p>
<p>在我绞尽脑汁编纂第三定律时，班主任走进教室的大门，携带着比我更愉快的心情，应该是想来看看大家复习得怎么样了。</p>
<blockquote>
<p>忘记提及的故事背景：明天月考。</p>
</blockquote>
<p>只见她的扬起的嘴角还尚未落下，声音的语调就在半空中陡然下沉——在语文上叫做<strong>中途易辙</strong>：“大→家→都↑干↓啥→呢？这是↓↓↓什么？”这是因为她的目光越过我，欣然捕获了同学们辛辣的表情、欢乐的氛围、以及重中之重，手中的卡牌。</p>
<blockquote>
<p>同样忘记提及的故事背景：打这局游戏时我的座位在讲台面前，参赛人员大约拥挤在我背后的两排——种群密度十分之高。</p>
</blockquote>
<p>我突然闻到一股烧羊毛的味道，亦即<a href="#stories-gunpowdersmoke">硝烟</a>的味道。这味道是从班主任身上迸发出来的——“雷霆乍惊，公车过也（《阿房宫赋》）”，我看一场屠杀在所难免。</p>
<p>果不其然，班主任黑着脸向着卡牌拥有者，一个留长发的帅气男同学伸手：“把扑克牌拿上来！”并在扑克牌到手后立马着手销毁工作——边撕边怒斥：“马上考试了，你们在这给我打扑克牌！多大的人了，还在给我打扑克牌？！……（省略若干）”刹那间，扑克牌<a href="#stories-vanishment">烟消</a>云散。</p>
<p>这一连串动作颇有影视作品里盖世大侠的潇洒畅快，让我一时看呆了眼，一段时间后才开始思考：首先是“扑克牌”的称呼，典型的借代手法，不过竟有如此顺畅的运用，真是极好的！其次是动作的缓慢与韧性，一般人几秒中内即可粉碎的卡牌被用了近百秒处理，以此“慢工出细活”的态势承载住近百字的言辞呵斥，高手！最后是动作中富含的情感与魄力：碎裂的扑克牌绝非轻飘飘地落地如鸿毛，而是被施加了千钧的怒火，直坠大地！波澜壮阔，气冲斗牛！</p>
<p>随即，班主任大手一挥，提点到：“刚刚打扑克的都有谁？站起来！”刚刚欢乐丛生的同学们纷纷战战兢兢地站了起来。</p>
<p>这时，本文安装上了第二颗子弹：我没站起来。我心里很有底气：我就沾了整局游戏大概十分之一的光，想来是没必要受此起立的殊荣。于是我伏低身子，佯装在研究桌上的一道数学题目。
“都给我到外面站着去！给我清醒清醒！”她以身作则，先行一步走向室外。起立的同学们纷纷运动起来，向着凛冬进军。</p>
<p>这时自习课老师迈着博大的步伐，挺着傲然的身躯走进教室，看起来就像和班主任进行了一场置换反应。想必他刚刚旁听了事件的全部经过，于是戏谑地盯着地上的碎扑克牌们，像是猎手在享受猎物的挣扎！他顺手指向最后一名蹒跚着快要走出教室的同学——来你拿个扫帚来把这扑克牌扫一下。——“扑克牌”这个称呼就这么沿用了下来，让人不得不钦叹班主任明察秋毫的命名法则。我禁不住好奇回头一看，原来是那个没救我的b女巫。你就给我狠狠地扫这块极好的地吧！我痛快地想。</p>
<p>自习老师也耐不住性子，一边打量着女巫提拿扫帚的身影，一边叹气：“这都什么时候了，还在搞这些乱七八糟的东西，唉……”</p>
<p>落在地上的卡牌碎片，犹如一罐打碎的<a href="#stories-pepper">花椒</a>。我低头看看它们，回头看看狼狈的女巫，突然感到：好安静啊。</p>
<p>是的，周围安静得像刚刚死了人一样，除了自习老师唾沫星子震颤的声音，女巫单薄的呼吸声，就没有别的声音了。我回头环望了一圈，所有同学好似报废的收音机，以沉默是金的智慧态度负隅顽抗。我发自内心赞叹这种“大音<a href="#thoughts-unspoken">希声</a>”思想的正确，但实在觉得这寂静难熬，便咳嗽了两声。</p>
<p>“咳咳——”轻巧的咳嗽声四两拨千斤，挑断了自习老师绵密无隙的话语。他顿了一顿，继续用滔滔不绝编织着这片寂静。</p>
<p>我急不可待，怒发冲冠，马上要被这寂静噎死，恰巧女巫瘦高的身躯终于踱步到了我旁边，我抢过他手里的扫帚，愤怒地对他喊到：“你别扫了，这扑克牌，要么谁撕的谁扫，要么值日生扫！”</p>
<p>——好吧，这下你知道我为啥被发配到这里了吧。
我从兜里掏出右手，展开来一看，是一张扑克牌：</p>
<blockquote>
<p>愚者是塔罗牌78张牌之一，也是22张大阿卡那牌其中之一。愚者并没有编号（或作0号又或作22号），是所有塔罗牌的开始，亦代表着塔罗牌的结束，代表着无限的可能性。</p>
<p><strong>心情第三定律（Mood's 3<sup>rd</sup> Law）：你越有幽默感，心情越好。</strong></p>
</blockquote></section><section class="print-page" id="stories-pepper" heading-number="2.6"><h1 id="stories-pepper-_1">花椒<a class="headerlink" href="#stories-pepper-_1" title="Permanent link">&para;</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 3113 个字 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 17H7V3h14m0-2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2M3 5H1v16a2 2 0 0 0 2 2h16v-2H3m12.96-10.71-2.75 3.54-1.96-2.36L8.5 15h11z"/></svg></span> 1 张图片 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 9 分钟</p>
</div>
<p><a href="https://git.io/typing-svg"><img alt="Typing SVG" src="https://readme-typing-svg.demolab.com?font=Princess+Sofia&amp;weight=600&amp;size=30&amp;pause=700&amp;color=9821B5&amp;center=true&amp;multiline=true&amp;repeat=false&amp;width=1070&amp;height=160&amp;lines=The+Greatest+Innocence+%E2%80%93+Her+colours+are+silver%2C+white%2C+and+apricot.;And+when+you+think+her+name%2C+Dolores%2C+stomach+acid+rises+to+the+back+of+your+throat+and+it+hurts.;--+you+see+a+flash+silver%2C+a+wreath%2C+an+airport+bag.+And+blonde+hair%2C+you+don't+know+why.;Another+choice%2C+perhaps%3F" /></a></p>
<blockquote>
<p><strong>五感发达[成功]</strong>：什么味道？一丝渐强，像乐曲合奏时循序渐进地加进新的乐器。</p>
<p><strong>天人感应[成功]</strong>：花椒，你想起奶奶拿手的红彤彤的水煮肉片，广场旁夜幕中热气腾腾的火锅店。雪花在外面纷纷落下。你正在走近红油瓢泼的料碗，投身辛辣与苦痛的怀抱。</p>
<p><strong>愚众合欢[成功]</strong>：快快醒来远离这灼热的地狱，下丘脑宝贝一定会让你尿个满床。</p>
</blockquote>
<p>睁开眼睛，朦胧天花板上荡漾着惨淡的光。我侧过身子，柔软的床发出吱呀的呻吟。</p>
<blockquote>
<p><strong>五感发达[失败]</strong>：你的视线被滚烫的蒸汽包裹，窗外光的来源像谜题一样模糊。</p>
<p><strong>内陆帝国[成功]</strong>：路灯，或者是月亮。但不是车灯，它的灯光太凛冽了，会轻而易举冻死温暖被窝里的你。</p>
<p><strong>典谟训诰[成功]</strong>：<a href="https://www.douban.com/group/topic/72166048/?_i=8069994fpvKp3I/">我吞下一枚铁做的月亮。</a></p>
</blockquote>
<p>我直勾勾地与天花板对视，鼻翼贪婪地吮吸着未知来源的花椒香气。</p>
<blockquote>
<p><strong>食髓知味[成功]</strong>：真是*热辣*，像你之前品尝过的那样。</p>
</blockquote>
<p>雪已经下过半个午夜，还没有停息的迹象，寂静的鹅毛落在寂静的土地上。</p>
<blockquote>
<p><strong>天人感应[成功]</strong>：太阳还未升起的清晨，背着书包的男孩在车窗上擦出一道痕迹，车外的雪从无底的黑夜中降临。</p>
<p><strong>逻辑思维[失败]</strong>：为什么总是雪？你度过了一个怎样的雪夜？</p>
<p><strong>回乐烽前[失败]</strong>：一层小小的薄雾笼罩在记忆里那个夜晚，它和你的未来一样迷离无踪。</p>
</blockquote>
<p>虚掩的房门后传来吵闹的媒体声音。我推开门，父亲在客厅看世界杯，其中一个球队是巴西。</p>
<blockquote>
<p><strong>回乐烽前[成功]</strong>：超市外，男孩借着灯光撕开“魔法士”干脆面的包装，长驱直入取出卡片，上面画着一个叫内马尔的人——这是他认识的第一个足球明星。</p>
<p><strong>愚众合欢[成功]</strong>：足球！那真是你的*启蒙运动*啊，或者说，*启蒙*运动。</p>
</blockquote>
<p>我趿拉着拖鞋走过客厅，父亲熟悉我的癖好，说：“新买的花椒，在厨房。”我走进厨房，一罐喷溢着醉人香气的花椒崭新地陈列在台面上。花椒，花椒，花椒。</p>
<blockquote>
<p><strong>食髓知味[成功]</strong>：花椒，花椒，花椒。</p>
<p><strong>内陆帝国[成功]</strong>：你好啊，*帅哥*。</p>
</blockquote>
<p><br><center>花椒：你好，你是来找我的吗？</center><br></p>
<blockquote>
<p><strong>五感发达[失败]</strong>：她的声音窸窸窣窣，是悦耳的致人疯狂的颗粒声，是撕裂大地的鞭炮声。</p>
<p><strong>回乐烽前[失败]</strong>：你见过她吗？你没见过她吗？她有没有用过粗砺柔嫩的手抚摸你的额头？她有没有用那灼热真心的目光洞察你的躯壳？</p>
<p><strong>逻辑思维[失败]</strong>：这些命题注定在那个雪夜得到了回答，可惜你不记得了。</p>
<p><strong>愚众合欢[失败]</strong>：令人沮丧，*兄弟*。</p>
<p><strong>内陆帝国[成功]</strong>：我是，是的。那么多燃烧的时间，我们在里面跳舞。现在我又见到你了，你像一朵灰烬做的云。</p>
</blockquote>
<p><br><center>花椒：对不起……我没有印象了。</center><br></p>
<blockquote>
<p><strong>通情达理[失败]</strong>：她是真的不记得了，并且为此懊悔。你真不该这么说。<em>真不该</em>。</p>
<p><strong>五感发达[失败]</strong>：窗外，无来源的灯光贯穿了花椒瓶，她云一般的身体碎成点点星光。</p>
<p><strong>食髓知味[失败]</strong>：真美，真美。</p>
<p><strong>内陆帝国[成功]</strong>：啊，没关系的，是我该道歉才对。嗯……那天下雪了，你记得吗？</p>
</blockquote>
<p><br><center>花椒：嗯……今天下雪了，明天也要下雪，每天都在下雪，我实在记不住了……</center><br></p>
<blockquote>
<p><strong>通情达理[失败]</strong>：这也是真心话。</p>
<p><strong>游弋从心[失败]</strong>：你开始痛恨雪了，白色的魔鬼，掩埋生息的恶灵。</p>
<p><strong>内陆帝国[成功]</strong>：雪不大，我还骑着车——看，就是那辆，客厅角落的，电动滑板，真是英姿飒爽——天有点黑，我打开照明灯，雪白的流明荡漾在你身上。</p>
<p><strong>天人感应[失败]</strong>：道路旁，树冠倾倒，像是温暖的屏障。骑车的男孩看不清雪花覆盖的天空，只好看路。</p>
<p><strong>五感发达[失败]</strong>：窗外的灯光摇曳了一瞬——抑或是她的身影摇摆了一瞬。她还是花椒的样子，但你知道她不再是花椒了。</p>
<p><strong>典谟训诰[成功]</strong>：<a href="https://music.163.com/#/song?id=1456445961">牵挂最多人的幽灵，她仍将和我在一起。</a></p>
</blockquote>
<details class="success">
<summary><strong>典谟训诰[成功]</strong></summary>
<p><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=1456445961&auto=1&height=66"></iframe></p>
</details>
<blockquote>
<p><strong>平心定气[失败]</strong>：别哭，兄弟。大家都难受，权当她凭空不见了，改嫁了，被洪水淹死了，被火车碾死了，被雪埋葬了，消弭在你奔涌的脑海中了。可就是别当她继续存在了，这感觉已经变味了。好吧，你肯定不信。</p>
</blockquote>
<p><br><center><a href="https://asoiaf.huijiwiki.com/wiki/%E8%80%B6%E5%93%A5%E8%95%8A%E7%89%B9">耶哥蕊特</a>：我好像有点印象了。</center><br></p>
<blockquote>
<p><strong>愚众合欢[成功]</strong>：一次史无前例的大胜利！斯巴拉西！再接再厉，你们马上就抵达最最深沉的那个夜晚了。</p>
<p><strong>平心定气[失败]</strong>：我劝你别去，为你好，兄弟。</p>
<p><strong>五感发达[成功]</strong>：她的红发飘出瓶子，像一根温暖柔顺的……绒毛，抚平着你焦躁的痛苦的却麻木的心灵。像掌管火焰之神无数珍宝收藏中漫不经心的一抹馈赠。</p>
<p><strong>逻辑思维[失败]</strong>：你是想说绞索，对吧？</p>
<p><strong>回乐烽前[失败]</strong>：但是心底深处有些东西是无法安稳下来的。</p>
<p><strong>游弋从心[成功]</strong>：你的迷茫，他们如影随形。</p>
<p><strong>典谟训诰[成功]</strong>：<a href="https://gfwiki.org/w/%E4%B8%BB%E7%BA%BF%E7%AB%A0%E8%8A%82/%E7%AC%AC%E4%B9%9D%E6%88%98%E5%BD%B9%EF%BC%9A%E8%BF%B7%E5%A4%B1">亲爱的，你的心在哪里？</a></p>
<p><strong>内陆帝国[成功]</strong>：我迷路了，都怪我残疾的方向感。前面的路上结满了冰，看起来像一块巨大的镜子。你就在冰面上行走，像掌控冰雪的女神。</p>
</blockquote>
<p><br><center>耶哥蕊特：一个美丽的夜晚，不是吗？</center><br></p>
<blockquote>
<p><strong>游弋从心[成功]</strong>：更加美丽的你。</p>
<p><strong>食髓知味[成功]</strong>：更加*更加*美丽的你。</p>
<p><strong>平心定气[失败]</strong>：你个byd没看出来她的表情有点变化吗？</p>
<p><strong>五感发达[失败]</strong>：而你个byd没看见*<strong>五感发达[失败]</strong>*吗？</p>
</blockquote>
<p><br><center>耶哥蕊特：我就要想起来了，这时候你下车，走向了我，对吧？</center><br></p>
<blockquote>
<p><strong>内陆帝国[成功]</strong>：是的，是的，没错。我停车，但是没舍得关掉亮闪闪的车灯——你在灯光里美妙极了。我快步跟上你的步伐，很奇怪，地上的冰面亮晶晶的，却没有想象中那么滑，只是让我慌乱急促的脚步被迫放慢。因此赶上你时我也没有气喘吁吁。我只是问你：你可以和我跳一支舞吗？你明白的，这冰面真是个<em>天生</em>的舞台。</p>
</blockquote>
<p><br><center>耶哥蕊特：……</center><br></p>
<blockquote>
<p><strong>内陆帝国[成功]</strong>：你点头了，你模糊的笑容被尖锐地镌刻在我记忆的最底部。</p>
<p><strong>平心定气[失败]</strong>：你敢说记忆最深处是这个？</p>
<p><strong>回乐烽前[失败]</strong>：还真是。</p>
<p><strong>游弋从心[成功]</strong>：*不得不*是。</p>
<p><strong>内陆帝国[成功]</strong>：我们保持着距离相拥，头上是雾霭，脚下是雾霭的平面镜成像。我的脚步无师自通，而你熟稔地引领我盘旋。灯光将我们摇曳的影子刻入冰面与大地，刻入这尊有着近百亿年历史的古老星球中。</p>
<p><strong>典谟训诰[成功]</strong>：<a href="https://music.163.com/#/song?id=1837818274">我来自多米力高威威维利星！</a></p>
</blockquote>
<details class="success">
<summary><strong>典谟训诰[成功]</strong></summary>
<p><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=1837818274&auto=1&height=66"></iframe></p>
</details>
<blockquote>
<p><strong>内陆帝国[成功]</strong>：我们大声谈笑，路过的风也为咱俩的欢乐驻足。你说红色象征热情奔放与速度，我说我最爱吃纳宝帝的芝士奶酪味威化饼干，你说诗经里的风雅颂美得难以言喻，我说参变分离是解决导数不等式证明的不二法门。</p>
<p><strong>内陆帝国[成功]</strong>：我们谈论我的童年和你的童年，谈论席卷整个北部的寒潮，谈论你异国的口音，谈论身畔流连的口琴声，谈论你绿色瞳孔中夹杂的一抹蓝，谈论贸易逆差导致通货膨胀，谈论被土地噎死的农民，谈论自愿调低薪金的工人，谈论一个疯狂的却被付诸于行动的想法，谈论爱，谈论死亡，谈论双手合十满心祈祷的可怜人，谈论染色完却忘记漂洗的临时装片，谈论一架越走越窄的独木桥，谈论一面有不少星星的旗帜，谈论我写过的每一篇文章，谈论笼罩在人们心头的无法驱散的雾霾，谈论永不回返的太阳的背影，谈论一片白茫茫的无垠。</p>
<p><strong>典谟训诰[成功]</strong>：<a href="https://shrike-505.github.io/">*现实的荒原*</a>。</p>
</blockquote>
<p><br><center><a href="https://www.vgbaike.com/disco_elysium/baike7385">德洛莉丝•黛</a>：那么，你都明白了吗？</center><br></p>
<blockquote>
<p><strong>愚众合欢[成功]</strong>：是的，女王陛下。没人比我更明白。</p>
<p><strong>典谟训诰[成功]</strong>：Too young,too simple,sometimes naive.</p>
<p><strong>五感发达[成功]</strong>：等等，花椒味去哪了？</p>
<p><strong>食髓知味[成功]</strong>：先把花椒放一放，专心听*她*说。</p>
</blockquote>
<p><br><center>德洛莉丝•黛：你唯一知道的是：你一无所知。</center><br></p>
<blockquote>
<p><strong>游弋从心[失败]</strong>：一次*诽谤*。</p>
<p><strong>五感发达[成功]</strong>：她言辞犀利，眼神纯粹而怜悯，像是一筐沙砾与石子。</p>
<p><strong>天人感应[成功]</strong>：一幕幕简短的片段，细小的信息洪流，涌入你的脑海。</p>
<p><strong>天人感应[成功]</strong>：烈日悬挂的上午，咬着毛巾的男人腾不出手擦汗，用钢锯锯下自己的右腿时，他的身上同时萦绕着庄稼与无奈的气息。</p>
<p><strong>通情达理[成功]</strong>：比他肩上的重担更易承受的苦难。</p>
<p><strong>天人感应[成功]</strong>：富丽堂皇的办公室内，格格不入的小伙子身穿沾满灰尘的工服，捏着血迹干涸的断指摇晃地站着，不知所措。面前的人没有看他，不耐烦地挥了挥手。他身后，金光四射的匾额露出了伟大的笑容。</p>
<p><strong>天人感应[成功]</strong>：密闭楼层的光亮在夜间格外迷人。热情的野火将所有人的骨骼全然液化，留下一摊没人能看懂的黑色渣土。</p>
<p><strong>游弋从心[成功]</strong>：再见。</p>
<p><strong>天人感应[成功]</strong>：仪态规整风度翩翩的发言人宣布裁员的消息。瘦削的赤膊男人攥着母亲的医药费账单，在寒风里缩了缩脖子，抽了口烟。北方，工地后方盘踞的停止施工的大楼横亘在所有人的脑袋里。</p>
<p><strong>天人感应[成功]</strong>：晚间八点，学生们塞满学校，如同肉馅包进饺子皮。后桌小心翼翼地窥探老师的动向，把握时机拿出手机搜索题目。前桌与同桌谈论着没有意义的玩笑，前仰后合，引来纪律委员疯狂的侧目。</p>
<p><strong>通情达理[成功]</strong>：大家都在自己的迷茫或清醒中享乐。</p>
<p><strong>游弋从心[成功]</strong>：而你在现实的灰烬中竭力寻觅完整的现实答案。</p>
<p><strong>愚众合欢[成功]</strong>：加油！</p>
<p><strong>内陆帝国[成功]</strong>：你带上耳机，封存全部五官，缩成一团，作无奈的茧自缚。眼前的电视打开了，上面闪动着……</p>
</blockquote>
<p><br><center>德洛莉丝•黛：我的身影。</center><br></p>
<blockquote>
<p><strong>游弋从心[成功]</strong>：你究竟是什么？</p>
</blockquote>
<p><br><center>德洛莉丝•黛：一个幽灵。</center><br></p>
<blockquote>
<p><strong>典谟训诰[成功]</strong>：一个*什么*的幽灵？</p>
</blockquote>
<center><b>十月八日，寒露。在那片雪白车灯中，我看见你的身体，单薄而绵密，像一片打湿的餐巾。你像四维世界的造物，长，宽，高，时间，迷茫在时间尺度上纵横蔓延，贯穿你*短暂*的一生。走一步看一步，你终于莅临了这命中注定的分岔路口。</b></center>
<p><br></p>
<blockquote>
<p><strong>回乐烽前[成功]</strong>：昏暗的病房里，气若游丝的老人微阖双目，眼泪穿梭着皱纹的千沟万壑。他念叨着：“你们怎么办，只有天知道。”</p>
<p><strong>典谟训诰[成功]</strong>：<a href="https://music.163.com/#/song?id=1837817429">只道时间是疗伤的良药，谁料如今成害病的粕糟？</a></p>
</blockquote>
<details class="success">
<summary><strong>典谟训诰[成功]</strong></summary>
<p><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=1837817429&auto=1&height=66"></iframe></p>
</details>
<p><a href="#stories-g30">1.投身她浩渺的怀抱。</a></p>
<p><a href="#thoughts-gaut">2.踏上滑板车，冲破她空空如也的躯壳。</a></p>
<p><strong>2022年12月</strong></p></section><section class="print-page" id="stories-protein" heading-number="2.7"><h1 id="stories-protein-_1">蛋白<a class="headerlink" href="#stories-protein-_1" title="Permanent link">&para;</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 2000 个字 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 6 分钟</p>
</div>
<blockquote>
<p>学生物学的</p>
</blockquote>
<p>今天去做手术，手术室里四面墙壁都是诡异的墨绿色，陈列着各种带轮子的装置和不带轮子的装置。我躺在病床上，向上挽挽袖子，露出作为受害者的胳膊肘。肘子上的肉疮耀武扬威地盘踞在皮肤的一角，显然尚未获悉自己即将被铲除的讯息。</p>
<p>医生来了，叫我侧躺着，然后以马革裹尸的手法用绿布遮盖住我的上半身，只露出架子上待宰的肘子。这时候我没有多么害怕，只是心里有一种空洞的奇妙感受，对于接下来的流程充满着泰然处之的麻木。</p>
<p>医生先拿碘伏消毒，涂满黄色的肘子看起来可以马上上桌，充当一道汁醇味正的下酒菜。他掏出一根针筒，说先打麻药。无色液体穿越第一道防线，在我的内环境中愉快驰骋。我觉得，那液体里肯定有些含有肽键的蛋白玩意，只有这样吝啬而自私的糖蛋白们才会敞开自己狭隘的心田，放这帮同宗兄弟入境。</p>
<p>一个蛋白饱含着丰腴的空间结构与热火朝天的毅力，先行游走在内环境的广袤液体中。他已经见识了第一道防线的脆弱，于是姿态饱满，信心强烈，引来周围普通蛋白的侧目：“装你吗呢，不都是一个核糖体出来的。”</p>
<p>他不知道自己的目的地在哪，于是跟随着周围蛋白哥们们的洪流默默移动，像一艘太平洋上的孤舟。周围的小离子太过渺小，尚未领悟内环境中的语言法则，面对他的疑问，他们只能发出嗞啦啦的电流声。</p>
<p>前面一个细胞上镶嵌的蛋白哥们招呼他：“兄弟，这边！”待他靠近后，这哥们粗犷地露出自己斑驳的肽键，对他说：“来配个对！”他用肽键一碰，啥反应都没有。哥们有点沮丧，但拍了拍他的氨基，说：“没事的，再往前走走，估计就有了——我们蛋白质都是一家人！”他两眼一酸，差点水解一条肽链：我们蛋白质，都是一家人！</p>
<p>之后他果然成功配对了一个糖蛋白，肽链相合的瞬间发出标志配对成功的“滴”的一声。他别过亲切和蔼的糖蛋白，俯身跨入细胞内液——一个崭新温暖希望欢乐幸福激越昂扬的世界。</p>
<p>他先去看了看内质网和核糖体，参观他们有一种拜访同学父母的敬畏感。核糖体吞吐着碱基对，犹如马里亚纳海沟一般包容与和蔼。内质网为肽链们穿上衣服，如同世上最称职的职员，生产出的蛋白同胞们形态各异，自由地飞向细胞内的每个角落。线粒体也一样热闹，小小的葡萄糖们献身于伟大的能量传输环节，在蛋白质同胞的帮助下变成知名的极性分子和非极性分子。这时他在心里暗暗哀叹；自己所在的这具身躯怎么只是得了个肉疮呢？要是直接变植物人的话，岂不是能拜访拜访叶绿体里那几个鲜艳多彩的高级分子！</p>
<p>他看到那个大核桃的玩意，悄悄地走近，趁核孔没反应过来，纵身一跃。这一地段更加繁华，宛如国际大都市的城中心，四处可见忙碌的双螺旋打开又合上，合上又打开。他想起了宏观世界的名言：“分久必合，合久必分。”他听见不远处有嘈杂的喧闹声，连忙赶过去，看到一条RNA蜷曲在地上被几个DNA用双链踹过来踢过去，RNA蠕动着，发出化学键断裂般的哀嚎。</p>
<p>他不为所动：不是我们蛋白的同胞，还长了个那么不稳定的结构，活该！他听见DNA戏谑的嘲讽：“就你也想要脱离我们的控制？想要自己找核苷酸组建党羽？做梦！整个细胞都是我们的分子，你拿什么跟我斗？”他笑了笑，这种不知天高地厚的RNA屡见不鲜，到最后都是耻辱地落得个被水解成五碳糖的下场。他转身走远，想要继续探索探索新的角落。</p>
<p>这时传来轰的一声，振耳发聩如同癌变的前兆。他脑袋一黑：刚到目的地就癌变了，点子真背。结果并没有什么剧烈的反应发生。他定了定神，舒了口气，向四处看看打算放松放松，却看到了更为恐怖的一幕：</p>
<p>刚刚跪地的RNA硬生生扣下了自己的一个核苷酸，而那碱基上赫然标着字母A的字样。残破的RNA怒火滔天，再次强忍剧痛割下身上的两个磷酸，将其恶狠狠地揉捏成一团，以奥丁投掷永恒之枪的姿态将这枚ATP投向脸上还挂着笑容的DNA们。DNA们躲避不急，迎面而来的ATP在面前爆炸开，释放出足以沸腾世界的热力洪流，将三个庞大的双螺旋轰击成了数不胜数的碱基五碳糖和磷酸。</p>
<p>蛋白呆在原地，愕然地听着响彻整个细胞的警笛声，看着闻声而来的蛋白同胞们蜂拥而上，将刚刚看起来还是活该的RNA拆解毁灭，在RNA破烂的空间结构消失前的一瞬间，他看向了刚刚尚且漠不关心的蛋白。</p>
<p>那眼神平淡如水，却掩盖着世界上最深厚最浓烈的怒火。蛋白浸在这怒火里，感受着氨基与羧基被烤炙的痛楚，面对着麻木地分解着RNA的同胞们。他愤怒了，是和刚刚离去的RNA一样的愤怒，他奔上前去，徒劳地撕扯着RNA周边的那些此刻看来如此可恨的同胞们。寡不敌众，同胞们一拥而上，他像一块投入浓热酸中的金属粒，片刻消失不见。</p>
<p>蛋白醒来，发觉自己坐在一个球形的空间里，他感到，这地方很酸。他看到一个被包装得完美无瑕庄重威严正气凛然的同胞站在自己面前。龟龟，这哥们贿赂了内质网和高尔基体多少东西？他充满幽默感的心思戛然而止，RNA散落的五碳糖就像打碎的乐高玩具，遍布在他凌乱不堪的R基里。他急切地扑上前，握住这位同胞的肽键，说：“同胞，我们去让他们自由。”</p>
<p>“同胞”扯了扯身上的囊泡，向地上吐了口痰，氨基怪异地抽动了一下：“我和你不是同胞，我和他们是同胞。”他指指背后，谋害RNA的无数同胞群贤毕至，对着这位衣冠楚楚的同胞大喊：“烧死他，用文火！”</p>
<p>蛋白激动的肽键霎时停滞，他感受着生命断裂的痛苦，眼前浮现出RNA残缺的遗体，耳畔回荡起糖蛋白的声音：“我们蛋白质，都是一家人！”在泪水迷蒙的凋亡中，他突然明白了眼前“同胞”的成分。他是蛋白酶。</p>
<p>我从想象中惊醒，手术已完美收官，我却心有余悸。我想：细胞中已经诞生了这一恐怖而诡异的现象，<strong>在更大的生命系统结构层次中，这样的故事，还他妈的会少见吗？</strong></p>
<p><strong>2022年9月</strong></p></section><section class="print-page" id="stories-vanishment" heading-number="2.8"><h1 id="stories-vanishment-_1">烟消<a class="headerlink" href="#stories-vanishment-_1" title="Permanent link">&para;</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 1148 个字 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 3 分钟</p>
</div>
<p>照以往我肯定会选择声名显赫的蜜雪冰城，然而抱着破天荒头一次的心态我走近了新开的刘阿晶店面，她绿晃晃的匾额像春水摇动的涟漪，让我头脑发晕。我看着绿油油的刘阿晶仨字想起了喜欢过的一个女生头上鲜明的绿头发，它们散落在她姣好的背上，像一摊化开的猕猴桃雪糕。</p>
<p>我站在门边向店里窥探，店面与蜜雪冰城对比略显拮据，柜台和走廊扭曲在一起，像一个费解的迷宫。柜台前站着等待的男女俩，手牵手疑似是情侣，女的穿着很清凉，在短短的牛仔裤下面露出一双美好的腿，在这样的夏夜十分令人上火。可惜此时男方察觉了我笔走龙蛇的目光，以宣誓主权领土完整的威严对我怒目圆睁，我无奈地停止欣赏，推开透明门帘进入店内。</p>
<p>什么节日，520还是七夕？还能碰到情侣？我郁闷地扒上柜台，对着被胶带粘得严严实实的价目表苦笑，价目表里的饮料对我发出讥笑的嘎吱声：“不买就滚！”我在嘎吱声和男方警惕的目光下开始挑选，柜台里的工作人员行云流水地为这对情侣炮制着饮品。</p>
<p>大多数饮品采用着蹩脚的趣味命名，“初恋水蜜桃”“霸气西柚粒”之类比比皆是。我茫然的视线漫无目的地游弋着，心底寻思着选择哪一款。脑海里浮出一个灰暗的身影，浑身如气泡般泛着诡异的光。身影说，珍珠奶茶吧，我爱喝。我说，你是？身影说，你忘了吗，你来这就是为了给我买饮料的啊。我愣愣地短暂思考了一瞬，对着身影麻木地点头，再度招来那位男方警戒的目光，他攥起女朋友的手拿上饮料就走，留下我对脑海中那双曼妙的双腿继续浮想联翩。</p>
<p>身影不说话了，我揪着心仔细端详，它的身体上布满了黑色的马赛克，宛如一块风干的腊肉。这比喻可不算礼貌，它轻声告诫。这就说明这不知为何出现在我脑中的身影还可以窥探我的心意。我心烦意乱地玩弄着双手，饮料机器正在聒噪地轰鸣。我和身影一眼不发地并排坐着，如同一对尸体。终于工作人员百无聊赖地端来打包好的奶茶，我和它同时起身，听见它没有起伏的声音：来我家吧，把它给我。随后它消失不见。</p>
<p>我走出门，皎洁的月光如烈日般闪耀着璀璨的白光，将整个世界洗刷地天翻地覆般崭新。那月光降下神圣的威压，致使我踉踉跄跄地跌坐到车边。我挣扎着站起身把上自行车，开动马力后驶入乱糟糟的白色午夜。</p>
<p>几分钟后我下车，躲入单元门下的黑暗。这时的黑暗是世界上最伟大的母亲，是最牢不可破的庇护所。它再次出现，牵着我的手，带我在陌生的走廊里流连，带我走上墙壁后倒悬于天花板。前面出现了一扇门，疑似通向魔法部的神秘事务司，我加快脚步，奔涌向前。它啜泣一声，隐入黑暗，犹如受惊的野兽。</p>
<p>我打开门，看见它的身影伫立在光滑的天花板，如悬垂于天地的女神。我伸手递出奶茶却无人接收，掉在地上，包装上刘阿晶三个大字被不知何处出现的月光映照得雪白，如同一具玲珑剔透的骨骼。它凑上前来，周身黑色的雨幕如潮水般退去。它用乱码般的双臂环抱住我，而后我感到它坚韧的嘴唇含着我干涩的舌头，深邃的眼眸直抵我最深处的黑暗。我的泪珠沿着它的脸颊缓缓落下，默默滴落在这广袤无垠的天花板上。</p>
<p>在这月光中她的模样突然在我脑海中绽放，可片刻后便无影无踪。如同一团斑驳的回忆，她的身影<a href="#stories-gunpowdersmoke">烟消云散</a>。</p>
<p><strong>2022年8月</strong></p></section><section class="print-page" id="stories-gunpowdersmoke" heading-number="2.9"><h1 id="stories-gunpowdersmoke-_1">硝烟<a class="headerlink" href="#stories-gunpowdersmoke-_1" title="Permanent link">&para;</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 2173 个字 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 6 分钟</p>
</div>
<p>在金达路口左转进入柴达木路的拐角有一家红焖羊肉，自拥有记忆起这座羊肉馆便一直坐落于刘云青涩的脑海中。然而他却没有对其味觉上甚至是嗅觉上的记忆，这错误地表征出他从未来过这里。事实上刘云数月如一日地在上下学时分骑行经过这个拐角，或许只是因为羊肉汤分子的热运动效果差强人意，他没有一次闻到过羊肉的香气。</p>
<p>意外却在今天来临。他很早就闻到了一股奇特的味道——像石子，像火药——早在他到达拐角之前，早在他路过前几米处的小卖部时。他对这个小卖部的印象很深也很好，小时候的一场大雨把他和爷爷赶了进去，几刻钟后晴朗的阳光又邀请他们回到户外。这也说明价钱并不是这座小卖部留停在他回忆中的原因，同样的道理在小卖部前的文具店也适用，刘云画画课的几次美术用具都是在那买的，他半途而废的艺术生涯大半要归功于这家店。他骑车时总喜欢乱想，让目光与思想两头做功，毕竟周遭的风景并没有什么值得流连之处，人们总不能指着千棵一律的松树夸耀美丽吧。但鼻息捕捉到的这丝味道又一次挑起他不安惶恐的内心。</p>
<p>这味道像烧塑料袋，不，也不太像。小时候他烧塑料袋把手烫了两个疤，跑上楼时心里的恐惧大于嗅觉的驱动能力，所以他也不确定。像烧羊毛吧，等等，这比喻是从哪来的？他不知道烧羊毛是什么味道，他甚至都没近距离见过羊毛长啥样，吃火锅时他倒是蛮喜欢羊肉，因此至今所有对羊膻味嗤之以鼻的行为都为他所不齿。他姑姑家的车上或许有这个味道，那是他把脸埋到座椅垫子深处问到的刺鼻味道，因此他很不喜欢那辆车，膻味融合着空调的灰尘味，如同死去灵魂的恶臭。那这味道也许像四氯化碳。化学老师在课上让他们闻过，当时包括他在内的几个脑袋如同毒瘾发作般拥近那个细口瓶，却又因化学实验的铁律被迫使用扇闻法，那味道很奇异，像是小学买的劣质彩色橡皮。那几个脑袋里有谁？或许就有她。这时刘云也想不起她是谁，别急，先想姓。如果她姓张，那就是珊了；姓陈？那应该是晶晶。从罗辑身上学到的猜姓方法没起多大用处，他只记得她在那瓶油状液体前的影子，像是碳原子的一条轨道。</p>
<p>他的思想宛如一个逃兵，从那股气味逃向了她。他不知道该怪罪大脑的哪个部分，改天他一定要好好拷问一下它们。他已经编纂好对话了：他问：“Which of you is to blame？”然后看反应就行。要是变矮了，那就是垂体；要是摔倒了，那就是小脑。最坏的可能就是尿裤子，这就证明下丘脑当了叛徒。他不知道是从哪想到这些生物笑话的，可能是为了逃离这股气味，也可能是为了逃离她。这让笑话中尚未出现的脊髓部分一振，让他差点自杀性地摔下车来。刘云本以为她的一句“你对我只是一时兴起”就能让他远远逃开，看来事实远不如幻想那么动他心弦，正如他曾幻想的他和她的美好未来最终被她与另一个男生的亲昵现实有力打破。刘云呼吸了一口松树通过光合作用产生的美好氧气，氧原子的双键很冰冷也很宝贵。</p>
<p>刘云很想从地里拉出一辆泥头车创死自己。这一危险信号最先被他的年龄否定：20年都没活满就妄谈死亡未免有些愚昧。刘云感受过一次亲人的离去，但是他并没有陪伴于姥爷的终年。有一堂作文课似乎为他提供了悼念与惋惜的机会，但他写作文时就发现心里空荡干涸如无垠沙漠。他想到之前看过的一本小说里写到可以用写作的表情评作文的分，“潸然泪下的，评A；默默不语的，评B；聒噪不断甚至嬉皮笑脸的，评不及格。发下来也常是如此，A级的催人泪下，令人感叹，不及格的就味同嚼蜡，狗屁不通。”他知道自己会被评B，但他明白内心的伤悲悔恨肯定不值“B级”，这是他的缺陷，他的内心世界比语言所展现出来的部分丰富不止三千倍。刨去这些有关感情的杂谈，他的家人也否定前文的想法。这像一部电影里还是一本书里说的那句话：“家人是隔在我们与死亡间的壁垒。”上述的所有道理刘云全全了然于心，只是这种念头确实会偶尔发迹一次。即使他明白在化学平衡与圆锥曲线肆虐的年代对所谓“男女间的朦胧感情”不应有如此之深的跋涉，他还是被迫屈服于男性荷尔蒙的压迫。</p>
<p>这时他已经拐过弯，转入树影盖地的那条小道。她的家就在这条路上，但是他们从来没在这条路上相遇过。他在心底暗骂一声，这条道无疑是他与一众同学回家的捷径，但想必不久后这条道上就会出现她和非他卿卿我我的身影，而多余的自己则骑行在非机动车道上，这一幕富有某些文艺片的忧伤色彩，也并不缺少现实的惨淡。</p>
<p>她上下学都是步行。某次跳蚤市场活动后他和她在校门口相遇，这使他打消了上车骑行的念头。时间总在这时飞速逝去，恢复正常速度的时候他们已经抵达她家楼下。她笑道：你都把我送回家了。刘云哈哈一笑：还真是。然后他们道别。整场经历宛如一部味同嚼蜡的电影，在除了刘云以外的世界中连一句浅显的影评都没留下。刘云在之后的日子里总是把她的那个笑容从记忆里挖出来，反刍般地在心里咀嚼一阵，最后糜烂地吐回大脑的深沟。这是她的一个剪影。这股或是烧塑料袋或是烧羊毛或是四氯化碳的气息也变成一个剪影，储存在以她命名的记忆文件夹里。这个文件夹里东西很多，可就是没有她的名字。刘云不想把精力继续用在这个文件夹的运行与维护上了。在确认前方路途安全后他闭上眼睛，开始删除与她有关的回忆。正如昔日无数次徒劳的尝试一样，他深知这场遗忘无法成功。他总发现她的微笑与影子留下的浅浅的刻痕，仅需一点点刺激便会蠢蠢欲动着复原。</p>
<p>视觉的匮乏促使嗅觉活跃发作。他开始辨别出这气味——硝烟的味道。这一结论惊人而又准确。他从未上过战场，对战争的薄弱了解也仅仅来源于历史书的几句文字。但某种深不可测的信念提示着他：这是硝烟的味道。她的影子开始浮现于他的眼皮，犹如文艺作品里描述的翳病。这是回忆与遗忘的硝烟，这是翳病与解药的硝烟，使他痴迷，沉醉，而后裂解。他紧闭的双眼里泛出泪水，将她的影子变作摇荡的涟漪。硝烟似乎越来越浓烈，她扑朔的身影也陷入视野周遭的黑暗。在无比刺鼻的气味将要摧毁他的瞬间，她的名字<a href="#stories-vanishment">渐渐显现</a>。</p>
<p><strong>2022年1月</strong></p></section><section class="print-page" id="stories-newcar" heading-number="2.10"><h1 id="stories-newcar-_1">新车<a class="headerlink" href="#stories-newcar-_1" title="Permanent link">&para;</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 5974 个字 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 17 分钟</p>
</div>
<h2 id="stories-newcar-_2">一<a class="headerlink" href="#stories-newcar-_2" title="Permanent link">&para;</a></h2>
<p>红色象征着热情，奔放，以及速度。唐伊琢磨着：大概世界上一切物体都遵循这一色彩定律——尤其是面前这辆锃亮的自行车：一辆亮红的新车必定能在学校停车区一字排开的其他颜色车辆中崭露头角。</p>
<p>每当唐伊看到同学们黑红蓝白的自行车规规矩矩停在橙色油漆划定的方框中时，她的心里就会“咕噜咕噜”冒起熔岩流淌般的愤懑。自己的胜利牌自行车已经成为唐家流传十余年的古董，岁月的刻刀似乎将这辆车通体贯穿：吱呀吱呀如震耳发聩的噪音在它漫长的运动生涯中如影随形，犹如来自商朝的古典铜绿色配合着点缀其间的苍葱锈迹，使它流淌着一股时代的腐烂气息。</p>
<p>坐骑的差距与在此地并不明显的贫富差距相比更令唐伊恼火，面对望眼欲穿的新车，她对父母立下誓言，在临近的期末考试中绝对能稳操胜券。这一誓言对于长期成绩中游的唐伊来说难度堪比单手单脚攀登珠峰。即便如此她的父母也欣喜若狂，以数张百元大钞作为她敢于立誓的奖励，以及刻苦学习的不竭动力。</p>
<p>唐伊明白自己关于成绩的伟大构想难以企及，因此她立刻打算享受当下。好友小个子正好也要鸟枪换炮购买新车，于是她们结伴而行抵达这座城市中最火爆的自行车销售城。数家店老板慷慨地动用了所有正当与不正当的营销手段，企图留下这两位看似阔绰的学生。最后唐伊与小个子在一家店门口停下，眼前赫然是这辆夺人耳目的红车。唐伊当即蹲下，草率地查看了几下它无处不在的通红配件，然后从兜里掏出那一叠以不实誓言交换的钞票，气势凛然地拍在店主的面前，以包租婆收租的正义语气宣布：“我就要这辆车。”店主不急不气：“这车新到的，你再看两眼吧。”她环顾四周，周遭陈列的数十辆风格各异的自行车尽收她的眼底，然而她的目光始终被这一抹璀璨的红色吸引，犹如两块磁力永不消退的磁石。</p>
<p>唐伊笃定了决心，她义正言辞地说：“定了，就要这辆。”当她骑着一团火红驰骋在路上时，风贯穿着她的五脏六肺，她的心仿佛要飞升进无限远的太空。“热情，奔放，速度。”她这么想着，畅爽的快感甚至促使她忘记了好朋友小个子被抛在了哪里。</p>
<p>第二天上学时，她才发现小个子买了辆可爱的小黄车，米黄色的车身衬出她的娇小可爱。唐伊莞尔一笑，她眼前的漫漫长路延展开来，通向朝阳升起的地方，通向她骑着新车在大千世界中驰骋的美好愿景。</p>
<h2 id="stories-newcar-_3">二<a class="headerlink" href="#stories-newcar-_3" title="Permanent link">&para;</a></h2>
<p>在得到新车的第二天早上小个子目睹了一起血案的发生。若是任何一位校领导在场，他或她铁定能够识出行凶者的身份——比小个子高一届的梁虎。可惜能力与家底无法促使她成为一中管理阶层的一员，因此她只是觉得面前站在血泊中的这个男生很眼熟：这是因为梁虎常年位居年级前十，他的大头照也被装裱在充斥人头点缀的围墙上，周身被醒目的红色外框覆盖——一如他在那天早上被死者的红细胞围攻。</p>
<p>这时我们都不知道死者是谁，吓得呆若木鸡一动不动的小个子不知道，在教室里指着窗外楼下新车炫耀的唐伊也不知道，甚至如旗帜般捅在死者胸口尖刀上的指纹的拥有者梁虎也不知道。但是知道动机的人是有的，与大多数人的猜想不同，这个人不是梁虎，而是死者。当他走过楼梯的转角时他就发现了过道里这位学霸同学阴冷的眼神投射而来，然后他就知道了梁虎的动机：他只是想杀个人。</p>
<p>事实上梁虎知道为什么自己会产生杀人的念头，但是他并未凭借平日的高智商把这个想法同动机联系在一起。这个理由的确匪夷所思，因为同学们老师们都看得见梁虎每天迈着坚毅的步伐到校，脸上的笑容犹如自信在人间的唯一化身。他就这样带着自信的微笑走进了象征着一中脸面的一班，与同班的人中龙凤踏上逐鹿中原的征途。同学看到这样的梁虎都觉得他没有敌人，老师看到这样的梁虎都觉得他是一员得力干将，于是梁虎也觉得自己是天之骄子，是神的右手，是一中的领头羊，世间一切公平正义的神圣化身。</p>
<p>但有一天梁虎看见一个套子，黑色的套子罩在老师的头上宛若歌女曼妙的轻纱。梁虎看见老师奇异的装束咧嘴一笑，用胳膊怼了怼身旁的同桌一齐分享这简单生趣的快乐。这时套子突然说话，用的却是老师的声音：“站到后面去！”梁虎自信地环顾四周，想见识见识又是谁破坏了神圣不可侵犯的课堂纪律。这时同桌转头看向他——他的脖子扭动地很慢，仿佛有个套子拘留着他的颈椎。人们总是说目光没有重量，但在那一刻梁虎的确承受着巨大的重压，就他个人感受约有三万牛顿。依据牛顿第二定律他此时应当被天大的加速度裹挟着冲进墙壁，可是他却凭借着更加震慑的定力僵坐在原地。他思忖着究竟为什么一位同桌套子般的眼神会产生这么大的合力，于是他环顾四周。整个班的同学都从套子里投来沉重的目光，形成的力通过矢量三角形法则发起联合袭击，将梁虎自信的心脏敲击得支离破碎。梁虎哆嗦着站起来转身向教室后方走去，全班套子发散出的生硬目光敦促着他前进。这时他发现了教室后排排坐着的校领导们，他们的装束更加齐全：具体表现为更硕大更深邃的套子，相衬下他们平日高大的身躯都显得渺小无比。梁虎终于知晓套子里的老师为什么对他大发雷霆：在校领导面前亵渎伟大的班级秩序。梁虎站到角落里，校领导没有理会他，身上的套子也没有理会他，他们都朝着讲台上的套子。讲台上的套子似乎因为这小小的插曲冷汗直流，汗水打湿了套子，使其更添几分深邃的黑暗。</p>
<p>梁虎放学后奔向医院——他终于品尝到了因热衷于锻炼身体而未曾学习自行车的苦果——他气喘吁吁高声呼叫医生为他做眼部体检。事后梁虎醒悟应当做大脑体检，可能是这一中枢器官导致人们与自己眼前景观的不同。看到眼部无异常的检验结果时他的身心被恐慌攫取，残存的直觉被用于双腿的直立行走带领他回家。</p>
<p>父母依旧保持着与外界的正常接触，因此当梁虎满怀惊惧地望见父母未被套子笼罩的躯体时，他彻底服从于悲痛的奴役。而父母看见儿子脸上令人惊骇的恐惧，不由分说便给予出一个家人的拥抱。这之后的几天梁虎沉沦于自己的梦境之中，即使是眼里最好的观察者也无法在他的梦境中找寻到哪怕一个套子。</p>
<h2 id="stories-newcar-_4">三<a class="headerlink" href="#stories-newcar-_4" title="Permanent link">&para;</a></h2>
<p>梁虎睁开眼睛，闹钟聒噪的悲鸣尚不真切，他将其归咎为迷糊意识的接收系统尚未恢复灵敏。他下床，操纵着依然有些麻木的身躯迈步向客厅。他的记忆似乎也出了故障：不知道自己为什么沉睡。父母从客厅传来的谈话声逐渐偃旗息鼓，似乎在为他蹒跚的脚步留出余地。梁虎扭头看到父母渺小的身躯——平日里为他遮风挡雨的父母身躯怎么会如此渺小？向上抬升的目光慷慨赠送了他一个答案：父母的上半身被套子笼盖着，犹如蒸锅上的锅盖。</p>
<p>沙发上的套子无视他的惊愕，操着父母的口音闷闷地说道：“我们听老师说了，你做错了。”</p>
<p>梁虎尘封的回忆被迅速唤醒，与记忆一齐涌入大脑的还有对罩子的惊惧。他穿上鞋披上衣服，对着套子父母匆忙地说：“我上学去了。”没有回应是他们最好的回应。梁虎快步跑向学校，套子门卫站在敞开的套子校门旁看着他，他没有退路地冲向套子笼罩下的教学楼。他抵达教室。在全班套子漆黑无底的目光中，在自己深入骨髓的痛苦恐惧中，他在书包里翻来覆去地摆弄着书本，似乎想找到一把捅穿这套子的工具。他成功了——一把尖刀赫然静候在书包的夹层中。</p>
<p>正如上文所描述的那样，对于这把刀的出处梁虎没有丝毫的记忆，尽管他百般回想，他的记忆也只是“刀出现在那里”，而不是“找到一把刀”。梁虎揣起刀，扭头与全班黑压压一片套子惊异的目光对视，然后快步跑出了一班。在这时他的视野仿佛完全被沉重的套子笼盖，压抑的视野同时轻轻扼住他的喉咙，仿佛一根逐渐上紧的绞索，敦促他迅速执行自己的计划。梁虎出了教室冲上过道，在将要迈出教学楼之前他转头看向了楼梯口，一位呆若木鸡的套子同学原地不动，成为梁虎计划中第一位受害者。</p>
<h2 id="stories-newcar-_5">四<a class="headerlink" href="#stories-newcar-_5" title="Permanent link">&para;</a></h2>
<p>小个子比梁虎更清楚他的唯一目的：逃之夭夭。在她娇小的步伐启动逃离计划前梁虎拔出刀指向她，营造出惊骇的压迫感。实际上梁虎此时的视力几近全无，他的眼前仅有恐怖的黑色套子可见。他指向眼前模糊的矮小身影说：“带我去校门口，不然捅死你。”在这一短短时间内小个子做出了妥协的决定，而这一决定诱发的无数惊人结果将使她抱憾终生。</p>
<p>小个子应允着，转身战战兢兢地向着校门口走去。梁虎因视线的辖制同样以蹒跚学步般的步伐跟在她身后前进。这时一个念头如雨夜闪电般劈入梁虎混沌的大脑：他逃不了多远。本就令人心悸的死者尸体与眼前无数深邃的套子横亘在他的脚步间，在不久后必然令他寸步难行。于是他斟酌着自己从未学习过的自行车技术，对小个子说：“算了，先带我去自行车棚。”事后小个子无数次痛恨自己当时的愚钝，痛恨自己尚未意识到这一举动带来的无数后果。</p>
<p>梁虎远远地就望见一排排模糊的自行车列。迷茫的心驱动他迷茫的目光在自行车列中遨游，从第一排的首部，到第一排的尾部；再从第二排的首部顺承向右。一辆亮红色的崭新自行车不由分说进入了他的视野。这一现象既奇特又诡异，仿佛是它自顾自甩动链条，开进他迷茫混沌的大脑。这抹璀璨的红仿佛统筹着梁虎大脑中所有混乱的模块，并号召它们前去开动这辆充斥着热情奔放与速度的新车。</p>
<h2 id="stories-newcar-_6">五<a class="headerlink" href="#stories-newcar-_6" title="Permanent link">&para;</a></h2>
<p>唐伊感到思维迅捷如新车奔腾。似乎这辆车的热情奔放速度结合着骑行者的大脑，使她昔日泥泞的思维变得灵动热忱。据学习委员的统计这节课上她主动发言的次数超越了本学期内她先前发言的总和，这一振奋人心的事实引导一众视学习如命根子的一班学子在课间前来请教。</p>
<p>蜂拥而至的同学们拥挤在唐伊靠窗的座位前，将她与外界的唯一联系限制于大开的窗户。事实上唐伊此时正透过这唯一通道心急如焚地搜寻着她的新车，先前的夺目亮红在繁杂的自行车群中如同汪洋中一点油渍，难以寻得踪影。</p>
<p>唐伊实在寻不得一点红色，于是她放宽了视野。她看到车棚旁碧绿鲜香的树木花草，她看到被学子脚步踏得结实平整的混凝土地面，她看到白色油漆整洁涂抹的只露出几个小孔的围墙。这一切的一切似乎都试图拽住她自由飘逸热情奔放的眼神，试图暗示她万事安好没有什么可焦急多虑的，也试图将她燃烧的心催眠，催促她返回无边的学海中。这样安稳柔和的景观确实在某一刻牵绊住唐伊红色的思绪，在那一刻她停止了一切对新车的浮想联翩，似乎也安装上一颗机器的心脏，在亿万年不变的律动下率领她的全部细胞归顺于一中偌大的教学楼。唐伊妥协，沉默，自动删去了视角里窗外那一面的景象，她秀气的脸上带着对学业忠心始终的诚意，教科书上白纸黑字间书写着她最终的归宿。</p>
<p>唐伊正盘算着回答同学的询问，这时她忽然感到面前有一阵风吹来。这一感觉很令她诧异：她低着头怎么能感到面前的情况呢？然而这风似乎直冲她心里钻。唐伊抬手想阻拦，这风却毫不费力穿过她纤瘦的手掌，穿行过她的五脏六腑，抵达她最深的心底。唐伊这时惊讶地发现这风是有颜色的——与她心脏的颜色一同——一抹鲜艳的亮红，仿佛热情奔放速度在世间的唯一化身。一切凝滞的思想再次流动，这股红色的潮流也冲破她新安装的机械心脏，带动她的思绪再次抵达新车。唐伊不顾同学急迫的询问声，站起来走到窗前，再次寻找着新车。</p>
<p>这次的搜寻没花多大力气，只是很令唐伊惊惧与恐慌：那抹亮红出现在了校外的马路上，似乎还正被一个高年级的男生不熟练地驾驶着。心中的红色潮流再次不安地涌动，唐伊便笃定了追回新车的计划。她爬到窗台上站起来，背后仿佛有一只无形的红手助力。她依然对同学的问题置若罔闻，目光紧紧锁定那抹牵动心弦的亮红。</p>
<p>亮红突然一歪，车上的驾驶员也跟着一歪，唐伊也跟随他们的动作歪向窗外。幸好没倒，唐伊想，地上那么多灰，这一倒该多脏啊。这时一阵轰鸣响起，轰鸣与未知来源的碰撞声结伴步入所有学子的耳中，但没有学生从学习的沉醉中苏醒。轰鸣结束时亮红存在的位置被一辆货车取代，仿佛动画中一帧到下一帧的转换那样突然却又干脆。然而在轰鸣响起时唐伊的所有感官全部汇聚于眼睛，这一举动令她捕捉到了过场动画——驾驶员和亮红侧倒在地，被货车馈赠的加速度击出视野。</p>
<p>唐伊跟随着驾驶员的动作侧倒出窗外，此时她的感觉犹如驾驶着新车。在轰鸣声结束的片刻后，她刚刚离开的窗台边依旧充斥着同学们不解的询问，而她开着脑海中的新车竖直向下到达几米外的地面，在地面上催生出一片猩红的汪洋。</p>
<p>“哔哔！”学校的自动门打开，那辆货车缓缓驶入，拖下一道长长的同样是猩红色的尾迹。本来想怒斥它破坏校园卫生的门卫通过监控看清了车上装的东西，立刻挂上笑脸拨打校长的手机号码：“期末卷子来啦！”</p>
<h2 id="stories-newcar-_7">六<a class="headerlink" href="#stories-newcar-_7" title="Permanent link">&para;</a></h2>
<p>刘云一手端着圆锥曲线习题低头静静思忖着，尽管大脑皮层驱使他全神贯注于繁杂的题目，他还是不由得分心抱怨学校的安排。不就是死了个人吗？不过听说死的是隔壁班那个学习特别好的家伙，不错不错，这下又少一个竞争对手。为了这么点事还要派我来解决一下后事？说的好像死人多稀奇一样。</p>
<p>他按了按电梯口的按钮，尚在其他楼层的电梯厢缓缓下降，悠然的速率令刘云心烦气躁。门开了，果然不是红色，他想，因为红色象征着热情奔放与速度，而电梯的四壁都是惨淡的银色，模糊反射出刘云惆怅的面容。</p>
<p>“叮咚”一声宛如魔咒，拉开了电梯门。他直到这时才回忆起要调查的那个女生，但是没有想起样貌或是姓名，只记得校领导的说明：“比你低一届，平时就不太正常，最近和同班同学——跳楼死的那个——买了新自行车。妈的，小梁也就最近有点浮，但还是我的尖子生，业绩都靠他呢——也靠你，你去了注意安全，那是个疯女孩，查到准确情况后就回来，期末考给你加分。”最后一句唤醒了刘云的大脑，敦促他接下了任务。然而不知为何，回忆中校领导的描述也没有涉及外貌与姓名。</p>
<p>不过那不重要。刘云敲响了门：“有人在家吗？”门很快就开了，宛如红色的速度。开门的是个小姑娘，眼窝深陷犹如矿坑，头发散乱如野草。刘云快速地在心底感叹了一句：“真是个疯女孩。”然后以效率至上原则发送出第一条问句：“你目睹了梁虎杀人吗？”女孩麻木的眼睛像两颗鹅卵石，无法回答的鹅卵石。刘云顿了一顿，发觉无回应后试图继续推进访谈：“你目睹了梁虎的死吗？”鹅卵石岿然不动，却起到了打火石的功用，点燃了刘云的怒火。刘云一步踏入客厅，环顾四周后发现那辆情报中的新车就在显眼处，显露着令人作呕的米黄色。他上前一把攥住车把，推车向门外，为了不失高年级学生的美德他用平静的语气宣告：“这辆车与这几起命案都有关联，学校要征用调查一下。”这话违背事实却贴合了他的本意：丢了几条人命他毫不在意，拐走一辆新车还能为自己充当期末礼物。</p>
<p>这时静默无言的小个子突然发动，以千倍于鹅卵石之力拉住新车，与刘云成抗衡之势。这一变故在刘云意料之外，于是他狠狠一踉跄趴倒在小个子家坚硬的地板上。刘云于痛感之前先感知到了滑腻的触感，木地板为什么会滑腻？他忍着痛观察到顺着车胎流到地面上的油状液体，嗅觉也在此刻立了大功，为他捕捉到了一股浓烈的刺激着鼻息的气味。</p>
<p>那是汽油，谁家的自行车会用汽油？刘云猛地挣扎想要站起来，平日里尚且不错的平衡力此刻却武功尽失，令他一次又一次与地板亲密接触。他扳住自行车把，似乎立刻就能凭摩擦力之伟大屹立起来，在这时传来“咔嘣”一声，车把无比令人匪夷所思地断裂了。接下来的现象与这一状况不谋而合，在无穷多的角度上驳倒了牛顿三定律：全车发出令人毛骨悚然的响声，似乎发泄着开天辟地的忧愤，而后轰然崩塌解体，全体部件浸入油污的怀抱。</p>
<p>这一幕从视觉与听觉的双方面令刘云几欲昏坠，耳中只传来小个子沉闷而深邃的声音：“为什么她会死呢？”伴随涌入他视野的是零星的火光。刘云尚未熄灭的求生欲指引他挣扎向大门挪动。他无暇思索小个子晦涩的问句，于是凭借本能丢出一个答案：“全面发展，健康向上！”令人感叹，他的本能造出的答案——一中的校训，仿佛击溃了小个子无边的疑惑与愤慨，推动她跌坐于地，以新车零件为左邻右舍。可惜那零星的攥在她手心的火柴没能被击溃，与油光渍渍的地面相逢，宛若久别情人相见第一眼，爆发出创世以来罕有的火花。这火花高速蔓延，激发着逃亡途中刘云的潜能，催赶着他逃出了小个子家。在光亮的瓷砖上站起变得无比轻松，他狼狈地起身走向电梯门，回头望了一眼已火光滔天的小个子家，火中平静的小个子动了动嘴巴，声音很小却被他全然接收：“妈的套子。”然后这声音连带娇小的身躯和新车的遗骸便消失在了火中。</p>
<p>电梯门关上，刘云对着模糊的镜像整理着被火烧灼至残破不堪的校服，心有余悸：“真是疯子。”但他很快就放松下来，暗暗惋惜葬身火海的习题册。他想，回去要找领导多要点分，说不定分就够我找爸妈换辆新车，红的最好，有热情奔放与速度交相辉映之美。</p>
<p><strong>2022年1月</strong></p></section><section class="print-page" id="stories-weapon" heading-number="2.11"><h1 id="stories-weapon-_1">尺兵<a class="headerlink" href="#stories-weapon-_1" title="Permanent link">&para;</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 11489 个字 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 33 分钟</p>
</div>
<h2 id="stories-weapon-_2">上部 思想刀<a class="headerlink" href="#stories-weapon-_2" title="Permanent link">&para;</a></h2>
<h3 id="stories-weapon-_3">一<a class="headerlink" href="#stories-weapon-_3" title="Permanent link">&para;</a></h3>
<p>古往今来各式各样的人都认识到，武器必定是料理冤家矛盾的最佳工具。这一思想现正被战俘营里的上校全盘接收。这一思想的伟大之处有两点：一是指引着可能存在的命运之神赐予了上校一把武器，间接导致了松塘镇局部战役的终结；二是上校的死亡。</p>
<p>当人们谈起一位英雄时，首先便会想起他生命尚存时的丰功伟绩——而不是他枯败颓废的墓冢。因此我们先讲述这第一点伟大之处。上校——这一位松塘镇后世无数年轻人的目中榜样与耀眼明星，在这时只是战俘营里一个离处决之日不远的战俘。一天在用午餐时他从汤里咂出一块刀片，这位久经沙场的战士立刻收下了这枚可用之材，并最终利用它逃出生天，成为松塘镇战场上的一束希望之光。上校晚年生活美满，享有天伦之乐。他与美丽的妻子以及一儿一女继续在松塘镇这片幸福的土地上度过了余生——直至他的死期。</p>
<p>有关上校死亡的讨论向来是众说纷纭，有人说是因念起战争的梦魇饱受折磨而自杀，有人说是因行事张扬高调得罪了豪强被刺杀。更有甚者传言道上校死亡后身首无踪，居民们向松塘镇的四面八方进发都没能寻见尸体，宛如人间蒸发。而更令人毛骨悚然的是，上校的妻儿也一并消失无踪。</p>
<p>而无论是多么大相径庭的传言与观点，有一根本思想没有改变：上校的死与那把刀片脱不了干系。</p>
<h3 id="stories-weapon-_4">二<a class="headerlink" href="#stories-weapon-_4" title="Permanent link">&para;</a></h3>
<p>上校拿到刀片的那天归属于战争开始后的第二年——同时也是他在战俘营里度过的第一年。那一天空气混浊，整个战俘营里都阻塞着蜂蜜一般的空气，让人迷蒙地难以移动一步。午餐时刻的日光多少驱散了一点混沌的气体，但食堂饭菜的腐臭气息依旧令人作呕。但战俘们早已习惯于此——由此可类推出他们也习惯丧失人的本性——而上校正是他们的同类，但没有放弃对食物的渴求。</p>
<p>上校端起餐盘，向着熙熙攘攘却默无声息的队列走去。餐盘上印刷着松塘镇冶炼公司的图标，这使每日的上校都产生了一丝思乡的感觉。  上校拿了一碗米饭和一碗汤，略微发黄的米粒促使他干呕，清澈见底的汤再次使他的胃部痉挛。汤冠着“牛肉汤”的名号，内容物如同战俘们的希望——简陋稀少。他端着盘子找了个位置坐下，左边没人，右边坐着侯克龙上尉，后者在离开战俘营后成为上校的左膀右臂与民主党的高层领袖，一同终结了松塘镇局部战役，同时在战争结束后开办了一家生产老鼠药的工厂。</p>
<p>上校向这位未来的战友点了点头，一丝尿意袭来，他便向厕所走去。厕所在战俘营的另一头，与食堂通过长长的走道相连。在今后的无数时刻内，这一建筑细节都将令上校无比诟病与无比感激。走道上充斥着混混沌沌的气息与浑浑噩噩的战俘们，上校看着他们，心中又燃起了带领民主党进军的熊熊火焰。</p>
<h3 id="stories-weapon-_5">三<a class="headerlink" href="#stories-weapon-_5" title="Permanent link">&para;</a></h3>
<p>松塘镇冶炼公司开设于松塘镇建立后的第二年，彼时的上校还是松塘镇学院的第一学子。青年的上校与人为善，乐观开朗，同时性格温顺，学习刻苦，是学院最引以为傲的学生。在冶炼公司带来的巨大经济效益下，松塘镇以极快的速度发展，成为远近闻名的城镇，由此也导致战争爆发后成为首当其冲的目标。</p>
<p>冶炼公司的第一任总理早已在历史的刻刀下磨去了痕迹，在人们的记忆里没有留下一块剪影；第二任总理则是上校的同届同学，在战后成为自由党领袖的律摩安。他在战俘营建立后与其院长达成经济协定，从而保护冶炼公司免受战火侵蚀——代价是无偿为战俘营提供战俘餐盘。</p>
<p>即使战争结束后第二任总理在与上校的斗争中落败而死，冶炼公司也不复存在，后世的历史学家一致认为冶炼公司在战争时期为松塘镇作出了无比伟大的贡献：譬如说为战俘营里的上校提供了进食的工具。</p>
<h3 id="stories-weapon-_6">四<a class="headerlink" href="#stories-weapon-_6" title="Permanent link">&para;</a></h3>
<p>战争爆发于七月份，起因是毗邻国家——别林兹与上校所在的国家在边境进行了一次原因未知的火力冲突，进而发展为一场武装袭击，双方均损失惨重，史称“七月突袭”。邻国更是在此事件后摘下虚伪的友好面具大肆侵占疆土，直逼上校所在的松塘镇。</p>
<p>上校响应号召，与儿时好友侯克龙上尉组建了一支自卫队，冲锋陷阵，英勇杀敌。在一年后因深陷敌阵，寡不敌众，其余人皆身首异处，仅剩上尉与上校二人被俘。</p>
<p>每每想起在自卫队中的峥嵘岁月，不论是哪个年代的上校都会淌下一行行泪珠——包括这位正在战俘营内上厕所的上校。上校眼含泪水地回到座位，嘴里还咂巴着往昔的时光。饭碗里浊黄的米粒这时也染上了一层岁月的沧桑。他拿起碗往嘴里刨了几口饭，感到有些噎住，便端起那一碗改变战争走向的汤。</p>
<p>即使在他的舌头触及到那一片金属硬物时，上校也未尝想象过他即将成为操纵战争中心的伟大人物。他正抻着脖子卖力地咽下嘴里的米饭，在这时他的表情突然僵硬，宛若身体上流窜着高压电。他的手不住地胡乱挥动，把桌上的餐盘与饭碗一扫而空，然后他向后倒下，脑子里宛如有千万红色蜡笔肆意刻画。侯克龙上尉见状立刻俯下身子搀扶上校，这一举动也毫无疑问促使他成为战争的第二位领军人物。上校挣扎着爬起来，咳嗽声宛若五雷轰顶，仿佛喉咙里蛰伏着史前巨兽。一块浸着上校血液的金属刀片从上校的嘴中窜出，在餐盘上发出一连串的“噼啪”声，上校在惊恐的泪水中将目光投向它，它正反射出整个世界的诡异光芒。</p>
<p>由于这把刀早已同上校的消失而消散于历史的尘埃中——后世无数政权与国家都曾竭力寻找过它，企图创造一位“上校第二”，后果自然是无功而返——因此下文将引用一段上校在其回忆录《似水流年》里对于这把刀的描写。</p>
<p>“我真感觉自己是被自由党的什么家伙或是别林兹那边的什么人给暗杀了。我小时候比较喜欢化学，我宁可被氰化物之类的玩意毒个彻彻底底的死，也不想要这么个…家伙来藏在我的汤里咬我！擦干净后的这东西看起来粗糙得恐怖，仿佛是血液掩盖住了它先天粗鲁的外表。简洁而言就是一块形状不规则的金属多边形薄片，但是仿佛浑身都包裹着一层杀气腾腾的浓雾，所以勉强能看出个刀的雏形。”（《似水流年》卷二，第4章）</p>
<p>上尉咒骂着拿起那块刀片，打算把它扔得远远的，上校抬起那蕴含无穷力量的手臂阻止了他。他不会告诉任何人——即使是后来的上尉与上校的爱人都未尝知道这个秘密——他从那块刀片的光芒里，看到了胜利的荣光。</p>
<h3 id="stories-weapon-_7">五<a class="headerlink" href="#stories-weapon-_7" title="Permanent link">&para;</a></h3>
<p>战俘营后有一片草坪，草坪上覆盖着萧条的荒草，原先在大部分没有生机的暗黄的叶子里不乏有嫩绿者的存在，但是在战俘们的双脚摧毁下，这里可以称作是一片不毛之地。加之适逢夏天，草坪上仿佛升起了因日光自燃的浓烟。</p>
<p>即使如此上校也每天在这里构思逃出战俘营的伟大计划，烈日的烧灼使他的全体精神凝于一点——战争。在历史注定的那一天，他走到这片草坪，看着高高的围墙外面属于松塘镇的山脉与树林露出的边角遐想。</p>
<p>然而不久便出现了反常的现象。从山脉的更远处有几多乌云缓缓向战俘营移动，仿佛昭示着这一天对于松塘镇的巨大影响。上校正沉浸在属于自己的伟大设想中，便没有察觉这剧变的天气。</p>
<p>乌云渐渐在太阳面前织成了严实的大网，雨滴正在其间蓄势待发。上校抬头瞥了一眼天空，为反常的天气讶异了一刻，便又投身于战争的哲学当中。他没有回去的打算。</p>
<p>草坪的另一位来访者也没有回去的打算。在雨点从云层开始运动时，她便发现了这一现象。她走到上校旁边，拍了拍他的肩膀。在沉思中的上校嘟囔了一句：“嗯？”她便热情地对上校说：“要下雨了吧，真少见。”上校睁开眼睛再次望了望雨云，点了点头，然后略带好奇地转头，想看一看是谁拥有与他相同的乐趣——在烈日下沉思。</p>
<p>上校的目光立刻为眼前的这位女性所吸引，在目光锁定她的片刻后，他的头脑也被她俘获。无论多么浪漫与奇妙的词汇语句都无法描述他的感受。四面开始落下了淅沥的雨滴，将他与她罩在雾蒙蒙的小小世界中。上校的嗓音沙哑：“女士，我乐意知晓你的芳名。”她脸上的水滴使她展露出几许晶莹剔透的光。“蕾梅黛丝。”轻巧的每个字眼为上校揭开了内心的迷幕。蕾梅黛丝。蕾梅黛丝。他在心里咀嚼着这个名字，宛如清脆的银铃荡漾。“你不打算回去吗？”蕾梅黛丝的语气里填有些许试探。上校记起了他所策划的伟大战争：“我要…办一件大事，还得再想想。”蕾梅黛丝的眼睛里忽然闪烁出惊喜的星光。上校如先前一样一动不动地伫立在雨中，但是战争之事早已被蕾梅黛丝的身影挤到后方，他的心脏头一次为了一位女性发出光与热。</p>
<p>他感觉自己的手被牵住，那是蕾梅黛丝的手。手心的热量直直导向他的心田。上校的眼睛被热量鼓舞着环顾四周，他看到四周攒动的雨滴，便对蕾梅黛丝说：‘女士，你看今天的天气，多么可爱。在我的回忆录里对于这一天我会这样描述：这一天是个雨天，天上飘的全是雨点。’”蕾梅黛丝笑了起来，四周的雨滴是这笑容的倒影。</p>
<p>上校与蕾梅黛丝在雨里矗立，手挽着手。蕾梅黛丝为寻得人生的旅伴而无比幸福，上校则继续构思他的战争。但是无论是他们俩还是后世无数为这爱情故事所感动的人都明白这样一个事实：上校与蕾梅黛丝的旅程就此开始，并且没有尽头。</p>
<h3 id="stories-weapon-_8">六<a class="headerlink" href="#stories-weapon-_8" title="Permanent link">&para;</a></h3>
<p>上校对于战争的思索在这一天终于完备，而他发觉自己还尚未逾越战俘营遥不可及的高墙。这一天是战俘处决仪式的执行日，全营——除了正门口——的守卫与所有战俘都被要求前去观看，这与上校的计划不谋而合。营门口的卫兵呆滞麻木，这与广大战俘的心理特征全然一致，仿佛是他们在看管着自己的同类。</p>
<p>上校呼叫自己两位志同道合的友人——侯克龙与蕾梅黛丝加入逃跑的伟大行动。侯克龙眼里闪耀着绝对的忠诚，蕾梅黛丝为自己的信仰与感情行动。在这一天正午——即战俘处决仪式开始的时刻——他们于大门口的不远处集合。</p>
<p>正如上校无数次观察与设想的一般，门口守卫松懈如同松塘镇的中心广场。强烈的太阳光晃瞎卫兵的眼睛，使他们并未在意不远处三位野心勃勃的囚犯正在虎视眈眈地盯着敞开的大门。大门如每日一般敞开着，似乎不费什么心力便可逃出生天，逃向营外辽阔的原野。然而所有战俘早已放弃攫取自由的念想，麻痹的心灵除了苟活与进食外毫无其他目的。</p>
<p>上校一众的逃离过程进行得迅捷而麻利。即使在战争结束后，别林兹战俘营的糟粕之处也常为松塘镇人民津津乐道——其毫无章法与规矩的管理特征搭配多年来仅有上校三人逃离成功的事迹也令无数后辈啧啧称奇。门口常年倚立着两名守卫，其姓名我们已经不得而知——但是毫无疑问，在上校一行人逃离当天，其中一名守卫后知后觉地履行到了自己的使命。</p>
<p>战俘营的管理松懈使得上校三人甚至可以步行穿过其敞开的大门，当时现象奇特宛如敞开的大门正是为了迎接他们的离去。上校他们也无比惊异数月来的谋划竟然都派不上用场，于是他们的警惕意识在瞬间松懈，对战争的执念也淡薄了几分。</p>
<p>变故恰巧在这时发生：一名守卫觉醒于慵懒的阳光，惊骇地发现几名战俘的逃离，当时的上校一众已有数十米远离营门。守卫顿时领悟叫醒另一名同行是来不及的，于是他毅然端起枪管，向着上校三人的背影坚定地连开几枪。</p>
<p>倘若上校没有在那时恰巧回头，结局可能是他孤独地死于敌人追杀的某个角落。而在命运之神无比智慧的安排下上校在恰当的时刻将脑袋偏转恰当的弧度，视野里恰巧捕捉到了守卫放下枪的动作。在这一刻他的警惕神经彻底苏醒，仿佛看到了银黑子弹在阳光下闪烁的光点。上校忽然深感无力的绝望，然而在绝望的空隙间他保护自己与友人的欲望熊熊燃烧，于是响应他的诉求，上校的口袋突然振动并在片刻张开一道口子，从口子里飞出的数月前牛肉汤里的那一刀片头一次彰显它的魔力。在太阳光映照下绝望的上校只能看见一小团亮白急速飞出他的口袋，将路径上的所有子弹悉数拦截并发出铿锵的响声。而后白光窜进遥远处的守卫体内，再次穿出时带出了一片血污。</p>
<h3 id="stories-weapon-_9">七<a class="headerlink" href="#stories-weapon-_9" title="Permanent link">&para;</a></h3>
<p>上校逃出战俘营后的故事早已是妇孺皆知的传奇。在挚友与挚爱的陪伴下上校凭借卓越的军事才能以及领袖魅力，集结了一支对他本人及民主党忠心耿耿的不败之兵，并最终取得松塘镇局部战役的胜利。而上校本人在逃离行动当天的变故后渐渐发现刀片的不凡之处：主动刺杀与保护上校心中所思想的人与物。由此上校为它创造了一个无比响亮的名号：思想刀。这把刀伴随上校的戎马一生，在无数危难关头力挽狂澜，同上校一起成为松塘镇不可磨灭的传奇。</p>
<p>而上校本人在战后于政界风生水起，一举击败广负盛名的冶炼公司总理律摩安，成为松塘镇首席领导人物。值得一提的是侯克龙上尉在功成名就后于暮年依旧充满活力，退出政坛后转而经营起了老鼠药制作贩卖的市场。</p>
<p>晚年的上校坐享于蕾梅黛丝与子女的天伦之乐，而诡异的离世更是为其斑斓的一生增添几分传奇色彩。这富有传奇色彩的一生令听者无不动容，因此我们在这里为上校——这位伟大、不朽领袖的英灵，默默献出几份自己的哀思。</p>
<hr />
<h2 id="stories-weapon-_10">下部 回马枪<a class="headerlink" href="#stories-weapon-_10" title="Permanent link">&para;</a></h2>
<h3 id="stories-weapon-_11">一<a class="headerlink" href="#stories-weapon-_11" title="Permanent link">&para;</a></h3>
<p>奥雷连诺正在冶炼公司的矿物冶炼层勤勤恳恳地劳动着。他扮演一位老实工人的形象，这容易让人误以为他在这里出生长大——然而在这里没有人知道奥雷连诺的过去。奥雷连诺自幼性格压抑，乐于独处。这一特点恰巧照应了松塘镇的景象：冶炼公司横踞于松塘镇的中心，宛若松塘镇皮肤上寄居的一只肥大水蛭，将其余所有建筑与行业挤到城镇边缘，并肆无忌惮地压榨它们的营养。</p>
<p>奥雷连诺上大学——也就是威名远扬的松塘镇学院——时，抑郁孤僻的性格越发凸显，在几次刻意的旷课后，他被开除学籍。他的父母离异，奥雷连诺跟随母亲奔波，母亲后也被冶炼公司总理派人刺杀而死，因此奥雷连诺被送入冶炼公司，可能要在这里工作到时间尽头。现在的他是一个干净到彻彻底底的青壮年——心甘情愿地将自己的血肉献给冶炼公司剥榨。此时的奥雷连诺已是冶炼公司的老牌员工了——公司十几层中的每一层都有千百个这样的老牌员工——而新入职的懵懂的不知道将要遭受什么压迫的新人就更是数不胜数。在公司的政策中，“休息”二字宛若童话里的青鸟，根本瞧不见一丝影子。每天这些工人都要在钢铁巨兽的轰鸣下马不停蹄地奔忙17个小时，在如此重压下，绝大多数工人的思想早已被机械同化，成为不知疲惫与感情的工具。</p>
<p>这一天的奥雷连诺正在工作，冶炼机在他无神的双眼前轰隆作响。在几声诡异的响声后机器突然停止运转。这在平时的工作中不少见：由于机器年久失修导致的故障数不胜数。奥雷连诺用黑黢黢的手拨开机器的门槽，伸手向里面摸索，企图用手臂战胜阻塞物的顽固。这一举动危险而常见：倘若机器突然恢复运作而他没有及时把手拿出来，那一节瘦削的胳膊便会被迫跟随无数原材料一起完成接下来的所有的冶炼流程。但是在公司总理律摩安“效率至上”的法令下，无数工人都习惯于用双手与故障抗衡。</p>
<p>很幸运他的手臂这一次没有被割下，而是轻松把握住了阻塞物。奥雷连诺心里一阵惊讶：构成阻塞的玩意这么轻易就被提了出来。他发现躺在淤泥里的阻塞物断成不可名状的两节：一节是小小的金属刀片，在淤泥的覆盖下仍然令人惊奇地闪烁着光；另一节——应当称为“一段”——像是粗大的下水道管被掰弯，弯口处伸出着一根小棒，但是在淤泥的掩蔽下难以看清全貌，只能隐隐约约瞧出像一把枪的样子。</p>
<p>奥雷连诺很诧异，他的漫长工作生涯里从未见过这种阻塞物，他把两块阻塞物——姑且可认为是一把刀和一把枪——用抹布擦拭了一遍，便看清了它们的表象。刀确实有刀的样子，尽管形状宛如肥胖的海星。枪上伸出的小棒子是扳机，枪管设计的倒是别致——一半黑色一半白色，仿佛讽刺这非黑即白的世界。</p>
<p>奥雷连诺把刀枪揣进单薄的衣兜里，打算出车间找隔壁的工友小王问问。他刚一出门便听到有喧闹声从小王的车间传来，还看见有警卫守在他车间的门前，奥雷连诺跑向小王的车间，警卫抬头警惕地瞪了他一眼，他强装着笑容绕过警卫，假装不经意地向小王的车间里瞥了一眼——仅仅是一眼，他看见了小王被警卫挟持，头垂下，而冶炼公司的总理——律摩安正把一把刀捅进他的胸膛。奥雷连诺猛然记起小王对他说过今天肠胃有些不舒服，打算背着警卫休息会。令他们都没想到的是总理会来亲自查岗。</p>
<p>还有一件事是奥雷连诺没有想到的。即使他变得麻木而勤恳，当小王——这一和他同样勤劳的工人——被手握权力的总理律摩安毫无人性与法则地刺死时，他想到了自己。自己是否有一天也会死在掌权者的手里，死的没有声音，没有动静？在这一时刻他又回忆起了遥远记忆里的母亲，当律摩安派来的冶炼公司的人将她的身体用无数弹孔修饰得宛如风雨侵蚀过的高地时，她是否也为了自己与我卑微的苟活而伤悲？这一切都是因为天杀的律摩安与天杀的冶炼公司。奥雷连诺转过身，眼里绽放出宛如生命最后一刻的光芒。警卫在放他通行后并未继续注意他，这为他的行动提供了可乘之机。</p>
<p>然而在他将要采取行动的前一刹那，有一些东西提前采取了它的行动——这一事实可以由奥雷连诺刚刚开裂的左衣兜洞悉。那一把原先保存在那里的刀片仿佛接收到了什么信号，在前一刻极速穿透奥雷连诺的衣兜，越过警卫怠惰的眼神，接着立刻转变方向冲进了小王的车间，穿进了律摩安的后颈部，在几声脑浆翻涌的闷声后从他的头顶窜出，夹带着一片血污。</p>
<p>奥雷连诺与警卫同时听到车间内传来惊恐的喊声，于是奥雷连诺在后警卫在前，冲进了车间，恰巧瞧见了律摩安倒在地下的狼狈姿态，以及空中舞蹈着的闪光的刀。刀在这时立马停止舞步，切割着空气向警卫的方向飞去，警卫吓得向旁边一躲闪，刀却钻进了奥雷连诺的右衣兜，与那把枪做伴。</p>
<p>已死的律摩安与小王躺在地上，三个惊恐警卫都把敌意的眼神投向了奥雷连诺，而奥雷连诺这时仍然在回忆的驱使下保留着满腔愤怒。他从右衣兜里掏出那把枪，把愤怒的枪口对准律摩安的尸体。他打算扣动扳机，却发现扣不动，怒火便驱使他用尽全身的力气与扳机抗衡。这时离他最近的警卫压抑住内心的惊恐飞扑过来，捂住了奥雷连诺的枪管。奥雷连诺心急如焚，这时右兜里的刀片再次出动，将警卫的身体内外贯穿，警卫以惊人的毅力握着枪管，枪管便被扳到了白色一边。</p>
<p>警卫终于倒下，奥雷连诺举枪继续对准律摩安的尸体，并扣动扳机——这一回有了效果，虽然没有子弹，但是他却听到震耳欲聋的枪响声，看到了律摩安头顶黑色的弹孔。警卫们被枪响吓住，丝毫不敢移动。</p>
<p>但是律摩安的尸体开始颤抖，宛若掉入开水的青蛙。他的鼻孔里钻出白气，在尸体上竟化作一个人形。然而头顶的弹孔却宛若台风中心，摧毁着这刚建成的躯体。人形从气态喉咙里发出嘶哑的吼叫，迅速向奥雷连诺扑来。</p>
<p>奥雷连诺的心底突然平静，他感觉到自己的结束仿佛就要来临。他举起枪，对准自己的脑袋，与此同时高速移动的人形也到达了他的面前，人形伸出狰狞的气雾似的手搭住了枪管。这时人形头顶的弹孔终于将他的身躯全然吞噬，他的手被弹孔向下拉扯着，带动着枪管转向黑色一面。奥雷连诺没有看到这些，他闭上眼打定心思结束自己的一生。</p>
<p>他开枪，震耳欲聋的枪响只存在了一瞬，他的感官便全然被朦胧的黑雾覆盖，五脏六腑与四肢都传来奇异的麻木感。他想：这就是人死时的感觉吗？他感觉到后背仿佛贴在了前胸上，脚下踩着自己的脑袋，整个身子揉成一坨狂乱的肉块。难受的感觉迫使奥雷连诺大声喊叫，但是只有他的表情扭曲着，声音被打上结塞进他的肚子。</p>
<p>奥雷连诺在心灵与肉体的震荡中度过了对他而言漫长如永远的一段时间，接着他醒过来，发现自己正躺在小学的石头地板上。即使他身处冶炼公司，对过去的回忆一刻也未尝离开他的脑海。然而这一现象还是十分令他匪夷所思——他在小学没有获得任何朋友。同样令他困惑的是自己为什么出现在这里，难不成他死后的转世依旧要经历同样的劫难？太阳撒下枯黄的光亮，穿过他单薄的身子，降落在冰冷凝固的地板上。他爬起来拍了拍裤子，在劫后余生的感觉里他惊奇的发现自己依旧穿着工装——意味着他没有死去，还被不知名的神灵或是什么送到了自己的小学。奥雷连诺伸手摸了摸自己的额头，然而应有的弹孔却毫无踪迹，他慌忙地摸遍了自己头顶每一寸的领土，弹孔无处可寻。</p>
<p>他掏出兜里的枪，在清冷太阳光的照映下，这把枪正发散着诡异的热气与诡异的暗光。当时奥雷连诺没有思索太多，认为这只是开枪后的正常现象，他回忆起了片刻前——实际上是十几年后——律摩安死后“幽灵”一般的人形，在弹孔的牵引下在他面前做着飘逸的回旋，他的表情狰狞，宛如烈马在马桶冲水时的漩涡里徒劳挣扎。于是奥雷连诺对着枪喃喃念道：“回马枪。”</p>
<p>在不远处有个小男孩瞧见了奥雷连诺的出现，他看着奥雷连诺摸头的滑稽姿态爆笑如雷。奥雷连诺看见了他，招呼他来这边。小男孩走近后胸口的学生证也被奥雷连诺的视觉俘获：“侯克龙”。他对小男孩侯克龙呆呆地发问：“这里是？”“松塘镇小学。”小男孩的话勾起了他在这里孤独的回忆。他打了个寒颤，站起身来走动，却感觉骨头宛若豆腐渣工程，马上将要解体。小男孩侯克龙问道：“要我叫老师吗？”奥雷连诺摇了摇头，牙缝里艰难蹦出几个字：“不用，我走走。”奥雷连诺看到四周与自己小学时代的四周别无二致，都是一样的荒凉萧瑟，便走进了教学楼里，侯克龙跟在他的身后。</p>
<p>奥雷连诺找了间教室进去，蹒跚的脚步在楼里格外响亮。他找了个椅子坐下，然后发现不远处坐着另一位小男孩，小男孩听到声音回头看向了他。</p>
<p>在奥雷连诺的诡谲人生里他看过不少电影，时空穿越这类电影格外罕见，在这类电影里通常会探讨主人公遇见年轻的自己时会产生怎样的反应。回到奥雷连诺小学的这一刻，他便是主人公。不用提到他这时是否观看过这类电影，奥雷连诺甚至还没有意识到他刚刚进行了一次时空穿越。因此当他看见外表酷似童年自己的一个孩子时，他登时愣住，浑身噼啪作响的骨头霎时间丢了声响。</p>
<p>在小学后的日子以及在冶炼公司的遭遇使他的相貌彻底改变，因此这位小学时代的奥雷连诺还没有意识到眼前的人就是自己，反而是成年版本的他惊诧不已。在惊诧过后来的就是恐惧：奥雷连诺在心里劝说自己深呼吸，平静下来，手却不由自主伸向衣兜，伸向回马枪。他站起颓废的身子向教室外走去，迎面碰上赶来的小男孩侯克龙。</p>
<p>奥雷连诺的呼吸愈发紊乱，他癫狂地挥动着手臂拦停了侯克龙，用干涩青瘪的声音对他说：“你去和那个小男孩......聊聊......”侯克龙面露疑惑，但还是走进了教室。而这时候的奥雷连诺笃定自己的精神已经崩溃，甚至过去的自己都在眼前显现，他抬起回马枪，又一次回忆起了自己用白色枪管枪杀律摩安的一幕。他想，上一次用黑色没有杀掉我，这次就用白色。他急促呼吸着，竭尽力气将枪管扭向白色，对准自己的脑子，又一次扣动扳机。</p>
<p>奥雷连诺在片刻间穿梭于熟悉的黑雾与奇异的麻木感里，又在片刻间脱离了它们的掌控，倒在绵软的田野上。他睁开眼看见了星星，迷失在空中的星星也嘲弄着地上迷失的他。奥雷连诺坐起身子，远处忽然有人用呼喊声做出提醒他的尝试：“那里是谁？举起手来！”接着向这里跑来，在星光的映照下奥雷连诺看清他们是本国的士兵。然而思绪的混乱与求死的强烈欲望引导他再一次抬起回马枪的白色枪管，这一景象被赶来士兵的目光恰好捕捉，同时指引士兵们做出同样动作——他们的枪比奥雷连诺的还要多一丝美感。</p>
<p>这时奥雷连诺又听见一阵响声——来自同上面士兵来路相反的一边。当他们走进星光范围内奥雷连诺发觉他们的军装与身旁本国人的丝毫不同。但是他唯一的目标便是去死，于是趁着本国士兵将枪口警惕地转移向这帮不速之客——仅仅只有一刹那，奥雷连诺飞速扣下扳机，开枪发出的响声震惊的全体士兵，仿佛将天上星星抖落几颗。</p>
<p>紧接着一位本国士兵率先错误认为枪声来自于一位暗影里举枪的邻国士兵，抱着家国情怀他视死如归地冲上前去向对方看不清的面庞开枪。与此同时奥雷连诺正包裹在黑雾中倾听着逐渐远去的此起彼伏的枪声，麻木感似乎提醒着他：这是战争的开始。</p>
<p>再次苏醒后尚未死亡的痛苦席卷了奥雷连诺的全身，他的生命之火早已于冶炼公司燃烧殆尽，最后一丝可敬的光亮也被死去的律摩安吸收完毕。然而宁静的痛苦马上被汹涌的人声掀翻，奥雷连诺发现自己正趴在光滑平坦的石英地板上，身边来去的人都穿着一样的条纹衫——囚服？他的脑海里立刻窜出一个疯狂的想法：与最近的一批死刑犯一起被处死。</p>
<p>奥雷连诺身上依然穿着冶炼公司的员工服，然而他发现周围的囚犯眼里全然是麻木与空虚，甚至连这一事实也未尝发觉。一股令人作呕的臭气奔涌向他的鼻腔，他四处张望发觉臭气来自于附近的厨房。奥雷连诺决心在这里了结自己漫长且无趣的一声，于是他先盘算着如何处理兜里的刀枪。他小心翼翼地穿梭在囚犯的人群里，害怕被发现自己不是这里的原住民，然而这一想法实属多虑，周围囚犯的眼神空洞至极，连他在使用回马枪进行时间旅行时看见的黑雾都要比这多几分实在。</p>
<p>奥雷连诺端详着囚犯们用餐的座位，他的眼神忽然聚焦于一位男性囚犯，他的五官排列与人体形态无不昭示着他遇见了几十分钟前——实际上是十几年前——见到的那个小男孩侯克龙。此时的侯克龙正值风华正茂，及时双目黯淡无光，浑身却发扬着盛气凌然的气息。奥雷连诺慢慢踱步过去——在陌生的地方人们总是愿意靠近熟悉的人或物。这一理论驱使奥雷连诺走向侯克龙的座位。而走到半路他却停下了脚步，他估算了一下距离，鬼使神差地掏出兜里的刀片，以将死之人回光返照的姿态将它投向侯克龙——以助他以后的人生一臂之力。然而奥雷连诺长期的冶炼工作摧毁了他手臂的小部分能力——其中就包含了定位目标，于是刀片迈开抛物线的脚步，同时闪耀着诡异的光芒，歪斜着却不偏不倚地坠落于侯克龙左边座位拥有者的碗里，其中的汤水遭受打击，溅出几点清澈液滴。然而侯克龙尚未发觉邻座上校的饭碗被侵犯这一事实。</p>
<p>奥雷连诺没有察觉这一纰漏——他在刀片飞出后便扭头思索回马枪的去处。他迈开脚步漫无目的地跑，迷茫眼神顷刻间被拥有同样迷茫眼神的一位女士。彼时的奥雷连诺已经被另一条时间线上无休止的冶炼工作磨灭了一切对异性的渴求，因此这一相遇只是命运之神戏谑安排下两对相似的迷茫眼神碰面而导致的结果。但是奥雷连诺没有心思思索，便被莫名的吸引力扯向了食堂门口的她。</p>
<p>他不知怎的来到了她面前，左手伸手摸向口袋里的回马枪，右手有力地捂住了这位女士可能因惊恐而喊叫的嘴巴。为了表明自己并无不轨之意，奥雷连诺迅速把枪塞进了她的口袋，用颤抖快速的嗓音低声说：“不要把这个…给别人。”他立刻转身逃离食堂，同时在心底默默为自己将至的死亡感到欢喜。在他的背后，那位女士掂量着口袋里的手枪，饶有兴致地看向了奥雷连诺的背影。</p>
<p>几天后，在计划执行的战俘处决仪式中，奥雷连诺混进衣衫褴褛的囚犯们。他头一次吃到纯正的枪子，然后闭上眼睛。</p>
<h3 id="stories-weapon-_12">二<a class="headerlink" href="#stories-weapon-_12" title="Permanent link">&para;</a></h3>
<p>奥雷连诺·麦斯上校睁开眼睛。一些不详的因素驱使他在这样一个幽深可怖的夜里苏醒——其中就包括刚刚那个荒唐的梦。他起身游荡在偌大却空无一人的房子里，在短暂的“我死也不会去政敌的手下打工”的思想后，他的思绪终究是被梦里的蕾梅黛丝牵引，带领他逃出阴暗深邃的黑夜。蕾梅黛丝早已于多年前病逝，而上校与她也未曾有过子嗣。一切媒体的报告全由上校在幕后操办，营造出他正陶醉于天伦之乐的假象。只有他独自在夜里时冥想时，蕾梅黛丝的容貌与音声才会悄然造访他干涸的心田。除此之外，与他持久为伴的只有衣兜里的思想刀。</p>
<p>房间里绕过的几圈反而增添了上校心头的几许疲累，其中甜丝丝的回忆愈加难以排遣。上校回到卧室，坐在蕾梅黛丝床铺的一侧，拉开了床头柜的抽屉。即使多年无人使用，在上校每天的细心擦护下，抽屉表层没有一丝灰尘显现。抽屉里全是蕾梅黛丝生前热爱的书籍。上校像往常一样拿起一本翻阅，妄图在这里寻求爱人的蛛丝马迹。一本接着一本，在字里行间仿佛有蕾梅黛丝的灵魂浮现，如同往昔岁月般陪伴在他的身畔。</p>
<p>以往的上校总是只读下一两本，就在蕾梅黛丝那并不存在的虚影陪伴下坠入梦乡。但是今天——由于那一些诡异因素的驱使——他继续研读着，在字句里与蕾梅黛丝的影像再度重逢。上校在书籍已尽时继续伸手探向抽屉，他却摸到了一张纸条。上校疑惑地展开纸条，蕾梅黛丝清冽的笔迹赫然显现：</p>
<p><strong><em>“时代终究为你我叹息。”</em></strong></p>
<p>他惊讶于自己数年未曾寻得的爱人的踪迹竟潜藏于自己的眉头之下。于是上校把纸条小心翼翼地揣进衣兜——衣兜里正沉睡着多年未曾使用过的思想刀。</p>
<p>他站起身来，脑海里还存留着蕾梅黛丝绰约朦胧的风姿。这时候一阵窸窣的响声从上校的后背传至前身，捣碎了他脑海里有关爱人的最后一点念想。于是上校不满地转过身，与此同时他尚未发觉衣兜里正在增重，宛如命运之神再次垂青，给予了他一些有质量的玩意。</p>
<p>眼前的来客正开始爆发出可怕的喘息声，其间夹杂着若有若无的嗤笑声，而声音的来源勾起了上校的一切回忆，以此他也登时醒悟不久前看似荒唐的梦确是他的一生。眼前的身躯在昏暗的灯光下呈现出烟雾状的体感——这一形象与上校梦境——同时也是上校心灵深处的那位宿敌律摩安不谋而合。上校诧异而又恐慌地问到：“你，不是死了？”回马枪在面前幽灵头顶的刻下的弹孔仿佛还历历在目，然而此刻的这团幽灵完美无瑕。</p>
<p>这时候他终于察觉衣兜的重量正在大幅度变化，于是上校伸出手摸向衣兜，熟悉的棱角暗示着这正是那一把改变他人生轨迹的回马枪。他下意识地想要掏枪向面对的敌手还击，但是幽灵灵活的身躯开始扭动靠近，并且不断发出怒不可遏的轰鸣。在年老的上校拔枪前，这位宿敌的幽灵用烟雾制成的手臂锁住了他的喉咙。</p>
<p>上校在幽灵两臂的间隙里剧烈喘息着，四面看见的都是层层叠叠的迷雾。一溜烟似的幽灵化作一团气焰，向他的喉咙里死命地钻去——方向恰好与多年前思想刀在上校嘴中旅行的轨迹相反。</p>
<p>上校在这个不妙的时机回忆起了自己的一生，从前一生冶炼公司的哀苦到偶然寻得回马枪，到这一生的吞吐思想刀后主宰战争。蕾梅黛丝的英灵也同时横亘在他的头脑中。上校忽然意识到年轻时的愚昧颓废早已在时间的洗涤下褪得不留一丝痕迹，因此直到这时他才真正为自己的成功留下泪水。</p>
<p>上校知晓这天杀的幽灵——同时也是他永恒的敌手将要霸占他的身躯。他瘫倒在地板上，在失去意识前他的思绪里全然包含着他的爱人蕾梅黛丝与友人侯克龙，他的这两位虔诚的旅伴将会永生永世陪伴他的灵魂。</p>
<p>律摩安——这位自由党的枭雄与上校的敌手，穿行在上校的五脏六腑里，引导他的全体细胞发出可怖的嘶吼，仿佛宣誓着这场斗争的最后赢家非他莫属。然而上校的眼里猛地迸发出搅动天地的光芒——倘若侯克龙上尉在场，他一定会看出这光芒与多年前他在那把沾满了上校鲜血的思想刀上折射出的光芒一模一样。上校的两手摸进衣兜，改变他一生的两把武器如往常一般平静地待在那里。他掏出回马枪，在对爱人与挚友的思念里，走向了唯一的道路。</p>
<p>上校用力将枪管扭向白色，这一枪会送他去未来。他在心底默默念出律摩安的名字，思想刀立刻穿透他的外衣与皮肤，狠狠刺向律摩安的所在地——他的身体内部。</p>
<p>上校忍住前所未有的刺痛——即使是在自卫队突围时所受的枪弹洗礼也无法带来比这更深刻的痛苦——把枪口对准了思想刀刺入皮肤的地方，开枪。</p>
<p>熟悉的奇异感觉顿时从伤口处传播而来，然而上校的使命还未完成。上校在被这奇异感吞没前再次抬起回马枪，竭尽全力将枪管扭向黑色：这一枪将带他回到过去。枪口登时对准了自己的太阳穴，几乎是同一时刻体内传来幽灵律摩安撕心裂肺的哀嚎，上校便扣动了扳机。</p>
<p>两种熟悉的软绵感觉碰撞在一起，身体撕裂的疼痛便顷刻从身首相接处传来。在脖子被扭断的瞬间上校听到了幽灵律摩安龟裂的响声。上校舒了口气，剩下大半截身子去哪里已经不在他的思想范围之内。他的眼前被软糯的黑色迷雾覆盖，这暗示最后的旅途将要开启。</p>
<p>他开始考虑把自己的脑袋带到哪个时候舒服一点。他的脑海里果断浮现出他与蕾梅黛丝相遇的那一天，他想到她手心温暖的触感与清亮的嗓音。上校仅存的的头立刻侧倒在战俘营草坪上不为人知的角落，上校用侧着的眼睛看到远处侧着的年轻的自己与侧着的年轻的她相遇。他的脸颊感受到了一点坚韧的雨滴坠落，他想起来了：那一天是个雨天，天上飘的全是雨点。</p>
<p><strong>2021年2月</strong></p></section><section class="print-page" id="stories-mice" heading-number="2.12"><h1 id="stories-mice-_1">老鼠<a class="headerlink" href="#stories-mice-_1" title="Permanent link">&para;</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 6097 个字 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 17 分钟</p>
</div>
<h2 id="stories-mice-_2">（一）<a class="headerlink" href="#stories-mice-_2" title="Permanent link">&para;</a></h2>
<p>我喜欢老鼠，因为我就是只老鼠。热爱自己的同类似乎没有什么奇怪的，譬如说我们的族长——一只老鼠——他爱着我们所有老鼠，但我们没几个人爱着他——尽管他拥有我们当中最魁梧的身材，最深黑的眼瞳。</p>
<p>族长正在台上演讲，激扬文字，口若悬河。唾沫星子从硬邦邦的胡须围织的甲胄中喷出，前排的几只同胞惨遭洗礼，正对他的脸龇牙咧嘴。台子用新生小老鼠的尿和泥制成，在摇摇欲坠中保留着最后一丝岿然。狭小会厅里挤满了我的所有同类——1571只有着伟大能量的小小生灵。坑坑洼洼的大理石天花板上投下明明暗暗的灯光，昭示着电力在鼠类中的广泛应用。没几只老鼠听进他的话。我打了个哈欠——瞬间在会厅中激起一片哈欠的浪潮——问了问身旁昏昏欲睡的小个子老鼠：“他在说啥子哦？”从他昏昏欲睡的哼唧声中我才了解到：是在谈“大进攻”的事。</p>
<p>小个子嘟囔道：“他还真以为这计划能成啊，真有够蠢的。”我低下头左右窥视了一下，小声说道：“可不敢乱说，没有他咱们可能还过不上这好日子呢。”这是实话。自他某日突然亮相在下水道的枢纽系统，带着一身新衣服与一箱子新奇玩意，操着一口流利的汉语——我们这片土地上的人类讲的语言——的那天起，差不多有半年了——这计数法也是他教我们的，他说：“太阳升起来再落下去叫一天，三十天叫一个月，十二个月叫一年，学会了吗，我的老鼠同胞们？”没有答复，但他还是孜孜不倦地教着我们人类世界的一切新奇玩意，我们也照单全收，但是没有一只老鼠感激他。我们学会了有关数学，经济学，建筑学，化学的所有知识，学会了造屋子，开自行车以及洗脸刷牙。他夸奖我们：“老鼠学东西就是快！”我心底浮起一个声音：你不也是老鼠？但如同我的一千多位同胞的沉默，我也没有吱声。</p>
<p>他引领我们搬进人类富丽堂皇的建筑底部，雕刻出一座座符合老鼠审美的居室，驰骋在大街小巷的阴影中——因为这些知识与科技。我常常在早起刷牙时听见他的念叨声从墙壁的另一边传来：“真是科技改变鼠生啊。”但也只有他这么说着，这么想着。因为我和同胞们只不过是想在这世上活的更好点罢了。他反驳：你们那不叫活，叫混。就算我们是老鼠，也得有点大的志向哇。但一如既往没谁回应。他愤恨地跺了跺爪子，真是对鼠弹琴！我们也不懂这个词的意思，便由他说去。转头到第二天，他却又扬起兴致，教我们做这做那了。</p>
<p>尽管族长有着魁梧的身体，行动起来却显出一丝笨拙。每每他指挥着我们从我们这间屋子的原住户——我们叫他小王，他尚不知自家的每一处脉络都被这座城市里的一只老鼠头目摸了个遍——那偷点东西，自己总是落在最后，气喘吁吁仿佛在与我们诀别，胸口的硬毛也被汗水浇了个遍。明明都是老鼠，我们却比他敏捷多了。看到我们在四通八达的管道中飞檐走壁时，他充满歉意地笑笑，老鼠们看了看他，沾满面包屑的嘴角扬起一丝嘲弄的笑。</p>
<p>那天他自顾自搬了一瓶酒。它就放在离大本营不远处的柜子里。当他连滚带爬地把那只小瓶子拖回大本营，浓烈刺鼻的酒香呛住了我们所有老鼠。夜宵时他争着要让我们也尝尝这玉液琼浆，我们不情不愿地拿出了先前偷来的玻璃杯。褐色的液体中穿过暗淡的电灯光，宛如人类世界的余晖。他举杯昂首，一饮而尽。我们半信半疑地学着他的动作，从没有过的灼辣感贯穿老鼠们的五脏六肺。族长似乎醉了，我们也似乎醉了，他晃悠着撑起身子，接着便道出了那个惊天动地的计划：“我要带领你们发动‘大进攻’。”</p>
<p>时至今日我依稀记得那个昏暗灯光下的午夜，半醉半醒的老鼠们由此被改变了自己的后半生。</p>
<h2 id="stories-mice-_3">（二）<a class="headerlink" href="#stories-mice-_3" title="Permanent link">&para;</a></h2>
<p>“JO23B型灭鼠药是您的最佳选择！”报纸上用醒目的大字作为头版，宣告着我们的又一劲敌出现。小个子接着读下去：“......目前已展现良好应用前景，已投入广大饱受鼠患社区使用......毒性良好，适用于所有类型的家鼠、田鼠......”族长眉头蹙起，担忧地说：“咱这不会也有吧？得通知大家伙出去觅食要注意点。”我满不在乎地挠了挠头：“别担心，咱老鼠都聪明着呢，要有什么怪味啥的都能分辨出来。了，况且小王也没可能发现咱们。”我吃完最后一块松饼，用手抹了抹嘴，在衣服上胡乱揩了揩，打了个惊天动地的饱嗝，起身说：“走了走了，你也别瞎担心我们，好好筹备大进攻就行了。况且等到咱称霸了人类世界，这玩意都得丢大海里。”说完我也笑了笑。</p>
<p>我依旧记得在我离开时族长仍然紧紧蹙起的眉头，或许暗示了他的话终有一天会得到灵验。但我也并没有思考太多，只是午睡时在床上慨叹人类的自以为是。</p>
<p>翻了个身我又念起小个子来。老鼠没有名字，这一现象长期为族长诟病，因此当他看到鼠群中有如此一只身材矮小的同胞时，便殷切地称呼他“小个子”——这一称号流传开来，不禁使鼠群对族长的言语多了几丝敬佩，尽管这敬佩又在连日关于“大进攻”的唠叨中烟消云散。</p>
<p>但是小个子的确和族长是一脉相承。族长所赠予的新奇物件，只有他全都接受了，工工整整地摆在窝里。每天我都看到他和族长一齐摆弄着轰隆隆作响的油墨机器，或是指针嘀嗒转动的钟表。同胞们见了这一幕也私下偷笑，好似小个子与族长是一丘之貉（我自认为“一丘之鼠”听起来更加客观）。但我却不止一次看到过小个子露出平淡的眼光——那种真正老鼠的眼光，而不像族长一般时刻热切地闪耀着——他的目光只是在平静中揉碎了一点点热量。这不禁又使我揣测起小个子的为鼠处世来。在夕阳的梦中我又梦到了一条河，族长在河的对岸，伸过来一根瘦小的写着“大进攻”的芦草枝，我和其他老鼠在河的这边，看着这根芦草枝嘲弄地大笑。而小个子正在湍急的流水间踌躇，眼见着那根芦草枝伸到了自己眼前，也不知是攀附或是放弃，仿佛立刻便会溺葬于水中。</p>
<p>我突然听到敲门声，这声音便从河边带我回到鼠窝。一声、两声，明明敲得很慢，但我却仿佛可以感知到急促。我跳下床，也急促地缓慢着走向门，似乎有东西拉着我的尾巴。我回头，却发现什么也没有，再扭过头来，已经到了门边，我打开门。</p>
<p>是小个子，但看起来又矮了一截，在俯视时我又想到观测量筒液面时的“仰低俯高”效应。然而小个子却仿佛更低矮了一些。他的毛发掉了许多，夹杂着绯红的血色。露出的皮肤上却长满了大块小块的黑色斑点，犹如发霉的生猪肉。从来的路上他掉了一路血红的毛，宛如红细胞为老鼠洞奏响的冰雪华章。他挣扎着抬起头，我方看清他的脸——一团红棕黑色混合乱麻中的那双眼睛已经被鲜血迷蒙，耷拉的皮肤犹如橡皮泥般粘在了骨骼上。我颤抖着扶起他：“小个儿，发生什么了？”他在我怀中痉挛着：“是...是鼠药...在他们家的冰箱旁边...那个新型23的...告诉大家小心...”他深深喘了喘气，用尽最后一丝气力道出最后的告诫：“族长他...只有他是对的...唯一出路就是...大进攻。”伴随着那个一直以来对我而言无比荒诞的词汇出现，小个子死了。</p>
<p>而他的尸体先躺在我的怀里，为我的绒毛也增添一朵朵血色蔷薇。族长第一个沿着血迹赶到，他的脸色焦虑而悲伤——为又失去一位同胞。但当他看到我怀中的小个子时，灰色的脸霎那间变得扭曲与愤恨。“哦，哦，为什么？”他握住小个子耷拉的爪子，仿佛在为他做祷告之类的仪式。他的眼里涌现出大大小小的泪珠，落下来晕开了小个子身上干涸的血迹。他看了看沾满血迹的我，问：“为什么？为什么？”</p>
<p>在这时候我便刻意把注意力移开，发现竟没有一只老鼠前来观望他们死去的同胞。附近的老鼠窝中传来哗啦啦的洗碗声，阴影下的小老鼠嬉戏着打牌，投来冷淡的目光，环卫工人看着一地的血迹，嘴里吐着脏话。这一景象是如此的熟悉，宛如每时每刻都在恒定发生的鼠群万象。我又念起我曾经也是他们中的一位成员，但却立刻有些反胃，宛如我不再属于他们的行列。</p>
<p>我回头看向族长，他的泪水在高壮的身躯上驰骋着。他不是我们的一员吗？不，一直都不是。但为什么他的眼里也会流露出哀戚呢？那哀戚中存有几份怨怒，蕴着几点悲壮。他又看向我，又露出些惊讶的神色，仿佛是看到我眼底一分与他相像之处。于是他的爪子颤抖地跨过小个子干硬的尸体，拍了拍我的肩膀，酝酿着这世上最沉痛的愁怨，说：“我们能坐以待毙吗？能等到那天杀的鼠药把同胞们全都屠杀吗？不能，孩子，不能。”他振了振紧握的爪子，静默中流出一句话语：“就要来不及了。”</p>
<h2 id="stories-mice-_4">（三）<a class="headerlink" href="#stories-mice-_4" title="Permanent link">&para;</a></h2>
<p>族长正在台上演讲着，动员大进攻最后的力量。“同胞们，我的同胞们，小个子死了，”台下没有老鼠在意这句话与他的死，时刻传来的嬉闹声倒听起来别有一番气势——他长息一口气，鼓足全身的干劲，气势磅礴地振臂高呼，“大进攻，同胞们！大进攻是我们最后的唯一的出路！否则，我们只有全军覆没的下场！”他的身影之黑在昏暗的灯光下漫出一卷金边，犹如对这个世界提笔指点的画家，然而台下的鼠群熙熙攘攘，这又使他的身影现出几丝单薄。这句话在鼠满为患的会场内瞬间销声匿迹。我抱着一个箱子，一沓纸票，在同胞们的身影间穿梭。小个子死后，我自然变成了他的代言人，这可不是份好差事。老鼠们在皱巴巴的支票上写下是否参与“大进攻”，投入溃烂的纸箱中。我踱步在过道狭窄的缝隙中，身上布满了同胞们冰冷的目光。</p>
<p>在某一个时刻，一个极其微妙的时刻，我的身后，仿佛从遥远的地方，传来了轻微却深刻的一声“咔哒”。我清晰地记得那个时刻我正面对一只小小的同胞，他的身形有些与小个子类似，面貌却差得多。他正摆出鄙弃的神色，宛如嘲弄我当下的身份。但我也没有什么机会去咨询他的意见了：仅仅是在下一个时刻，那轻微的“咔哒”仿佛被无限放大，放出我一生聆听过的最嘈杂声音。机敏的本性令我飞快的转过头，眼前的景象却令我终生不能忘却。</p>
<p>颓然的讲台有如山崩地裂，无数泥巴纷纷四散。而我向上看去，那竟是一双人类的手指！整个会场瞬间混乱不堪，无数见过世面的老鼠带着没见过世面的老鼠东奔西逃，惨叫声与欢呼声此起彼伏地传来。我却逆着鼠群看向那双手指，它正揪住族长的尾巴，将他从一团废墟中揪出来。这时我才发现，即使是高大健壮的族长，在这一双手指的映衬下，也无不透露出显著的渺小。</p>
<p>这时那双手指发出粗糙的声音：“人类消灭老鼠，不是天经地义的吗？”我分辨出那个声音了，是小王，他终究发现了我们。“怎么可能？怎么可能发现我们？”族长掩盖不住语气的痛苦与震惊，接着又带出些悔恨与绝望，“不！不！我害了他们，我害了他们！”但接着又仿佛想到了什么：“我的同胞们！他们也在这里，他们会报复你们的！”这时他尽全力扭过头来，他与我对视，我与他对视，硕大的会场废墟上我们这两只老鼠在对视，一只在空中，一只在地上。手指便爆发出爽朗的笑声：“你真的以为，只靠你自己就能成功？或者说，只靠你就可以感悟整群老鼠？你真可悲。”手指仿佛看见了我，便似乎来了些兴致：“你是？他的信教者，还是信徒？”恐惧使我的声带系上死结。他便兴致全无，木讷地说：“那么你就当见证者吧。”于是会场顶部又破开一个大洞，刺眼的光亮迫使我闭上眼睛，当我再次睁开时，便已经被带到小王家的茶几上了。</p>
<h2 id="stories-mice-_5">（四）<a class="headerlink" href="#stories-mice-_5" title="Permanent link">&para;</a></h2>
<p>这似乎是从有机体产生意识至现在这一刻最奇异的一次审判。小王坐在沙发上翘起二郎腿，抽着烟，烟雾让茶几上的我都流下眼泪，却不比前些日子为小个子的悲恸而生的涕泪。小王深邃的目光洞察了我一遍，开怀大笑，说：“看看，这儿还有你的老大呢。”他便提起一只手，让我看到了族长憔悴的脸皮。然而令我吃惊的是，他的眼中依然燃烧着颓唐的火焰。但好似我患上了失语症，无论如何也吐不出半句或疯狂或理解的话语来。他将族长捆在一个小椅子上，这椅子像极了族长曾经带来的乐高玩具，使老鼠不禁感叹人类造物时仿佛也能念起老鼠来。</p>
<p>这时小王戏谑的眼神中又生成了几许黑暗的冷酷。他丢过来一只中性笔芯——对我而言和电线杆没有什么区别——与一张纸。他从牙缝里“嘶嘶”地对我说：“你是他的传承者？”族长的眼中似乎满是期待与希冀。于是我别开头去，发现四处的角落中都蹲满了我的同胞们。族长跟随我目光的游移，也发现了这一情况，我们俩的眼里顿时涌出了无比的喜悦。</p>
<p>然而小王却只是往大致的方向看了看，便轻描淡写地说：“我叫他们来的。”这时族长变得仿佛胜券在握，颓弱的身子在枷锁中鲤鱼打挺，他脸上焕发出夕阳般的霞光，得意洋洋地昭示小王：“你一个人类，也无法抗衡老鼠们的伟大力量！”小王叹息：“不是‘老鼠们’，这里只有你自己......和你那可悲的信徒。”他这话颇有些怜悯的意味，族长却不以为然。“同胞们，同胞们！听我的指挥，从各个角落发起进攻！”他卖力挣扎绳索中的双手，激昂地进行着有关“大进攻”的最后演说。</p>
<p>但是鼠群没有任何反应，有的老鼠在打牌，有的在嚼着口香糖，在昏昏欲睡的他们时不时投来眼光的片刻，那眼光中的讽刺与冰冷立刻使我回想起小个子死去的那个下午，这样的目光也如此将他的尸体穿刺得千疮百孔。我明白小王的意思了——但族长依旧沉溺在自己热切的希冀中，企图点燃同胞们心中早已磨灭的斗争之魂。小王对我说：“笔就在你面前，若是议和，我放你们一条生路；若是顽固斗争......”他拿出一个造型瑰丽的瓶子，上面用小个子的血迹深深印着“JO23B”这串编号。我不禁继续讶异于人类在工业品方面的深刻思维——如此精致的，仿佛凝聚了所有智慧生物精气创造出的物件，却能够在无数角落无数时刻残害无数的小小生灵。</p>
<p>“不要和谈！不要和谈！”枷锁里的族长恳切地急切地冲我喊着。我的心里仿佛长出了另外一颗心，它仿佛在把这支黑色的中性笔芯在我手中折断。这颗心打开了一台显示屏，向我展示着那些画面：JO23B型灭鼠药，小个子的尸体，还有枷锁里的族长。他们忽然又如同走马灯似的重现在我眼前，朝我呐喊，朝我悲嚎。以及我梦中的那条河流，我低下头，发现我正在河中央，脚下踩着小个子矮小的身体。我庄重而又坚毅地高举起这支笔，用两只羸弱的爪子握住，打算扭断。</p>
<p>忽然，在如此短的一瞬间，似乎只有“时刻”能形容的一段时间里，那些画面又远去了。我环顾观众席上歪七扭八躺着坐着的同胞，他们构成了新的画面：脸上甚至可以说没有表情，一些年轻的小伙子们在打牌，几位年长的在满不在乎地打着哈欠。他们时不时看看族长，眼里冒出的神情或是戏谑或是冷漠。而后他们有看向我，疑惑的眼中也夹杂着几丝无情：你真的是我们的同胞吗？你真的要和这个蠢货一起去“大进攻”吗？我们老鼠都是抱团取暖，但他们快要不把我当作一员了，和族长那颗头比起来，还是这事更重要啊。“你们那叫混！”族长的声音从遥远的回忆中传来。是的，我们就想混得舒服点嘛。我的另一颗心立刻枯萎了，真不错，我想，那玩意可阻碍我的老鼠生涯呢。</p>
<p>我拿起笔来，轻轻松松地在那张纸上画了几笔：代表全体老鼠。在这一刻，我的心便真正属于伟大的老鼠。</p>
<p>仅仅在我签上字的一瞬间，族长的头颅——那颗永远挺直的头颅——默默地低下了。观众席上鼠群的喧哗声似乎没有什么变化，但这世界在我眼前却变了个样。同胞们的眼神忽然是如此温馨，集体的归属感再次于伟大的鼠群中出现。而我又看看组长，原先的他宛如一个异教徒，为了自己的荒诞学说不惜舍弃一切；现在的他，甚至只是在颓丧中坚守着几分顽固。他是如此可悲，我想。我再次听到了同胞们心中的声音：他是如此可悲。</p>
<p>在同胞们的嬉闹与小王的冰水般的笑容里，族长没有抬头。直到某一个时刻，小王从厨房拿来一把菜刀，从其锋利的表面产生的镜面反射现象我可以一窥族长的表情——但其实也不需要了，在下一秒内，他便毅然抬起了头。噢，他还是没变，激昂的神情依旧由烈火般的目光所映射，只是多了一份平静与一丝哀伤。族长的声音从未如此这般苍茫与悲凉：“他们太可悲了，他们。”小王饶有兴味地看了看观众席里的同胞们，有的同胞听见了这一指控，叽叽喳喳的笑声散落在了刑场的每个角落。我也觉得不可思议：可悲？他似乎才是最可悲的一只老鼠。</p>
<p>“他们没有见过人类世界的绚丽与幸福，他们只是过着自己最简陋最苟且的生活。甚至说，甚至说，连在最恶劣的环境中都安于现状。但是他们应当有自己的理想，应当追求自己能料想到的，自己能探求到的最美好的事物！”他的声音颤抖而又坚毅，“但是，但是他们没有什么理想，于是我来了，我到了这座荒芜冰冷的洞穴里，带着火种，带着火苗，为他们点亮篝火。我是个失败者，但是倘若我能够为其他同胞们铺开道路，那我的理想也就实现了。小个子为了理想而献身，他是伟大的老鼠！追求理想！孩子们，追求理想！”观众席中的老鼠们仿佛陷入了沉思，嬉闹声渐渐减小，直至在刑场中央族长的脑海中消失殆尽。</p>
<p>“为什么要签字，孩子？你难道相信他真的会放过你们吗？我是了解你的。你也有自己的理想，你也会为它付出一切，只是没有恰当的时间和勇气罢了！追求理想，孩子！带领他们追求理想！”族长转向我，回光返照般，他的脸色显示出一种神圣的光辉，好比老鼠洞刷墙的石灰浆中坠入了圣人的遗体。</p>
<p>石灰浆忽然凝固了，沉淀便在族长的脸上鼓起。噢，是小王，他手里的菜刀上沾染着族长沉甸甸的血迹。咕咚一声，族长的头颅在这木质桌面上骨碌碌地滚动起来，以优美的弧线轨迹到了我的脚边。鼠群中爆发出了轰鸣的嬉闹声。我低下头，看了看族长的遗容，是悲凉中的激昂，也是激昂中的悲凉。</p>
<p>我看着小王手中锋利的菜刀，族长的血迹早已干涸，黯无光泽。我便露出了真正老鼠的微笑，心中也诞生了第一个老鼠的念头：这把菜刀肯定是可以被再利用的，因为其上沾染了理想主义者的血迹，便显得神圣又滑稽。</p>
<hr />
<p><strong><em>而理想主义者，向来是不应归属于老鼠之列的。</em></strong></p>
<p><strong>2020年10月</strong></p></section></section>
                    <section class='print-page md-section' id='section-3' heading-number='3'>
                        <h1>散文<a class='headerlink' href='#section-3' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="thoughts" heading-number="3.1"><h1 id="thoughts-_1">散文<a class="headerlink" href="#thoughts-_1" title="Permanent link">&para;</a></h1>
<blockquote>
<p>距離能削弱平庸的感情，也能歷練真愛；如同大風既能吹滅蠟燭，也能助長烈焰。<br />
—— 沃爾特‧惠特曼</p>
</blockquote>
<p>{{ pagetree(subtree) }}</p></section><section class="print-page" id="thoughts-echo" heading-number="3.2"><blockquote>
<p>对我在若干社交媒体上发表的版本进行了小幅度改编与增补。</p>
</blockquote>
<h1 id="thoughts-echo-_1">回声<a class="headerlink" href="#thoughts-echo-_1" title="Permanent link">&para;</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 5092 个字 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 15 分钟</p>
</div>
<blockquote>
<p>碑文如下：</p>
</blockquote>
<h2 id="thoughts-echo-_2">夜盲<a class="headerlink" href="#thoughts-echo-_2" title="Permanent link">&para;</a></h2>
<p>几个月前我开始罹难夜盲，本以为只是一时没适应黑暗，结果发现在黑夜里泡的越久看得越不清楚，现在甚至到了一丁点都看不见的地步。我刚起夜完，正笃定决心关灯，于是先阖上双目，以适应周遭黑暗，再关灯————“啪！”，再睁眼，浓稠的黑灌进眼底，我踉跄几步撑住桌子。我瞪大双眼向前，以希求一寸视物的可能，徒劳，弗如将闭就闭，于是闭上眼，从记忆中时间线的末梢细细打量。  </p>
<p>那是2009年的元旦。我仗着放假，一觉呼呼到早上十点。日上三竿，百废俱兴，我爸在客厅沙发，倚在扶手上撑着下巴看电视。电视中，交相辉映的歌舞汇与广告商锣鼓喧天，宣告着新年的到来！我支起身，下床慢吞吞走了几步，顿感不满————这是因为我在前一天满怀期待，希望第二天起床后身体便能有崭新无比的变化，也是新年带来的神奇功效吧！没成想，没啥变化啊，走了几步，感觉腿也没长长，个头也没窜，视力也和以前差不多，量了量身高，果真。我爸看我傻乎乎地走了这么一遭，没绷住，问我咋回事，我细细将愿望道来。他笑容满面，说，怎么可能你一夜之间就能长高长大，得有个过程呐。后来我才知道，人的生命比王小波说的牛被一锤一锤锤软的过程更为绵密痛苦，它更像是一块腊汁肉，在老板娘快刀的凌迟下一刻不停地毁灭，愈剁愈细，愈剁愈碎，如求和渐变为积分，最后冲着瞪圆的眼珠子浇上一勺汁醇味正的卤汁。  </p>
<p>写的有点饿了，于是回到2023年4月17日，在二市场街坊间端坐的那家油泼面馆里，我左手捏着价值15rmb的天价优质肉夹馍，右手甩筷高举起一条裹满辣酱的裤带面条，大放厥词，大快朵颐。彼时，坐在餐桌对面的有秋，有民，在我身旁的有<a href="https://shuixin-bmategamer.github.io/">shuixin</a>（即小墩），有驴，有木头。驴说，你怎么吃这么点就不吃了？秋煽风点火，添油加醋，火上浇油，助纣为虐，就是就是，下次还是拿鼻孔吃吧！民憋红小脸，急得可爱，差点动用鼻孔。我忍俊不禁，差点把嚼碎的面条反刍出来。shuixin在我旁边戴着一顶头发状的头盔，猛啖肉夹馍，豪饮面汤，像一个欢快的小墩子。木头吃着吃着把油溅我裤子上了，真想一脚踢死他。我说，待会晚自习是啥，生物吗？好像是。我说我带了mp3，直接爽听吧木头，木头高兴的不行，一会必定要听个痛快。一时半会儿，我吃完了，我说，你们吃的真慢，有点废物了。驴刺出双蹄，险些把我掐死，我挣脱，跑到店门外，寒风像一只大手，提纲挈领，满怀杀意。我罔顾，直接跳起饭后减脂操。木头和shuixin闻讯赶出来，呲牙咧嘴，对我放肆嘲笑。驴没笑，直接夺了我停在门口的滑板车，欢快抢走骑了一圈，像一只刚出生闹腾着的驴崽儿。几个人陆续结了帐出来，像一队殴打暴风雪的战士。我咋感觉这么个冷呢？原来是外套落店里了，我回去找了一圈，没见，回来发现秋看着我吃吃地笑，原来是这byd给我穿跑了。依旧饥肠辘辘，说不清是谁的问题，于是，三天后的下午，六点四十下课后纠结晚饭着落时，木头灵机一动：“我有一计☝️🤓”，把小墩和驴与我拐到一号路中央的那家如意馄饨店里，踌躇满志。铺面狭窄，招牌泛起诡异的圆润，看着就没食欲，无奈被饥饿乱了神智，加之木头据理力争：“来都来了！”点餐后，往那一坐，四尊头颅低垂着，探讨着晚自习是谁的课来着。半推半就，黄花菜都凉了，才端来几大碗，驴探头，大骂，他妈的，这么大一碗里只有五六颗迷你袖珍的馄饨，够谁吃？仨人不满，都要把木头龙细细切作臊子，加餐用。木头不服，碰巧驴出门买水，便捏起筷子，偷偷衔了驴碗中汤下埋的一块小馄饨吃了去。驴回来，我们仨都憋笑，直到驴发现异样，连连殴打嫌疑人木头，仿佛要逼其反刍。</p>
<p>这下吃饱了。我把滑板抢回来，骑上继续往回倒。回到2022年10月11日，疫病肆虐，我和木头胆大包天，拾掇羽毛球拍，在英语晚自习（网课ver.）开始前跑到东坪油苑后方湖边散步。正值秋冬交界，天色向晚，斗转星移，我跳起同款减脂操，臭byd木头给我拍了个爽，边拍边笑。我使劲绷住，以便跳操效果不受影响。此时，腾讯会议已开，我俩把手机揣进裤兜，进行二阶段的羽毛球运动。势均力敌，难分伯仲，恍惚间听到英语老师高喊木头大名，我笑个不停，木头诚惶诚恐，谨小慎微，掏出手机，结果发现是听错了，被我拿下一分，还死皮赖脸，不肯承认。打完球，慢悠悠走回家，刻不容缓回到2021年12月6日的大课间，我和触龙无所事事，百无聊赖，突然文曲星作妖，下笔如有神，从他本子上扯下一张不甚整齐的纸，将脑子里所有想到的人的网名全都记下，以求新绰号的诞生，赛博开盒，其乐无穷。每当一个个网名电光火石闪过脑海，我们癫痫般大声报出，可爱的青春便回溯了一秒。</p>
<p>距此不远，2005年3月18日清晨七点二十五，年轻的男人满脸急切，几十年后漫山遍野的胡茬尚未萌发，满头灰色的头发此刻黑遍后脑勺。这人是我爸，一个父亲，一个传奇。若干年后，皱纹不期而至，顶替他脸上急切的地盘，而此时此刻，他身后的手术室内，我妈正咬紧牙关，生育着一个婴孩。人们都说生孩子会让女人年老许多。但那时我妈风华正茂，前途似锦，和我爸笃定决心，养育一个孩子。十分钟后，我浑身是血，横空出世，爆发出迄今为止最自由的一声也是第一声啼哭。二十分钟后，我爸将喜极而泣，把我抱在怀里，又哭又笑，我妈面露微笑，倚一旁看着她活泼乱跳的子嗣。五十分钟后，我爸将按捺激动的心情，稳笔签下一系列的出生手续。与此同时，在电话中，我诞生的消息不胫而走，掠过千百万颗星球上的酒馆与电台。这消息顷刻被我的爷爷奶奶，我的姥爷姥姥，我的姑姑姑父，我的姨妈姨夫，连带他们的亲朋好友一一获悉。一个月后，我爸我妈将满月酒的请柬发给千家万户，巴不得让国家主席都来观摩他们的可爱玮子。噢，不对，那时还不叫玮子。两个月后，我爸妈翻遍辞海经文，垂询大家名师，诉诸亲朋好友，最终敲定“玮轩”二字，亮堂闪耀，落落大方。十个月后，我摩挲牙关，咬啮唇齿，吐气如兰，缓缓念叨出“爸爸妈妈”四字，把俩人乐得满眼笑意。四十个月后，我从幼儿园滑梯上一头栽下，把我妈吓得不轻，而我爸即将为一款我无比沉迷的，名为“赛尔号”的旷世巨作而发愁。六年后，我爸我妈一雪前耻，把我哄骗进青海油田第一小学一年级三班的教室，堂堂正正告诫我：“你就在这待一会儿，爸爸妈妈马上就来接你。”然后在我教室外忐忑坐了几个小时。与此同时，我在教室内，急得牙痒痒，巴不得一头攒上隔壁桌那兄弟的胳膊。九年后的大年初一，我举着打火机，征战四方，如普罗米修斯或祝融，奔走点火于东一村27号楼附近，激情四射。直到马失前蹄，将塑料袋燃烧后的渣滓滴上右手食指，我揣上打火机，忍着疼痛跑上楼，身后的小朋友看得一愣一愣。我实在不敢跟他俩说我玩火把手烫了，于是从此一块顽固的疤就粘在了那。十五年后的早晨，我跛着脚到大卧室门口。啊？终于发作了？我妈用屈服于命运者目睹命运最终降临的口吻发问————是个设问。我爸没说话，拉开抽屉开了盒药，英太青——双氯芬酸钠缓释胶囊，从药板上掰了一粒胶囊下来交给我，如人贩子交付身为货品的孩童。我灌水吞药，抓上准考证冲出门，一瘸一拐挪移向青海油田第二中学。十七年后的夜晚，我妈远在非洲布隆迪，尚且不知道甘肃省酒泉市敦煌市七里镇青海油田生活基地即将发生什么。我裹在被窝，回忆下午老师对我的重任厚望，感觉天地间所有劳苦的包袱全全掖在我的肩周。我爸赶来卧室，问我，你咋了？我说，难受。他怒火滔天，声震寰宇，对我宣泄他的殷切嘱托。就在我无奈悲伤，埋头痛哭的那一刻，面前的这个男人孤独，无助，仿佛又回到了那一天手术室外的那个焦急等待的清早。那时他徘徊在妇产科的过道，心里惦念着手术室里的母亲与孩子。太阳在鸣沙山金色的轮廓后璨然升起，只一瞬间，他接纳了所有时间线的所有宇宙寄托的视线与责任，他点了点头，挺直身子，将用一辈子诠释爱这个名词。  </p>
<p>亿万时间点的回忆贯口般在我脑子里晃荡，我睁开眼睛，眨巴着，向黑暗后的过往与未来掷出怀疑的一瞥。那是五千年的象形文字，那是我们的平原。</p>
<p><strong>2023年12月</strong></p>
<h2 id="thoughts-echo-_3">后视<a class="headerlink" href="#thoughts-echo-_3" title="Permanent link">&para;</a></h2>
<p>除了睁着眼睛生活和闭上眼睛睡觉的时间以外，大部分情况下，我都不甚聪明地把精力都放在怀念过去上。这实则是极其低效的时间利用方式，星际牛仔曾经说过，一只眼睛看向过去，另一只眼睛看向未来，尼采也点头，闭眼不看过去，那你就等于瞎了一只眼；沉迷于过去，你就等于瞎了两只眼。</p>
<p>上述这一段颇有我高中议论文格式化开头的感觉。我高中的语文老师是个很有意思的中年男人，基本在一节课后你就能发觉他肚子里的墨水很多，我经常推测他背地里也是披着笔名在哪个刊物上发表文章的大作家。我同桌的议论文倒是很有意思，但他从来不让别人看，一抢答题卡就翻脸。而现在我字里行间常常出现的“实则是”这种字眼，实则是出自高中那位化学老师，她也是个很有意思的人，在我接触的高中老师中，她最能和同学打成一片；打字到此处，也难免想起她提到的“歧化”“同分异构”等字眼。印象如此深，大抵是高三尾声的事情。彼时各科老师已开闸泄洪，把绿色模拟卷和紫色历年卷喷吐到上油黄的桌面，与之而来的还有各类配套答案。这答案隐约带来一种微妙的感觉，不只是作业帮黯然下岗的残局，而是一种撒手人寰，解释天地的无奈胸襟，这竟带有一些偶然的悲怆。这悲怆的氛围肃穆伫立在彼时我们每个人的脑海中，挑起冷漠的眼神目睹着每个人完成高考，远离那片戈壁。现在才真正意识到，那种莫名的氛围乃是名为“大结局”的萧瑟气压：在2021年的深秋，动画《我的小马驹：友谊是魔法》G4行将完结的那个深秋，我沉迷学业而根本不知，撂下笔，又缴械于一道天体运动的未解之谜；在2019年的国庆，我最后一次推门走进敦煌朝阳画室的那个下午，三脚架跌宕起伏，石膏头宾朋满座，而素描纸纷飞四散，可塑橡皮不见影踪，我坐下摊开画板，诡谲丛生的碎发仿佛窜出纸面；在2011年的酷暑，我离开青海油田第四幼儿园，在最后一次回头间，那座红色的滑梯叉腰站立，卓然不群，而借阅同学的《冒险小虎队》几册，仿佛仍赊着账，不知何时能归还。</p>
<p>有时脑中一声炸雷，立刻意识到，乐于怀念过去无疑是当下生活的不如意——这真乃一沉重的话题，比本篇散文自带的氛围还要沉郁百分之四亿。今儿个，我第一次上职规这种需要和许多陌生人组队的课，旁边坐了个同学，意气风发，眼镜一架，双眼炯炯，言谈间满溢开朗积极的气焰，自我介绍，乃是24级的学弟。我一怔：心里本以为是学长，而后明了：初来乍到，新鲜刺激，果有吞毡啮雪，蒸腾日夜的壮志，而像我这样，上一年课老实认栽，哈哈混日的，看着才像真正的学长吧。想到此处，本打算作罢思绪，好好上课，突然心底一刺，捣鼓出一年前初入大学时发的朋友圈，唉，竟有几分面前少年的形影，力拔山兮，吐气如兰，宛如年少侠客初初离乡，意在斩断寰宇间所有的不公和否决。与此不同时，在当下2024年的九月，杭州掏出压箱底的燥热，佐以专业课的晦涩，汽化着我一尺又一寸残存的信心：今年的九月，和去年的九月，甚至是前年九月相比，有什么区别？去年是线代听不懂，今年换作了系统普物，上学期中旬，一起诟病系统的同学告诉我，感觉自己不上大学，自学几个月计算机，大概就是现在这个水平哈；我哈哈一笑，让我自学几个月，大抵还能爆杀目前的知识水平吧，这又是？而这哥们已然脱离苦海，唯我一人深受着软硬件不明不白的煎熬。</p>
<p>有些胡言乱语了，估计是前些日子去ktv把嗓子唱坏了，通感着错觉出有些感冒。初中时有次得肺炎，躺医院里搁了三四天，当时的三个兄弟还专门上医院看我来了。距此很久以后，高考完半旬，伙同另外几个哥们一起出游县城。先浇了若干颗硕大的羊头，蒜蓉洋葱，缺一不可。而后前去当地唯二的5A级景区之一，亦即鸣沙山月牙泉，风沙遮目，气象万千，几位兄弟绞尽脑汁，肝肠寸断，登赴山顶，搂下了一张气吞山河的合照。我还记得，在2022年的盛夏，青海省西宁市，朔风入髓，通体寒凉。我同父亲住在酒店，每两天做一次核酸，送别我的母亲至非洲展开援非医疗活动。送别后便回乡上高三，然三年疫情摸爬滚打，最后赫然考取了本校的状元，还压了外地回青的学生一头，于是喜大普奔，奔走相告，高中却嫌没去成top2，嘘声一片，也没咋给我宣传宣传，就像<a href="https://www.cc98.org/topic/5925112/">98上一个哥们的这段话</a>，</p>
<blockquote>
<p>好像一个很努力的球员碰上了选秀小年，成为了状元，但是根本没人愿意关注他。</p>
</blockquote>
<p>此事无人关注倒也没有什么，毕竟是高中的陈芝麻烂谷子，但结合我的大学生活，便有些令人难堪。今年暑假我回家乡，路过高中老和同学们吃的一家油泼面馆，绿色门帘悬挂依旧，客户却走满天涯，哈哈，这怀旧倒是有些做作，还是留备未来追忆的资源吧——仿佛第n年的我总会牢牢把第n-1年的日子当做青春牢牢钉在心底。高考前，热衷于在校服上签名字，一天经手十几件校服，浓浓同学情，不亦乐乎，而今夜回想起来，不对吧，怎么感觉是上半年才发生过的事情？还有与兄弟自发去重庆旅游，这是上上个月吧；学校组织的很远的拉练，汗如雨下，就发生在两周前，接着一天穿了很潮流的西装，在成人礼上拍了许多合照。还有前天，和同桌去佯装倒垃圾，实际上畅聊了半小时！回过神来，竟均是一年前的日夜？打开相册，举目四望，在一个标志性的日期，2023年6月15日，淤存着百八十张照片，这乃是高考后换新手机当天，从旧机迁移来的怀恋。例如说幼时收藏的各类梗图，周游各省的随手拍水平大作，还有一些和家人朋友的合照，标签为“唯美”“氛围感”的屏保和头像，而一路上翻，时间戳步步紧逼，扼上咽喉，图像在脑海中却依然陈旧，如同昨天晚饭前拍的几张日志。</p>
<p>你看看我，都是想到哪胡写到哪了，姑且算是形散神亦散，说明我一伸脑袋瓜就能蹦出无数件从前的风流轶事。在我唐氏般兴高采烈的胞吐着青春岁月的同时，生活学业的阴影也缄默地横亘在思想的背景板中。一年前，当这阴影远未发际的同时，从小毫无兴趣的做题家怀揣着“不浪费高考分”的卓越专业意向，跃入了本座高校的龙门。而后各种各样的新名词，新知识，新世界，接踵而至，挤满了井底之蛙的眼球。而若现在放我归去，重又选择专业与院校，我依旧满心迷茫，仿佛高考的车头带着我跃出十八岁的断崖，从此无方无向，一头扎进迷惘的深谷。</p>
<p>爬完沙山的第二天，教练便唤我至驾校内車动，气温飙升，而体温依旧。我坐进驾驶位，倒车入库，后视镜中，那方形的库角堪堪成像。一年后，暑假的尾气喷涌远去，我坐在姑父的车上，前往西安咸阳国际机场。临别之际，爷爷奶奶立在后视镜中，車拐弯，驶上大路，身影一晃，消失不见，泪顿时蓄满眼眶，当时未流却在此时淌下，浸透了一寸枕巾。</p>
<p><strong>2024年9月</strong></p></section><section class="print-page" id="thoughts-gaut" heading-number="3.3"><h1 id="thoughts-gaut-_1">痛风<a class="headerlink" href="#thoughts-gaut-_1" title="Permanent link">&para;</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 3135 个字 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 9 分钟</p>
</div>
<blockquote>
<p>痛风是因体内尿酸生成增多，和/或尿酸排泄减少导致血尿酸升高，长期的高尿酸血症使得单钠尿酸盐结晶沉积在关节以及周围组织和肾脏，介导自身炎症反应的产生及关节形态改变的一种代谢性风湿性疾病。</p>
</blockquote>
<p>有点冷，寒气如水，渗透被褥，开拓我体表的毛孔。我正躺在铺上，连蠕动都不愿意，遂强撑着提起脖颈。窗帘开着，阳台门的边沿与对侧宿舍楼的上沿逼仄出一块狭小的矩形，来自四面八方的路灯编织清冷的流苏，处心积虑通过这个矩形倾泻进来。但门关着，使这寒冷的来源扑朔。在我曲颈检查门窗时，冷气已雪泥鸿爪般在我全身进行了一次环游。此时我的左脚缓缓流露出一阵刺痛，那枚名为痛风石的鹅卵正是这场环游中最闻名遐迩的目的地。刺痛先扩大面积，成为阵痛，再加深广度，成为疼痛。</p>
<p>这疼痛熟悉万分，眼泪立刻流出，亟待我通过闭上眼怀念过去的方案转移注意。我闭眼，回到2020年7月15日，重温这疼痛的第一次发迹。我脚好疼。我跛着脚到大卧室门口。啊？终于发作了？母亲用屈服于命运者目睹命运最终降临的口吻发问——是个设问。父亲没说话，拉开抽屉开了盒药，英太青——双氯芬酸钠缓释胶囊，从药板上掰了一粒胶囊下来交给我，如人贩子交付身为货品的孩童。我灌水吞药，抓上准考证冲出门，一瘸一拐挪移向青海油田第二中学，心若死灰。在这一天的前一天，2020年7月14日，我胸有成竹，百倍信心，莅临与下一天分毫不差的地点察看考场。在一楼到二楼的楼梯拐角，我阴差阳错地转头张望，目光恰好与彼时喜欢的女生打了个照面。这目光霎时将我撞入2019年7月15日，即下一天的一年前，我和母亲下榻于长江边那座五星级酒店的26层房间内，方才拆封了一袋外卖。我拿云攫石般甩筷夹起烤肉力拔千钧送入口中，彼时母亲坐在酒店自带的小桌子对面边吃边笑地看着我，月亮从桌旁一块很大的玻璃穿过，酒一般洒在地板上。那座楼有三十多层还是四十多层，让十四年来从未见过便利店的小镇男孩眼里飞出了星星。</p>
<p>星星飞回现在，抢在灯光前回归玉湖园区7幢601阳台门上的玻璃矩形，一举重返我的睁开的眼睛。与之一齐到达的还有隔壁床室友台灯般的鬼火与翻书声般的抽泣。数学分析第三版，陈纪修，或者是大学数学代数与几何，萧树铁。这两本书的书皮立刻浮现，却只有书皮——两本书如擅长把玩情感的情场高手，把外表刻在我大脑糜烂的深沟却不肯施舍一点深入了解的机会。室友正与之斡旋，意欲在思想上对她上下其手，她却扭动着阶梯般灵巧的身躯躲开，不给占一点便宜。还不是我不努力。这是真的。还真是我不努力。我确实是不太擅长学习——高考比我高七十多分的现实昭示着先天学习思维的云泥鸿沟。这铁一般的事实金箍般挤压我的脑壳，无论再多“大学是一个新的起点”或是“能到这里说明你的学习能力足够强”的善意安慰也无法祓除线性代数课上同学们对超前百万倍的学习内容连连点头应和而我干瞪着那本复杂诡谲的天书时我所感到的紧箍咒般的无助痛苦——我，我不想写这个了，我想家了，拨开河西走廊的十二指肠后的那个著名城市旁的无名小镇坐落的那个学校——</p>
<p>2023年3月8日，我蹲下，把与同桌在淘宝斥巨资购入的书架端起，高中同桌顶着个蘑菇头站在一旁观望。噢，记错了，那天是家长会，不用搬书架。被我和同桌称为“車”的书架正端端落于旧址，书架一侧，不是，車一侧坐着我爸，胡子拉碴，脸上的皱纹有我脸上皱纹数目的四倍。他冲我笑笑，说，你今晚和兄弟们上哪浪去。我趁好些家长都在，为露一手幽默感，开了个玩笑，我酒吧通宵啊我意思。我忘了其他家长啥反应了，反正我爸是挺乐的，脸上皱纹都挤在一起，一下子只有我的两倍那么多了。还有車的另一侧的阿姨也笑了，这是蘑菇头的妈妈。2023年6月27日，阿姨加了我微信，开头就是一句：你好，优秀的娃！为刚得知成绩排名而乐不可支的我进行了一次火上浇油般的煽动。我爸说，去吧，醉不到没回家我都看不起你。痛风石比我先理解了这个三重否定，发出尖锐爆鸣，把骨骼震得生疼。我面目扭曲了一瞬间，和我爸说了拜拜，正打算回家，走到教室后面发现蘑菇头和另一匹后桌聊的开心。后桌穿了个小黑棉袄，把长的过膝的校服裹在里面，最内层再夹上一个一米八大高个，看上去酷似一柄驴肉火烧。火烧见到我就龇牙咧嘴上手意欲掐我脖子，仿佛预测到我会在未来对他采用这个比喻。他的父亲烫了个爆炸头，但是当量较小，爆炸时比较收敛，却更加潮流。</p>
<p>我走出楼门，旁边乒乓球台上有个穿着画着大钩子毛外套的健壮男孩打乒乓，叫RMSTE。对位一个连帽卫衣小墩子。墩子头极大，戴着一顶头发状的头盔，让头显得更大，身材也墩墩的，十分可爱，但是动作十分灵活，就在我写这些字的功夫里已经被rmste打了个十一比零。我在经过他们身旁的风中沐浴。狂风熹微，不值一提。这是对比出的结果。三个月前，<a href="#stories-fool">2022年12月7日</a>，在同现在一模一样的位置，我头脚瑟缩，浑身羽绒。这时的风比现在更加狂乱刺骨。旁边的马尾辫女生对我暗暗比了个大拇指。这是因为半个小时前，我站在副校长的面前毕恭毕敬地接纳了他对我那句惊为天人的评价：“看看我们教出来了个什么东西！”</p>
<p>我确实不知道我被教成了，或者说，成长为了什么东西。2011年6月6日夜，几枚飞蛾穿破纱窗，把卧室里半身赤裸夹着小提琴的我吓得手脚颤栗。那正是我修炼音乐的胚胎时期：迫于我爸的淫威，我在心底破口大骂百遍，皱眉撇嘴地夹着那小琴，要端正站40分钟，持续了大概有四十天还是一百天，我记不清了。同时记不清的还有那些稀奇古怪的指法把位弓法节奏，只有那夹琴苦练基本功的金贵日子有点印象。2023年9月15日，一架封在盒子里的木乃伊般的弦都断了一根的小提琴被塞进顺丰快递广袤的包装，星夜奔波向浙江省杭州市西湖区三墩镇。<a href="https://biupiukiu.net/">雾滔雪涌，关山迢递</a>，那把琴自知不过是换个地方落灰，此生再不会被演奏，于是自认朽木，自断琴弦，企图回到2020年10月5日，我坐在某个少年宫的二楼，面对一幅石膏圆柱和苹果梨子的照片，捏着8B铅笔发呆的时刻。发呆同时，远在千里之外的中国社会艺术协会办公厅一楼角落里的打印机轰隆作响，吐出一张又一张冠冕堂皇的证书。一个月后，2020年11月5日，我把证书随手丢在书桌上的练习册丛中，那具骄傲的大头盖住了半数的三角恒等变换和化学键判断专题。我扑到床上，床板磕到了脚踝上的痛风石，我龇牙咧嘴，眼泪迷蒙中望见2020年8月24日的夜晚，我怀着对这位哥们的好奇，不小心翻过王小波《黄金时代》第一页，但是恰好翻到第二个篇目，遂静下心来，开始阅读：《三十而立》。这篇文章头一次让我彻彻底底体会到：如何和汉字打交道。两个月后，2020年10月24日凌晨1：23，我扬眉吐气，关闭文档，那部堪堪成为*<a href="#stories-mice">处女作</a>*的作品搭上万维网快车，极速抵达文学社社长的电脑。那时候我年轻气盛，是壮年祥子，是青年程心，琼恩•雪诺初登长城，严嵩考上进士满门欢欣，拿破仑看着地图桌头点个不停，奥雷里亚诺•布恩迪亚上校对着羊皮卷进行着思想上的手淫。</p>
<p>我们知道，<strong>参差多态乃是幸福的本源</strong>，因此我积极的前十八年疯了一样追求参差多态。人们常称技艺多而不精的人物为三脚猫，由此看来我应当是*五十脚猫*。我学过提琴，吹过口琴，尤克里里和吉他开了个头的头，水彩水粉素描彩铅陶艺都沾过一点。几年前我天天网上冲浪，幽灵般浮在各个论坛间，大脑向互联网最精彩的瞬间们凑了凑。三四年前我费了老鼻子劲下载Visual Studio，把别人的泰拉瑞亚模组代码抄了过来改了几个数字，面对一堆杂乱的英文字母心里升起诡异的成就感。我读书，杨红樱开的头，到伍美珍，郑渊洁，到语文课文，到雷欧幻像，到儿童文学，到两色风景，到高中语文阅读7-9题，到冯内古特，到王小波，到双雪涛，但你真要问我我读*出*了什么，我只能挠挠头作不解状。我曾看过几个虚拟主播，看过好些部电影，听过不少歌手的歌，见识过不少游戏。</p>
<p>我上面这一段写的很莫名其妙，出现在以痛风为名的文章里有装逼之嫌。于是痛风石发出痛感警告。这没办法，我的文字即便干涸苦涩如此我也会在自我介绍时堂皇宣布我热爱写文章，那部我再也写不出来的处女作如同光荣柱上张贴的奖状我走到哪都要炫耀几番。我头疼。电影，音乐，小说，游戏，他人一开口：我看过那部……！我听过他的……！我也读过他诶！我也玩……！噢那部番啊……！我也是！我正想加入这话题热切的讨论，却迟钝一刹：我对其的了解，不超过那匹猫五十只脚之一妙脆角般的大小。于是我噤声埋头，假扮毫无兴趣。我的知识与热情既不够强烈，也不愿止息，这可笑的性格使我怎么也嵌不进人世间的琥珀，却又逼仄在迷梦与现实的夹缝间——你可别用那卑鄙的定理求我的极限。</p>
<p>我正漂浮于世界之上，作冷清肃穆状。就在这时，全身各个领域的痛风石怒发冲冠，咬啮骨骼，破壳脱桎，勠力并肩，正流泻出无比冷寂的悲伤，将我拉回五彩斑斓的黑白人间。</p>
<p><strong>2023年10月</strong></p></section><section class="print-page" id="thoughts-homesick" heading-number="3.4"><h1 id="thoughts-homesick-_1">故乡<a class="headerlink" href="#thoughts-homesick-_1" title="Permanent link">&para;</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 1723 个字 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 17H7V3h14m0-2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2M3 5H1v16a2 2 0 0 0 2 2h16v-2H3m12.96-10.71-2.75 3.54-1.96-2.36L8.5 15h11z"/></svg></span> 1 张图片 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 5 分钟</p>
</div>
<p>“故乡”听起来正式、文艺、悠扬，但你更喜欢*家乡*——面对“家”这个字，你不得不变回一个幼稚的男孩。在阳台、门廊、街道上，来自家乡的风穿透你，指挥几万亿细胞一齐发出嘶鸣。风浪摇动你的双眼，敦促你远望四方。</p>
<h2 id="thoughts-homesick-_2">北边有什么？<a class="headerlink" href="#thoughts-homesick-_2" title="Permanent link">&para;</a></h2>
<p>亚热带气候炮制出的林海荡漾，于你而言是亘古未见的奇观。北方，<a href="#stories-g30">连霍</a>高速出鞘，纵横贯穿国土的咽喉。你出生在这条高速的一个出口里，因此你坚信应当是“连霍高速”而不是“秦岭淮河”这四个字扮演国家南北的分界线。江苏，安徽，河南，陕西，甘肃，新疆。在强弩之末的甘肃，大名鼎鼎的河西走廊裹挟着连霍，如面包夹着香肠。</p>
<p>由省会向西，经济如绿植般逐渐萎缩消弭，你熟悉的那些老土地名接踵而至，车牌号上的字母却越来越大——*甘F*粉墨登场，昭示着它代表的城市从此接管了整个西部。千百年前某位将军恣意抛洒的美酒早已发酵，奔腾流泻在庙堂间利欲熏心的下水道。游客蹒跚于连绵沙山下，叫嚷声早已盖过沙砾愉悦的噎鸣。</p>
<p>初中老师曾说，当年在罗布泊的原子弹残留了不少糟心玩意，放射性元素随风沙迁徙至此，斩钉截铁地植入本地人的基因。从此，爱掉头发的毛病如影随形，幽灵般萦绕在每个敦煌人的头顶。</p>
<p>哦，不，不是敦煌，是*七里镇*——青海油田生活基地。油田盘踞于小镇，宝石花物业公司寄宿于油田，组成一条记叙时代的食物链。镇上唯一的高中内，悠扬悦耳的铃声哇哇大叫。学校对面，学生低声咒骂着陈姐小面不知天高地厚的价目表。远处，东坪油苑错落有致，家与沙子被一齐吸入你的肺。更远处，敦格铁路的骨骼沉眠于戈壁……</p>
<blockquote>
<p><strong>回乐烽前［成功］</strong>：大脑糜烂的深沟中，这是你能找到的最接近*家乡*的地方。</p>
</blockquote>
<h2 id="thoughts-homesick-_3">西边有什么？<a class="headerlink" href="#thoughts-homesick-_3" title="Permanent link">&para;</a></h2>
<p>寒冷。潮湿。青海湖没有边际。曼妙的雾气自湖面堂堂升起，让人恍惚间忘记它冰凉的体温。雾气上方，怨声载道的乌云盘剥着所剩无几的天空，势必将太阳与星星掖死在苍穹之上。</p>
<p>*户籍*显示，你的家乡就在这里。青海。海西。茫崖。直到现在，你都不清楚这劳什子<em>户籍</em>是什么鬼东西——青海油田天才般的选址让无数和你一样的孩子在精神上背井离乡，无*根*可依。你五六次踏上青海的土地，它像一块木头做的精美雕塑，在户口本上栩栩如生，却对你的来访板起冷硬的面孔。与此相比，户籍、户口、生源地，看起来都如青海湖上的水汽一般模糊渺远。西部，大片大片的荒地憋屈地蜷缩在冷空气下，你看不见哪怕一株草木抬头。看似平原的大地上，海拔正缓慢而坚定地爬升，转眼一瞬间就拔起几百米，宛如被温水一度一度汤镬至死的青蛙。</p>
<blockquote>
<p><strong>游弋从心［成功］</strong>：这里让你感到的只有陌生。一个陌生的故乡。</p>
</blockquote>
<h2 id="thoughts-homesick-_4">东边有什么？<a class="headerlink" href="#thoughts-homesick-_4" title="Permanent link">&para;</a></h2>
<p>在黄土高原与秦岭茏葱交织的地带，赫赫有名的“西北第一城”无奈地拔地而起。很久以前，这里尚且是世上最伟大的城市，百姓如沙漏般灌入长安，把衙门里的公差们润泽得个个脑满肥肠。也是在那个时候，李卫公牵着红拂的手快步逃出了城门，留下一道蚯蚓般的脚印。更早时，王仙客走进宣阳坊，高声打听着无双的去向。还有一段时间里，写着“闯”字的大旗高高飘扬在城楼上方，比如今的赛格购物广场还要高出几个头。</p>
<p>长安街贯穿碑林与雁塔，繁华的街区铸成一把串串香。回民街里，或良心或歹毒的商家错落有致，亟待游客慧眼识珠的挑剔。街道上满是人群，半空中漂浮着陕西话的旋律。你会说陕西话吧？第一条，把“我”换成*额*，四声，带鼻音。第二条，把“u”换成“i”。第三条，二声后跟的字变成三声。你只会这么多了，来试试：我去南稍门——*额七南少门*。蹩脚的方言无力出口，你更没有勇气宣布这是你的家乡。</p>
<blockquote>
<p><strong>食髓知味［成功］</strong>：你爱她。你爱这座城市。她的心脏、肺叶、面颊、足弓，与你自己的一样熟悉。</p>
<p><strong>逆形忠心［失败］</strong>：而她是背信弃义的爱人，撕毁船票的游轮，不辞而别的朋友。你投入她的怀抱，全心全意希冀着这里成为你的家乡。她却用城墙般僵硬的皮肤否决。</p>
</blockquote>
<h2 id="thoughts-homesick-_5">南边有什么？<a class="headerlink" href="#thoughts-homesick-_5" title="Permanent link">&para;</a></h2>
<p>爬山虎与电线杆热烈相拥，静默在通往北教学楼的路上，如自然与机械不惧世俗的联姻。你抬头，太阳在鸟雀背后高悬，把它们的羽毛衬成焦黑一片。在你很小的时候，你曾好奇过为什么鸟端端站在电线上却安然无恙。此时此刻，本应葬身于此的黑色鸟儿死而复生，从电网上空向你投来鄙夷的目光。</p>
<p>南门外，银泰城楼顶被格格不入地塞进天空，如方榫捅进圆卯。雨云在天际汇聚，有时掉下一点碎屑，有时吸纳一些水汽，忒修斯之船般行驶到你的头顶。但是雨悬而未下，如同上天开的小小玩笑——云笼罩着，却把热气也困在地表，令人心生怨怒。</p>
<p>这热气即使在天黑后也如依依不舍的恋人般不肯离去，而这时远处鳞次栉比的高楼上亮起无数矩形的灯光。如果你眼里噙着泪水望去，这些矩形就会被摧毁重塑，膨胀成不规则的一摊鸡蛋清，蛋清外还围绕着一圈又一圈的光的波涛，它们随着你哀伤的呼吸涟漪般扩散，重又激荡着你的心脏，如海浪拍打着礁石。</p>
<blockquote>
<p><strong>天人感应［成功］</strong>：思念折叠成细若游丝的电波，而后登上万维网，迁徙百万公里，直达你的心际。</p>
</blockquote>
<p><strong>2023年9月</strong></p>
<p><img alt="" src="../img/viewouthome.jpg" title="启真湖中月" /></p></section><section class="print-page" id="thoughts-gut" heading-number="3.5"><h1 id="thoughts-gut-_1">羊杂<a class="headerlink" href="#thoughts-gut-_1" title="Permanent link">&para;</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 2248 个字 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 6 分钟</p>
</div>
<p>小时候我上语文课，碰到一个留着胡子、文章不是很通顺的作家，叫鲁迅。老师让我背文化常识：伟大的思想家，革命家，文学家。后来学文言文，遇到老早年代的一篇讲历史的长篇，叫《史记》，享誉甚广。鲁迅这么评价它：史家之绝唱，无韵之《离骚》——这令我惊讶：“无韵”版本已如此，何况“有韵”版本？于是尚年幼的我登陆互联网查找“离骚”：作者是战国时期楚国的屈原——这名字就够酷的，在此之前姓屈的我还只认识我奶奶。接着说道：屈原，浪漫主义奠基人，诗歌对后世影响深远。众所周知，有价值的思想就像陈年蜜酿，搁得越久越有味，所以这位屈姓兄弟的篇章能把光辉撒到几千年后的世界，值得大加敬佩。然后是人生建树：任职期间对内选贤举能，对外联合抗秦——可以可以，这下内忧外患都能解决，真是个文政双全的牛人！终于到了资料的尾声：<strong>被流放，跳江而死。</strong></p>
<p>看到这里，我心里咯噔一声：这么牛的牛人，怎么说死就死？而且死法也毫无光荣可言。这在当时我贫瘠幼稚的头脑中留下了一个很不好的印象：牛人没有好下场。现在看来这个论断无疑犯了以一概全的错误。但是也不能说它完全不对。到现在，你要让我证伪这个命题，我也一时想不到几个善终的牛人，脑子里唯一浮现的形象就是陶朱公。但你要是让我佐证这个观点，那参赛人员便数不胜数：除上文已知的屈原外，还有普罗米修斯，苏格拉底，李大钊，遇罗克，毛洪涛等好多人。</p>
<p>这反正令我极不舒服，因为我向来以为接受的教育就是要把自己培养成牛人。而现在它却在告诉我：虽然即使死了，牛人也可以像李大钊苏格拉底一样被后人惦记着，但还是活得舒服重要，因此那牛人的名号不该去争，毕竟还有遇罗克这样，死后几十年还不间断地有人在他被枪毙那旮旯地开演唱会。</p>
<p>结果后来（或者说近来）我才发现，我们的教育根本不是为了培养“牛人”，而是为了培养“羊人”。并且这里的“教育”比上文的“教育”涵韵更广：除了学前与学业教育外，还包含社会风气，传统文化，主流思想等。</p>
<blockquote>
<p>谈到“羊人”，我有必要多费几行笔墨。笔者不知道本文发表的时候这个词是否还有特殊的含义，反正在创作本文时（即2022年12月底）这个词汇被用于指代感染新冠病毒的患者。当时我也深深罹难其苦，面对如此一个令人啼笑皆非的外号，自然要问一问它的来处。笔者惊心地目睹到，整个互联网贯穿上下，从熙熙攘攘的顶流论坛到我个人的朋友圈及qq空间，使用此外号的现象不胜枚举。我笃定这要么是人民群众的想法，要么是官方媒体的引导。如果是前者，这就显露了人民的乐观积极与幽默；如果是后者，那么政府的喉舌就是真该死。我们知道，历经灾厄的人对灾厄进行解构嘲弄，无疑是催人上进的值得肯定的，而灾厄以外的人竟要替其中的人谈笑风生，还要将这种以别人的苦难塑造而成的幽默感赋回别人身上，这便是喉舌的可诛之处。</p>
</blockquote>
<p>我年幼时第一次见到对教育体系的抨击是漫画家猫小乐的《阿衰》，有一篇内容大概如下：画至“素质教育”处，大脸妹边用树枝狠抽小衰屁股，嘴里喊着：“素质教育？我是在‘树枝’教育啊！”此片段凭借醉人的谐音玩笑，将批判的思想深深植入我的大脑。我们知道，在现在的时代，棍棒之下不但出不了“孝子”，更会出现断子绝孙的现象。这个类比有些晦涩，并且也不太精准。严谨来说：不可能所有教育体系都是这样；更严谨来说，我们的大多数教育体系都是这样。</p>
<p>这一结论青涩且不可信，因为笔者没有经历过所有国内的教育体系。但是从我周边发生的一些事情里，可以得出异曲同工的结论。在我小学时常有为老师的教学态度教学素养等打分的事情，在大概是三年级前的每一次评分我都会在白纸黑格中写下“非常满意”。而三年级的前半学期，我的一位老师与之前的学期大相径庭，常常暴怒，脏话也少不了几句，于是我秉着公正严密的态度把“非常满意”改成了“满意”。在语言学上这不过是删减了一个正向副词，对全文的有效意义影响微乎其微。但我的老师却把我留下狠批一顿，我只好听着“你为什么要这么写”的质问看着班里窗帘上的图案发呆。这件事情让我年幼的思维很不舒服（当然，现在也很不舒服）：它说明了实事求是反而可能会招致祸患，而实事求是绝对是牛人必备的品格。</p>
<p>因此我们暂时得到了一个结论：我们国家的教育所培养的羊人，并非受难于皮肉之苦，而是挣扎于精神思想的恶疾。对于受累到自身与他人的苦难和麻烦，我们软糯的大脑皮层劝我们安心忍耐，于是我们不光自己屈服于社会的铁蹄，还要衷心规劝他人也俯首甘为孺子羊。这还不够，我们还会默契地暗示出一套富丽堂皇的“人情世故”和“社会规则”来。对于打破这些规律的人，我们怀抱着猎奇的心思去围观，去讥讽，只因为我们早已习惯让刀以均等的力度劈在你我他身上，而不是动员所有人掰断刀柄。这就是为什么“恶意讨薪”之类的词汇流传甚广。</p>
<p>在我历经的几次风波中，我逐渐发现：理性思考与谈吐真言是不可取的。所谓不可取，就是取了便会凋亡，会生不如死，会精神失常。这一方面归因于此二者本身的难度极大，另一方面的原因则令人蒙羞：我们的“准则”让具有这两个特质的牛人先天不受我们待见。我们一边高喊“为他人抱火者，不可使其冻毙于风雪”，一边用围观者的严寒把数不胜数的普罗米修斯推进冰窟窿；一边慨叹“从来如此，便对吗”，一边用言行的利刃鞭笞着触犯圭臬的陌生人们。这就是为什么屈原和鱼一块远走高飞，<a href="https://baike.baidu.com/item/宣告/13132863">遇罗克面对星星走进了血的黎明</a>。</p>
<p>所以，从来如此，便对吗？燃烧的普罗米修斯，该死吗？这是笔者一辈子都玩不明白的问题。我不下一次听见一位阅历丰富的年长老师诅咒道：“你就把你这种仗义执言说真话的性格带到社会里去吧！”然而，在一个健全的社会中，这样的品格本应是所有人都推崇都期待的，而不是他的常识中被针对被攻击的。这是他的问题？牛人的问题？圭臬的问题？围观者的问题？还是社会的问题？我不寒而栗。一位围观的同学对我说，你为什么要想那么多，不累吗？他这是在奉劝我学习他与“圭臬”，做思维上的自我阉割，而基因的表达算准了：我决不投降。</p>
<p>这篇文章的名字叫“羊杂”，它一方面指代了一种令笔者着迷的佳肴，另一方面也可拆解为“羊人的杂文”，无论是哪种意思，对于笔者自身而言都是富有意义的。而对于读者们，我真心地希望着，你们可以精神健康，思维明朗，即便暂且屈服于现实的引力，最终也别忘记抻抻心脏，挺直脊梁，走入天空。</p>
<p><strong>2022年12月</strong></p></section><section class="print-page" id="thoughts-fortune" heading-number="3.6"><h1 id="thoughts-fortune-_1">富贵<a class="headerlink" href="#thoughts-fortune-_1" title="Permanent link">&para;</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 1242 个字 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 4 分钟</p>
</div>
<p>我家的富贵竹死了——至少是快死了。先前承载它的塑料托盘在半夜愕然崩殂，不留情面地将如胶似漆的青花瓷大花瓶送入垃圾桶。看来它们的兄弟情也就到此为止了——托盘断腿，花瓶腰斩，不知若干年后它们重逢在风尘仆仆的垃圾场内，心中会激荡出什么样的感情。</p>
<p>我和父亲同时惊闻巨响冲向客厅，开灯后发现竹子倾倒在泥土与瓷片的狼藉中，像一位垂死的王。父亲叫我拿来大脸盆，我俩费劲力气把满地的土装进盆子，以揠苗助长之势把悲伤的富贵竹固定在盆中。然后我俩各自回房，关灯后我回头看了一眼暗夜中的富贵竹，它正流着与夜色一样漆黑的眼泪。</p>
<p>富贵竹濒死，听起来很不吉利。父亲立刻着手联系花瓶卖家与托盘卖家，鞍前马后如同给竹子操办后事。他实在忙得抽不出时间做饭，这天中午我便到一个阿姨家去吃饭。</p>
<p>现在我已经彻底忘记了这位阿姨是谁，当我回忆起她的外貌言行时，记忆就变成了一摊化掉的娃娃头，难以辨认五官与神情。我好像记得，她应该是也许是我母亲的一个同事的姐姐的朋友——按照六度分离理论，如此遥远的亲缘关系已经足够我够到地球上任何一个人的脚跟了，但是这位阿姨还是慷慨地出现在这天中午，邀请我吃饭。</p>
<p>我至今都坚信当时迈开腿走向目的地的我实际上是踏入了另一个世界，那里的那幢房子只有一个单元——5单元，只有一层——第五层。我先按门铃上的#号，门铃发出清脆的女声：“请输入密码。”我输入一串数字，那数字像早已刻在我的骨骼上一样清晰。女声欢呼：“门已开，请进。”我推开门，正午的阳光在我面前炸裂成熊熊燃烧的碎片，闪耀着足以点燃宇宙的星火。面前是长长的走廊，像极了影视作品中危机四伏的陷阱通道。我卓然向前，看似无尽的走道被我一步跨到了尽头，我敲门，看不清面容的阿姨开门，热烈欢迎我后把我领进家中。阿姨转身去端碗，留我在玄关踟蹰须臾。我扭头，漫不经心地想要将室内陈设的一切尽收眼底。就在这时我看见了她。</p>
<p>一株抵得上人世间所有褒义词的富贵竹端坐在我的面前，将整个房间的时间静止在我目光捕捉到她的那一瞬。在这一个瞬间她坚韧却柔美的叶子全然沐浴在阳光下，让我对幸运的太阳妒意丛生。时间这不知好歹的东西没被她的美貌拖慢脚步，按部就班地向前推进。我一想到她会老去会凋亡，就恶狠狠地扑上前去，对时间吼着：“别走！”时间脚步不停，却转过头来，用机械冰冷的声音对我饱含无奈与安慰地叹息：“没关系的，都一样。”</p>
<p>然后时间甩动链条，把我抽回太阳下的现实。我面对着竹子，心里和眼中的希冀同时达到顶峰。我眼里渗出泪水的泡沫，却不是因为阳光刺眼。我伸手向前想要抚摸她光华万丈的枝叶，想要询问她斑驳嶙峋的质感，想要深息滋养她的沃土。我对听不见这话的她说：“我俩好比没被启封的情书，装满了迷茫和不知去向的浓情。”<strong>我俩理应这样</strong>。</p>
<p>这时阿姨端出饭菜，油腻的菜肴看起来仿佛一盘盘有机高分子材料的集合。她看见我奔赴向阳光下的富贵竹，用朦胧中透露着怜悯的语气哀叹：“没关系的，都一样。”</p>
<p>我终于触及心心念念的她的叶子，触感却连同她的身影在刹那间隐入虚无。以她为中心的房间景象如同劣质剧场自导自演的滑稽戏，在轰鸣中碎裂，先成块，再成粉。我探向前想拥抱她的影子，一瞬间以后我搂住了一团空气。天上骄阳依旧，却下起了滚烫的沸雨，我感受到皮肤烧灼的焦痛，紧紧抱住自己，和怀中虚假的臆想的遥远的可悲的却无比真实的富贵竹，麻木地挥霍着属于我自己的荣华富贵。</p>
<p><strong>2022年10月</strong></p></section><section class="print-page" id="thoughts-unspoken" heading-number="3.7"><h1 id="thoughts-unspoken-_1">希音<a class="headerlink" href="#thoughts-unspoken-_1" title="Permanent link">&para;</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 1451 个字 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 4 分钟</p>
</div>
<blockquote>
<p>大音希声，大象无形。</p>
</blockquote>
<p>“你觉得在纯粹用对话推动情节的小说里，如果对话中的一个人一直不吭声，这方法还能起作用吗？”</p>
<p>“……”</p>
<p>“呃呃，你别当真了，你一不说话对作者和读者都是折磨。作者得打俩引号一个省略号就得换一行——你要是想用别的标点也行，不过我也不知道俩引号夹个标点符号构成的小短句是否符合现代汉语的规范；读者得费尽心思揣摩为什么作者跟个脑坛儿一样打几个标点就换行。”</p>
<p>“……”</p>
<p>“所以我说纯粹的对话真是瘫痪者的拐杖，能用，但指望只靠它步行那真是大脑也瘫痪了，我们好歹假设点环境描写——”</p>
<p>一个黑夜，周围没有灯光，只有面前石桌上反射的月光，像个湖，桌两面坐着俩人，都看不清脸。</p>
<p>“……”</p>
<p>“我估计作者换行按到这也无语，在心底里嘀咕这俩人——中的一人究竟要唠嗑什么。这问题也难办，你看环境描写咋说：‘都看不清脸’，意思就是我俩真不认识，真不熟，俩不熟的人面对面坐在黑夜里试图对话，跟罗辑史强推演黑暗森林图景一样简洁，有一种青涩的迷惘。”</p>
<p>“……”</p>
<p>“所以我们还得假设，假设你刚写了篇<a href="https://baike.baidu.com/item/%E8%8D%94%E6%9E%9D%E8%9C%9C/6747612/">文章</a>全文统共1341字，结果遭到心肠灰黑家伙的诬陷，每隔俩字就能揪出一个字指摘成上百行的罪过，最后气的你受不了打算嗯造安眠药求个好死，在奔赴黄泉的幽怨路上被我拦了下来拉到月色下谈心。”</p>
<p>“……”</p>
<p>“这故事可能你不满意，我也不满意，可惜在这方面的现实荒诞性毫不逊于故事。所以接下来我就会以生命可贵耐心开导你，告诫你体味生活之乐云云，结果故事以你冥顽不化偏执一心求死为结局，我的一切努力全权化为泡沫。”</p>
<p>“——”</p>
<p>“很高兴看到你有点别样的反应，这对我们的情节进一步发展很有帮助。这次我们假设你当官了，即便四十多岁了也一身书生气满腔正义情，结果平级的畜牲官跟你玩党争，学小九千岁玩祓除异己，你一大壮男人被逼得<a href="https://zhuanlan.zhihu.com/p/266328807/">无立锥之地</a>，和上面一世代一样也觉得活不过了，还是我给你拦下来叫到月夜下石桌前开小会，我告诉你你别哭这世界还是光明主导一切贪官污吏中饱私囊的贱种都会被撕得粉碎，到最后能实现的光明未来我们都能实现，你也能见到属于你的<a href="#stories-justice">正义</a>。”</p>
<p>“…………”</p>
<p>“我这算是骗了你，不过骗死人我也没啥负罪感——你还是跳下去，不过这一跳也没啥动静，常温下水的离子积还是10^(-14)，还蹦出个<a href="https://space.bilibili.com/1463028352/">纯真的哥们</a>把你在水面上硕果仅存的半个头砸没了，不过也别伤心，我还记着你呢。”</p>
<p>“。”</p>
<p>“你没辙，我也没辙，坐在这的活物就咱俩，咱俩没辙也不会有谁有辙。我特别希望假设你能回到过去当个小孩，每天吃了睡睡了吃无忧无虑，但是细胞分化决定你不会活得这么简单，长得快发胖，长得慢羸弱，长的猛痛风，长得软低血糖，还有别的啥小儿麻痹水痘感冒过敏等着呢。这些病揉上一遭后你有闲暇时间开始学东西了，学走路学说话学自己个吃饭学上幼儿园学3141以内的加减乘除学太阳为什么从东边起来学怎么用语言动作表露心中的想法学自己生长的奥秘学怎么和有着两眼一鼻一嘴的同类交流，学函数学诗歌学二力平衡学化合物学世界与国家的历史，学几何学集合学交流电学圆锥曲线学离子平衡学二项式定理。这么一学完你能长成个一米八多的长胡子的大高个了，好不容易觉得你自己和这世界的运转机理都琢磨透了，你开始琢磨身周的人事物，这么琢磨一下你傻了，怎么这世界长这个样子？<strong>为什么有的同龄姑娘伙子为一时欢愉能敢于提前步入成人行列？为什么为你发声为你说话的人被封上闹事的称号钉在他们的耻辱柱上？为什么自我夸耀标榜着优秀团结的一群人里小团体林立？为什么念叨着内在美的社会一次又一次唾弃着其貌不扬者？为什么有人端坐在会场上还要下令捅跪在泥土里祈祷的人民一刀？为什么全世界还有人吃不饱饭饿个半死还有人喂狗吃牛排？为什么人人言说的真理一被付诸于行动就万马齐喑？</strong>”</p>
<p>“ ”</p>
<p>“你没声音了，问完这些问题你还有声音吗？你用最后一点声音气力找了个女孩吐露心声，像是溺水者给救命稻草发的电报，没办法，没声音了。”</p>
<p>“ ”</p>
<p>“说句话吧，求你了。我来假设你的过去你的现在你的将来，来叫你千万别熄灭自己的声音，<strong><em>因为我最了解你的悲伤，我最明白你的痛苦。</em></strong>”</p>
<p><strong>2022年5月</strong></p></section></section>
                    <section class='print-page md-section' id='section-4' heading-number='4'>
                        <h1>笔记<a class='headerlink' href='#section-4' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="notes" heading-number="4.1"><h1 id="notes-_1">笔记<a class="headerlink" href="#notes-_1" title="Permanent link">&para;</a></h1>
<blockquote>
<p>弱智<span class="arithmatex">\(\LaTeX\)</span>语法...正在转为typst忠实用户<br />
大部分课程学的很烂，记的东西也没什么价值，大体留备自用<br />
部分抄的前人笔记<br />
部分界面含有大量图片，全部显示需要很久很久，观感不佳时可考虑使用代理。</p>
</blockquote>
<p>{{ pagetree(subtree) }}</p></section>
                    <section class='print-page md-section' id='section-4-2' heading-number='4.2'>
                        <h1>AI<a class='headerlink' href='#section-4-2' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="notes-ai-aiy" heading-number="4.2.1"><nav class='md-tags'><span class='md-tag'>大二上笔记</span></nav><blockquote>
<p>是人我吃</p>
</blockquote>
<h1 id="notes-ai-aiy-_1">人工智能引论<a class="headerlink" href="#notes-ai-aiy-_1" title="Permanent link">&para;</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 3091 个字 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 17H7V3h14m0-2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2M3 5H1v16a2 2 0 0 0 2 2h16v-2H3m12.96-10.71-2.75 3.54-1.96-2.36L8.5 15h11z"/></svg></span> 5 张图片 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 9 分钟</p>
</div>
<blockquote>
<p>AI导？网安导！<br />
课表里有一门冬8周才开始自学的课<br />
任课教师：黄正行</p>
</blockquote>
<h2 id="notes-ai-aiy-_2">知识表示与推理<a class="headerlink" href="#notes-ai-aiy-_2" title="Permanent link">&para;</a></h2>
<h3 id="notes-ai-aiy-_3">命题逻辑<a class="headerlink" href="#notes-ai-aiy-_3" title="Permanent link">&para;</a></h3>
<p>离散数学打进来了？</p>
<p>命题：要么真，要么假（得有个 TRuTh ValUe）。</p>
<p>归结法：</p>
<ul>
<li><span class="arithmatex">\(a \lor b\)</span>, <span class="arithmatex">\(\neg b \lor c\)</span>可推出<span class="arithmatex">\(a \lor c\)</span>。</li>
</ul>
<h3 id="notes-ai-aiy-_4">谓词逻辑<a class="headerlink" href="#notes-ai-aiy-_4" title="Permanent link">&para;</a></h3>
<div class="admonition note">
<p class="admonition-title">e.g.</p>
<ul>
<li><span class="arithmatex">\(king(x)\)</span>: <span class="arithmatex">\(x\)</span>是国王，这是一个一元谓词。</li>
<li><span class="arithmatex">\(Head_on(crown, x)\)</span>: <span class="arithmatex">\(x\)</span>戴着皇冠，这是一个二元谓词。</li>
</ul>
</div>
<h3 id="notes-ai-aiy-_5">知识图谱推理<a class="headerlink" href="#notes-ai-aiy-_5" title="Permanent link">&para;</a></h3>
<p>一般而言，可将知识图谱中任意两个相连节点及其连接边表示成一个三元组（triplet）, 即 (left_node, relation, right_node)  ，例：(David, Father, Mike)。</p>
<ul>
<li>正例：目标谓词符合图谱内事实的训练样例</li>
<li>反例：简单理解为图谱内其余关系的节点在关系为<span class="arithmatex">\(\neg\)</span>目标谓词下的结果</li>
</ul>
<div class="admonition definition">
<p class="admonition-title">FOIL信息增益值</p>
<p><span class="arithmatex">\(𝐹𝑂𝐼𝐿_{𝐺𝑎𝑖𝑛} = \hat{𝑚_{+}}⋅(\log_2 \frac{⁡\hat{𝑚_+}}{\hat{𝑚_+ } + \hat{𝑚_− }} − \log_2⁡ \frac{𝑚_+}{𝑚_{+} + 𝑚_{−}})\)</span></p>
<ul>
<li>正号代表推理规则覆盖的正例，负号代表反例</li>
<li>带<code>^</code>的表示添加了<strong>新的前提约束谓词</strong>后得到的结果</li>
</ul>
</div>
<div class="admonition example">
<p class="admonition-title">FOIL</p>
<p><img alt="FOIL例子" src="../notes/AI/assets/aiy4.png" /></p>
<ul>
<li>注意此例初始图中红线并不存在（需要推理得知），于是<span class="arithmatex">\(Father(x,y)\)</span>作为<strong>目标谓词</strong>的训练样例只有一个正例（<span class="arithmatex">\(Father(David, Mike)\)</span>）和四个反例（取其他四条线的两个节点，谓词改为<span class="arithmatex">\(\neg Father\)</span>）</li>
</ul>
<p>将Monther(z, y)作为前提约束谓词加入, 可得到推理规则<span class="arithmatex">\(Mother(z, y) → Father(x, y)\)</span></p>
<p>在背景知识中, Monther(z, y)有两个实例:</p>
<ul>
<li><span class="arithmatex">\(Mother(James, Mike)\)</span></li>
<li><span class="arithmatex">\(Mother(James, Ann)\)</span></li>
</ul>
<p>对于<span class="arithmatex">\(Mother(James, Mike)\)</span>这一实例, <span class="arithmatex">\(z=James, y=Mike\)</span>, 将<span class="arithmatex">\(z\)</span>和<span class="arithmatex">\(y\)</span>带入<span class="arithmatex">\(Father(x, y)\)</span>得到<span class="arithmatex">\(Father(x, Mike)\)</span></p>
<ul>
<li>覆盖了：<ul>
<li>正例 Father(David, Mike)</li>
<li>反例 Father(James, Mike) Father(Ann, Mike)</li>
</ul>
</li>
</ul>
<p>对于Monther(James, Ann)这一实例, z=James, y=Ann, 将z和y带入Father(x, y)得到Father(x, Ann).</p>
<ul>
<li>覆盖了:<ul>
<li>反例 Father(James, Ann)</li>
</ul>
</li>
</ul>
</div>
<h3 id="notes-ai-aiy-_6">概率图推理<a class="headerlink" href="#notes-ai-aiy-_6" title="Permanent link">&para;</a></h3>
<p>不考</p>
<h3 id="notes-ai-aiy-_7">因果推理<a class="headerlink" href="#notes-ai-aiy-_7" title="Permanent link">&para;</a></h3>
<p>不考</p>
<h2 id="notes-ai-aiy-_8">搜索与求解<a class="headerlink" href="#notes-ai-aiy-_8" title="Permanent link">&para;</a></h2>
<h3 id="notes-ai-aiy-_9">搜索算法基础<a class="headerlink" href="#notes-ai-aiy-_9" title="Permanent link">&para;</a></h3>
<ul>
<li>状态：对搜索算法和搜索环境当前所处情形的描述信息。</li>
<li>动作：从一个状态转移到另外一个状态所采取的行为被称为动作。</li>
<li>状态转移：算法选择了一个动作之后，其所处状态也会发生相应变化，这个过程被称为状态转移。</li>
<li>目标测试函数<code>goal_test(s)</code>用于判断状态<code>s</code>是否为目标状态。</li>
<li>搜索树</li>
<li>BFS<ul>
<li><img alt="BFS" src="../notes/AI/assets/aiy1.png" /></li>
</ul>
</li>
<li>DFS<ul>
<li><img alt="DFS" src="../notes/AI/assets/aiy2.png" /></li>
</ul>
</li>
<li>评测标准：<ul>
<li>完备性：问题存在解时，算法是否能保证找到解。</li>
<li>最优性：是否能找到最优解。</li>
<li>时间复杂度</li>
<li>空间复杂度</li>
</ul>
</li>
</ul>
<h3 id="notes-ai-aiy-_10">启发式搜索<a class="headerlink" href="#notes-ai-aiy-_10" title="Permanent link">&para;</a></h3>
<ul>
<li>定义启发函数<span class="arithmatex">\(h(n)\)</span>，用于评估节点<span class="arithmatex">\(n\)</span>到<strong>目标节点</strong>的 path 的最小代价。</li>
<li>定义评价函数<span class="arithmatex">\(f(n)\)</span>，用于选择节点<span class="arithmatex">\(n\)</span>的下一个节点。</li>
</ul>
<div class="admonition example">
<p class="admonition-title">贪婪最佳优先搜索</p>
<ul>
<li><span class="arithmatex">\(f(n) = h(n)\)</span>，评价函数就是启发函数，于是每个动作选择选项中距目标节点 path 代价最小的节点</li>
<li>时间复杂度和空间复杂度均为<span class="arithmatex">\(𝐎(𝒃^𝒎)\)</span>，<span class="arithmatex">\(b\)</span>是搜索树分支因子，<span class="arithmatex">\(m\)</span>是最大深度</li>
</ul>
</div>
<div class="admonition example">
<p class="admonition-title">A*搜索</p>
<ul>
<li><span class="arithmatex">\(f(n) = g(n) + h(n)\)</span></li>
<li>相对贪婪最佳优先搜索，<span class="arithmatex">\(g(n)\)</span> 为从初始节点到节点<span class="arithmatex">\(n\)</span>的实际代价。（当前最小代价）</li>
<li>性质：<ul>
<li>一致性（consistency）：启发函数的一致性指满足条件<span class="arithmatex">\(ℎ(𝑛)≤𝑐(𝑛, 𝑎, 𝑛')+ℎ(𝑛')\)</span>，这里𝑐(𝑛, 𝑎, 𝑛′)表示结点𝑛通过动作a到达其相应的后继结点𝑛′的代价(三角不等式原则)。</li>
<li>可容性（admissible）：对于任意结点𝑛，有<span class="arithmatex">\(ℎ(𝑛)≤ℎ^∗ (𝑛)\)</span>，如果𝑛是目标结点，则有ℎ(𝑛)=0。如表3.3所示， <span class="arithmatex">\(ℎ^∗ (𝑛)\)</span>是从结点𝑛出发到达终止结点所付出的（实际）最小代价。可以这样理解满足可容性的启发函数，启发函数不会过高估计（over-estimate）从结点𝑛到终止结点所应该付出的代价（即估计代价小于等于实际代价）</li>
<li>满足一致性条件的启发函数一定满足可容性条件</li>
<li>如果启发函数是可容的，那么A*搜索算法是最优的。</li>
</ul>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">如果问题和启发函数满足以下条件，则A*搜索算法是完备的</p>
<ul>
<li>搜索树中分支数量是有限的，即每个结点的后继结点数量是有限的</li>
<li>单步代价的下界是一个正数</li>
<li>启发函数有下界</li>
</ul>
</div>
</div>
<h3 id="notes-ai-aiy-_11">对抗搜索<a class="headerlink" href="#notes-ai-aiy-_11" title="Permanent link">&para;</a></h3>
<ul>
<li>一方最大化某个利益，另一方最小化某个利益。</li>
<li>MiniMax 搜索<ul>
<li>需要遍历游戏树中所有节点</li>
</ul>
</li>
<li>Alpha-Beta 剪枝<ul>
<li>节点先后次序会影响剪枝效率</li>
<li>Alpha和Beta初始值分别为负无穷大和正无穷大</li>
</ul>
</li>
</ul>
<h3 id="notes-ai-aiy-_12">蒙特卡洛树搜索<a class="headerlink" href="#notes-ai-aiy-_12" title="Permanent link">&para;</a></h3>
<ul>
<li>使用<strong>上限置信区间算法</strong>：为每个动作的奖励期望计算一个估计范围，优先采用估计范围上限较高的动作。</li>
<li>选举、扩展、模拟、反向传播</li>
</ul>
<h2 id="notes-ai-aiy-_13">机器学习<a class="headerlink" href="#notes-ai-aiy-_13" title="Permanent link">&para;</a></h2>
<ul>
<li>经验风险：训练集中数据产生的损失。<ul>
<li>经验风险越小说明学习模型对训练数据拟合程度越好。</li>
</ul>
</li>
<li>期望风险：当测试集中存在无穷多数据时产生的损失。<ul>
<li>期望风险越小，学习所得模型越好。</li>
</ul>
</li>
<li>结构风险最小化(structural risk minimization)：为了防止过拟合，在经验风险上加上表示模型复杂度的正则化项(regulatizer)或惩罚项(penalty term) </li>
</ul>
<p><img alt="Risk" src="../notes/AI/assets/aiy3.png" /></p>
<h2 id="notes-ai-aiy-_14">有监督学习<a class="headerlink" href="#notes-ai-aiy-_14" title="Permanent link">&para;</a></h2>
<p>监督学习方法又可以分为生成方法(generative approach)和判别方法(discriminative approach)。所学到的模型分别称为生成模型(generative model)和判别模型(discriminative model).</p>
<ul>
<li>判别方法直接学习判别函数𝒇(𝑿) 或者条件概率分布𝑷(𝒀|𝑿) 作为预测的模型，即判别模型。<ul>
<li>判别模型关心在给定输入数据下，预测该数据的输出是什么。</li>
<li>不考虑样本的产生模型，直接研究预测模型。</li>
<li>典型判别模型包括回归模型、神经网络、支持向量机和Ada boosting等。</li>
</ul>
</li>
<li>生成模型从数据中学习联合概率分布𝑃(𝑋,𝑌)（通过似然概率𝑃(𝑋|𝑌) 和类概率𝑃(𝑌) 的乘积来求取）<ul>
<li><span class="arithmatex">\(𝑃(𝑌 | 𝑋) = \frac{𝑃(𝑋,𝑌)}{𝑃(𝑋)}\)</span>  或者 <span class="arithmatex">\(𝑃(𝑌 | 𝑋) = \frac{𝑃(𝑋|𝑌)×𝑃(𝑌)}{𝑃(𝑋)}\)</span></li>
<li>典型方法为贝叶斯方法、隐马尔可夫链</li>
<li>联合分布概率𝑃(𝑋,𝑌)或似然概率𝑃(𝑋|𝑌)求取很困难</li>
</ul>
</li>
</ul>
<h3 id="notes-ai-aiy-_15">线性回归<a class="headerlink" href="#notes-ai-aiy-_15" title="Permanent link">&para;</a></h3>
<p>呃呃呃</p>
<h3 id="notes-ai-aiy-_16">逻辑回归<a class="headerlink" href="#notes-ai-aiy-_16" title="Permanent link">&para;</a></h3>
<p><span class="arithmatex">\(f(p) = \ln \frac{p}{1-p}\)</span></p>
<p>logistic函数：<span class="arithmatex">\(g(z) = \frac{1}{1+e^{-z}}\)</span>, <span class="arithmatex">\(g(z)\)</span>的值域为<span class="arithmatex">\((0,1)\)</span>，<span class="arithmatex">\(z = w^T x + b\)</span>。</p>
<h3 id="notes-ai-aiy-_17">决策树<a class="headerlink" href="#notes-ai-aiy-_17" title="Permanent link">&para;</a></h3>
<ul>
<li>正实例：产生正值决策的实例</li>
<li>负实例：产生负值决策的实例</li>
<li>决策树代表实例属性值约束的合取的析取式。从树根到树叶的每一条路径对应一组属性测试的合取，树本身对应这些合取的析取</li>
</ul>
<div class="admonition note">
<p class="admonition-title">ID3算法</p>
<ul>
<li>决策树的根结点是所有样本中信息量最大的属性。树的中间结点是该结点为根的子树所包含的样本子集中信息量最大的属性。决策树的叶结点是样本的类别值。</li>
<li>用信息增益（即信息论中的互信息）来选择属性作为决策树的结点</li>
</ul>
</div>
<ul>
<li><span class="arithmatex">\(p_i\)</span>表示<span class="arithmatex">\(S\)</span>中属于类<span class="arithmatex">\(i\)</span>的比例</li>
<li>熵(entropy)：给定有关某概念的正例和负例的集合S。对此BOOLEAN分类的熵为：<span class="arithmatex">\(Entropy(S)= - pos \log_2{(pos)} – neg \log_2{(neg)}\)</span><ul>
<li>“pos”和”neg”分别表示S中正例和负例的比例。</li>
<li>如果分类器有<span class="arithmatex">\(c\)</span>个不同的输出，则：<ul>
<li><span class="arithmatex">\(Entropy(S)= -\Sigma_{i=1}^c p_i \log_2{p_i}\)</span> </li>
</ul>
</li>
</ul>
</li>
<li>信息量：<span class="arithmatex">\(\Sigma_{i=1}^c \frac{|S_v|}{|S|} Entropy(S_v)\)</span>，其中<span class="arithmatex">\(S_v\)</span>表示<span class="arithmatex">\(S\)</span>的子集，其属性<span class="arithmatex">\(A\)</span>的值为<span class="arithmatex">\(v\)</span>。</li>
<li>信息增益：<span class="arithmatex">\(Gain(S,A) = Entropy(S) - \Sigma_{v=1}^c \frac{|S_v|}{|S|} Entropy(S_v)\)</span></li>
</ul>
<h2 id="notes-ai-aiy-_18">无监督学习<a class="headerlink" href="#notes-ai-aiy-_18" title="Permanent link">&para;</a></h2>
<p>学习目标：探究同一数据集的数据分布</p>
<h3 id="notes-ai-aiy-k">K均值聚类<a class="headerlink" href="#notes-ai-aiy-k" title="Permanent link">&para;</a></h3>
<ul>
<li>两个<span class="arithmatex">\(m\)</span>维数据的欧氏距离<span class="arithmatex">\(dist(a,b) = \sqrt{\Sigma_{i=1}^m (a_i - b_i)^2}\)</span>值越小，两个数据越相似</li>
<li>问题：如何将𝒏个数据依据其相似度大小将它们分别聚类到𝒌个集合，使得每个数据仅属于一个聚类集合。</li>
</ul>
<div class="admonition note">
<p class="admonition-title">解决方案</p>
<ul>
<li>第一步：初始化聚类质心<ul>
<li>初始化𝒌个聚类质心<span class="arithmatex">\(c_1, c_2,..., c_k\)</span>，每个聚类质心<span class="arithmatex">\(c_j\)</span>所在集合记为<span class="arithmatex">\(G_j\)</span></li>
</ul>
</li>
<li>第二步：将每个待聚类数据放入唯一一个聚类集合中<ul>
<li>对于 <span class="arithmatex">\(1\leq i \leq n, 1 \leq j \leq k\)</span>，计算待聚类数据<span class="arithmatex">\(𝑥_𝑖\)</span>和质心<span class="arithmatex">\(𝑐_𝑗\)</span>之间的欧氏距离<span class="arithmatex">\(𝑑(𝑥_𝑖,𝑐_𝑗)\)</span></li>
<li>将每个<span class="arithmatex">\(𝑥_𝑖\)</span>放入与之距离最近聚类质心所在聚类集合中</li>
</ul>
</li>
<li>第三步：根据聚类结果、更新聚类质心<ul>
<li>根据每个聚类集合中所包含的数据，更新该聚类集合<strong>质心</strong>值<ul>
<li><span class="arithmatex">\(c_j = \frac{1}{|G_j|} \Sigma_{x_i \in G_j} x_i\)</span></li>
</ul>
</li>
</ul>
</li>
<li>第四步：算法循环迭代，直到满足条件<ul>
<li>在新聚类质心基础上，根据欧氏距离大小，将每个待聚类数据放入唯一一个聚类集合中</li>
<li>根据新的聚类结果，更新聚类质心</li>
</ul>
</li>
<li>满足以下两个条件时停止迭代<ul>
<li>已经达到了迭代次数上限</li>
<li>前后两次迭代中，聚类质心基本保持不变</li>
</ul>
</li>
<li>最终得到局部最优解</li>
</ul>
</div>
<h3 id="notes-ai-aiy-_19">主成分分析<a class="headerlink" href="#notes-ai-aiy-_19" title="Permanent link">&para;</a></h3>
<p>PCA（主成分分析） 是一种降维方法，它要求降维后的结果能够尽量保留原始数据的方差（即数据的原有结构）。PCA通过找到数据的主成分（即数据中方差最大的方向）来进行降维，使得降维后的数据尽量能保留原数据的主要信息和结构。</p>
<div class="admonition example">
<p class="admonition-title">期望最大化（expectation maximization, EM）</p>
<p>EM算法是一种重要的用于解决含有隐变量（latent variable）问题的参数估计方法。</p>
<p>EM算法分为求取期望（E步骤，expectation）和期望最大化（M步骤，maximization）两个步骤。 </p>
<p>在EM算法的E步骤时，先假设模型参数的初始值，估计隐变量取值；在EM算法的M步骤时，基于观测数据、模型参数和隐变量取值一起来最大化“拟合”数据，更新模型参数。基于所更新的模型参数，得到新的隐变量取值（EM算法的 E 步），然后继续极大化“拟合”数据，更新模型参数（EM算法的M步）。以此类推迭代，直到算法收敛，得到合适的模型参数。</p>
</div>
<h2 id="notes-ai-aiy-_20">深度学习<a class="headerlink" href="#notes-ai-aiy-_20" title="Permanent link">&para;</a></h2>
<p>Softmax函数一般用于多分类问题中，其将输入数据 <span class="arithmatex">\(𝒙_𝒊\)</span> 映射到第 <span class="arithmatex">\(𝒊\)</span> 个类别的概率 <span class="arithmatex">\(𝒚_𝒊=softmax(x_i)=\frac{𝒆^(𝒙_𝒊)}{\Sigma_{j=1}^{k} e^(x_j )}\)</span></p>
<h3 id="notes-ai-aiy-_21">神经网络<a class="headerlink" href="#notes-ai-aiy-_21" title="Permanent link">&para;</a></h3>
<h4 id="notes-ai-aiy-_22">前馈神经网络<a class="headerlink" href="#notes-ai-aiy-_22" title="Permanent link">&para;</a></h4>
<p>各个神经元接受前一级的输入，输出给下一级，没有反馈。</p>
<div class="admonition note">
<p class="admonition-title">损失函数</p>
<p>假设有 <span class="arithmatex">\(n\)</span> 个训练数据 <span class="arithmatex">\(x_i\)</span>，每个训练数据 <span class="arithmatex">\(x_i\)</span> 的真实输出为 <span class="arithmatex">\(y_i\)</span>，模型对 <span class="arithmatex">\(x_i\)</span> 的预测值为 <span class="arithmatex">\(\hat{y}_i\)</span>
- 交叉熵损失函数：<span class="arithmatex">\(L(y, \hat{y}) = -\Sigma_{i=1}^{n} y_i \log(\hat{y}_i)\)</span>
- 均方误差损失函数：<span class="arithmatex">\(L(y, \hat{y}) = \frac{1}{2} \Sigma_{i=1}^{n} (y_i - \hat{y}_i)^2\)</span></p>
<div class="admonition note">
<p class="admonition-title">梯度下降算法</p>
<p>梯度下降算法是一种迭代优化算法，用于最小化损失函数。</p>
</div>
</div>
<h4 id="notes-ai-aiy-_23">卷积神经网络<a class="headerlink" href="#notes-ai-aiy-_23" title="Permanent link">&para;</a></h4>
<p>全连接层：特征图转化为向量<br />
分类层：输出识别分类的置信度值</p>
<h2 id="notes-ai-aiy-_24">强化学习<a class="headerlink" href="#notes-ai-aiy-_24" title="Permanent link">&para;</a></h2>
<p><img alt="强化学习中的概念" src="../notes/AI/assets/aiy5.png" /></p>
<p>在强化学习中，通过策略评估，策略优化的迭代，来学习得到最佳策略</p>
<h2 id="notes-ai-aiy-_25">人工智能博弈<a class="headerlink" href="#notes-ai-aiy-_25" title="Permanent link">&para;</a></h2>
<h2 id="notes-ai-aiy-or">可能考 or 考过了的题<a class="headerlink" href="#notes-ai-aiy-or" title="Permanent link">&para;</a></h2>
<blockquote>
<p>来源于HZX老师最后两节课</p>
</blockquote>
<ul>
<li>AlphaGo 用到了：强化学习，蒙特卡洛树搜索。</li>
<li>逻辑推理的三个层次：关联，干预，反事实（由易到难）。</li>
<li>广度优先搜索、深度优先搜索、蒙特卡洛树搜索属于启发式搜索吗？</li>
<li>归纳推理、因果推理、演绎推理的实际案例。</li>
<li>归结法证明某个命题是否成立。</li>
<li>用命题量词逻辑表示“所有实数的平方大于等于0”。</li>
<li><strong>混淆偏差、因果关联、选择偏差的实例选择。</strong><ul>
<li>程序员和格子衬衫：选择偏差</li>
<li>力形所以奋也：力和形是因果关联</li>
<li>地面湿与行人撑伞：混淆偏差</li>
</ul>
</li>
<li>哪个方案为导致MiniMax的算法结果改变？</li>
<li>博弈树</li>
<li>遗憾值计算</li>
</ul></section><section class="print-page" id="notes-ai-daml" heading-number="4.2.2"><h1 id="notes-ai-daml-data-analysis-and-machine-learning">Data Analysis and Machine Learning<a class="headerlink" href="#notes-ai-daml-data-analysis-and-machine-learning" title="Permanent link">&para;</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 2468 个字 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6m80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3l89.3 89.4-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3"/></svg></span> 34 行代码 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 17H7V3h14m0-2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2M3 5H1v16a2 2 0 0 0 2 2h16v-2H3m12.96-10.71-2.75 3.54-1.96-2.36L8.5 15h11z"/></svg></span> 19 张图片 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 7 分钟</p>
</div>
<div class="admonition note">
<p class="admonition-title">Overview</p>
<p>国际化拔尖人才培养课程：机器学习在数据分析和自然语言处理中的应用。讲得很浅，类似通识课的难度，连写代码的任务都没有。</p>
<blockquote>
<p>"Eighty percent will be course lessons, and twenty percent will be life lessons."  -- Raja Sooriamurthi</p>
</blockquote>
</div>
<h2 id="notes-ai-daml-lec-1-introduction">Lec 1: Introduction<a class="headerlink" href="#notes-ai-daml-lec-1-introduction" title="Permanent link">&para;</a></h2>
<p>Real World Problem Solving (From abstract world to real world):</p>
<ol>
<li>Puzzled-Based Learning: Domain Independent, Logical Reasoning</li>
<li>System-based Learning: Reasoning with domain-specific methods (Learn physics knowledge to solve physics problems, etc.)</li>
<li>Project-based Learning: Working with teams, Dealing with uncertainty</li>
</ol>
<p>例如，问题要求计算<span class="arithmatex">\(100!\)</span>，重要的不是答案，而是计算过程。例如说，可以立刻确定结果末尾有两个零，由100带来的。（好难绷的例子）</p>
<blockquote>
<p>Learing occurs when someone wants to learn, not when someone wants to teach.  -- Roger Schank</p>
</blockquote>
<h3 id="notes-ai-daml-information-system">Information System<a class="headerlink" href="#notes-ai-daml-information-system" title="Permanent link">&para;</a></h3>
<p>Class Core, Ultimate Goal: Info System is all about <strong>adding value</strong> to organizations and <del>use technology</del>.</p>
<p>Machine Learning永远不会孤立存在，一般发生于某种business context下，用于添加value，例如说医院预测预约者失约的概率。（个人理解：强调实际用途？）因此面对ML问题，从value的角度思考。</p>
<p><img alt="" src="../notes/AI/assets/DAML1.png" /></p>
<p>如图，从数据中提取Value的过程，其中Visualize（可视化）代表Data Analysis，Modeling（建模）代表Machine Learning。</p>
<h3 id="notes-ai-daml-use-of-data">Use of Data<a class="headerlink" href="#notes-ai-daml-use-of-data" title="Permanent link">&para;</a></h3>
<p>Visualization and Prediction.</p>
<p>Process when solving a problem:</p>
<ul>
<li>Consider whether the problem is worth solving</li>
<li>Invention: WHAT CAN I DO?</li>
</ul>
<h3 id="notes-ai-daml-tools">Tools<a class="headerlink" href="#notes-ai-daml-tools" title="Permanent link">&para;</a></h3>
<p><img alt="" src="../notes/AI/assets/DAML2.png" /></p>
<p><del>"Matplotlib is too low-level"</del></p>
<h3 id="notes-ai-daml-machine-learning">Machine Learning<a class="headerlink" href="#notes-ai-daml-machine-learning" title="Permanent link">&para;</a></h3>
<p>Learning: Improvement.</p>
<div class="admonition example">
<p class="admonition-title">eg</p>
<ul>
<li>
<p>Recommendation System: Netflix</p>
</li>
<li>
<p>Association: People who read this book also read...</p>
</li>
<li>
<p>Email spam classification</p>
</li>
</ul>
</div>
<h2 id="notes-ai-daml-lec2-computational-thinking-tidy-data">Lec2: Computational Thinking &amp; Tidy Data<a class="headerlink" href="#notes-ai-daml-lec2-computational-thinking-tidy-data" title="Permanent link">&para;</a></h2>
<blockquote>
<p>If there is no action, there is no value.</p>
</blockquote>
<h3 id="notes-ai-daml-_1">计算思维<a class="headerlink" href="#notes-ai-daml-_1" title="Permanent link">&para;</a></h3>
<p>四个方面：</p>
<ul>
<li>Decomposition: Divide and Conquer</li>
<li>Abstraction: Separate the "What" from the "How"</li>
<li>Recognition: Look for similarities between problems</li>
<li>Generalization: Adapt previous solutions to new problems</li>
<li>Computation: How to express solution unambiguously</li>
</ul>
<h3 id="notes-ai-daml-abstraction">Abstraction<a class="headerlink" href="#notes-ai-daml-abstraction" title="Permanent link">&para;</a></h3>
<p><del>CS61A讲过了（</del></p>
<blockquote>
<p>This is the approach of stratified design, the notion that a complex system should be structured as a sequence of levels that are described using a sequence of languages.   -- Abelson and Sussman</p>
</blockquote>
<p>即复杂的系统在设计/阐述时应该被分层，每一层用不同的语言描述。</p>
<p>e.g. Internet的七层结构，Git分为Porcelain（面向用户）和Plumbing（Core Git）两层。</p>
<h3 id="notes-ai-daml-effective-visualization">EFFECTIVE VISUALIZATION<a class="headerlink" href="#notes-ai-daml-effective-visualization" title="Permanent link">&para;</a></h3>
<p>Tidy Data: 数据的组织格式，使得数据更容易被处理。（例如用表格）</p>
<div class="admonition note">
<p class="admonition-title">e.g.</p>
<p>即便是表格也有messy的，如下图，蓝色表格对人类来说是更可读的，而绿色（Tidy Ver.）对计算机更友好。  </p>
<p><img alt="" src="../notes/AI/assets/DAML3.png" /></p>
</div>
<p>Data Analysis中注意的三个属性：</p>
<ul>
<li>Variable: 和编程语言中的变量不同，这里指的是<strong>可以被测量的性质或量</strong></li>
<li>Value: 某个时刻测量Variable的结果</li>
<li>Observation:  The values of several variables measured under similar conditions.</li>
</ul>
<h3 id="notes-ai-daml-reshaping-dataframes">RESHAPING DATAFRAMES<a class="headerlink" href="#notes-ai-daml-reshaping-dataframes" title="Permanent link">&para;</a></h3>
<ul>
<li>Column headers are values, not variable names</li>
<li>Row headers are Observations.</li>
</ul>
<p><img alt="" src="../notes/AI/assets/DAML4.png" /></p>
<h2 id="notes-ai-daml-lec-3-reshape-data-introduction-to-visualization">Lec 3: Reshape Data - Introduction to Visualization<a class="headerlink" href="#notes-ai-daml-lec-3-reshape-data-introduction-to-visualization" title="Permanent link">&para;</a></h2>
<blockquote>
<p>Creativity, Curiosity, and Compassion</p>
</blockquote>
<div class="admonition example">
<p class="admonition-title">e.g.</p>
<p>Subway Map: put you in other's shoes.</p>
<p>Data gathered: About Movies.  </p>
<p><img alt="" src="../notes/AI/assets/DAML5.png" /></p>
<p>面对这些数据，我们可以提出很多问题，例如：性别不同的人分别喜欢看什么电影？年龄对电影评价的影响如何？等等。然后可以造一个Tidy的表格：</p>
<p>| MovieID | Title | Male_Rating | Female_Rating | Diff |</p>
</div>
<h3 id="notes-ai-daml-effective-mapping">Effective Mapping<a class="headerlink" href="#notes-ai-daml-effective-mapping" title="Permanent link">&para;</a></h3>
<p>Types of Data:</p>
<p><img alt="" src="../notes/AI/assets/DAML6.png" /></p>
<ul>
<li>
<p>N(Normals)</p>
<ul>
<li>Operation: =, !=</li>
<li>e.g.: 邮政编码，血型，瞳孔颜色，种族，政党</li>
<li>根本无法量化的特性</li>
</ul>
</li>
<li>
<p>O(Ordered)</p>
<ul>
<li>Operation: =, !=, &gt;(&lt;)(=)</li>
<li>e.g.: "Low/High/Medium Income Level". 满意程度（高，中，低）</li>
<li>具有分级（Order）的大致范围</li>
</ul>
</li>
<li>
<p>Q(Interval - Location of zero arbitrary - 0 只是一个标记点，实则也是一个该量的值)</p>
<ul>
<li>Operation: =, !=, &gt;(&lt;)(=), -</li>
<li>e.g.: temperature（摄氏度与华氏度）, pH, SAT score</li>
</ul>
</li>
<li>
<p>Q(Ratio - Location of 0 fixed - 0 代表该量的完全缺失)</p>
<ul>
<li>Operation: =, !=, &gt;(&lt;)(=), -, /</li>
<li>e.g.: Physical measurements(mass, length, 开尔文温度)</li>
<li>换句话说，不存在负数（？）</li>
</ul>
</li>
</ul>
<h2 id="notes-ai-daml-lec-4-overview-of-machine-learning">Lec 4: Overview of Machine Learning<a class="headerlink" href="#notes-ai-daml-lec-4-overview-of-machine-learning" title="Permanent link">&para;</a></h2>
<p>Value Proposition (end-to-end)</p>
<ul>
<li>Pain Point</li>
<li>Problem Formulation (measure the pain)</li>
<li>Solution Development</li>
<li>Deployment</li>
<li>Evaluation (reduction in pain)</li>
<li>Maintenance / Sustainability</li>
</ul>
<h3 id="notes-ai-daml-measurement-of-learning">Measurement of learning<a class="headerlink" href="#notes-ai-daml-measurement-of-learning" title="Permanent link">&para;</a></h3>
<p>用P表示对某程序的表现衡量，定义经历E和某类任务T，则<span class="arithmatex">\(P(T,E+\Delta) &gt; P(T,E)\)</span>。</p>
<p>ML TASKS:</p>
<ul>
<li>
<p><strong>Classification / Regression</strong></p>
<ul>
<li>assign a label (classification) or numerical value (regression) to an unknown entity based on a set of features and known labels (or numerical values)</li>
</ul>
</li>
<li>
<p><strong>Clustering</strong></p>
<ul>
<li>group a bunch of entities that share common features</li>
</ul>
</li>
<li>
<p><strong>Optimization</strong></p>
<ul>
<li>from amongst a set of alternatives pick the “best” while balancing competing value metrics</li>
</ul>
</li>
<li>
<p><strong>Forecasting</strong></p>
<ul>
<li>based on the past, forecast the future</li>
</ul>
</li>
<li>
<p><strong>Recommendation</strong></p>
<ul>
<li>based on prior behavior rank order candidate preferences</li>
</ul>
</li>
<li>
<p><strong>Association</strong></p>
<ul>
<li>identify which items co-occur e.g., bread and peanut butter</li>
</ul>
</li>
</ul>
<p>如何评判ML TASKS完成的好坏？（mea</p>
<ol>
<li>需要确定评判的指标（e.g.</li>
</ol>
<h3 id="notes-ai-daml-types-of-learning">Types of Learning<a class="headerlink" href="#notes-ai-daml-types-of-learning" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Supervised Learning</p>
<ul>
<li>We know both the input and the output</li>
<li>'Teacher'</li>
</ul>
</li>
<li>
<p>Unsupervised Learning</p>
<ul>
<li>We only know the input</li>
</ul>
</li>
<li>
<p>Reinforcement</p>
<ul>
<li>We know what is desired (correct) and what is not desired</li>
<li>the ‘credit/blame assignment’ problem</li>
</ul>
</li>
</ul>
<p>Pull out features from data, and then feed them into a <strong>model</strong>.</p>
<p>Two phases of ML:</p>
<ol>
<li>Training (with training data)</li>
<li>Testing (with testing data)</li>
</ol>
<h2 id="notes-ai-daml-lec-5-evaluating-a-classifier">Lec 5: Evaluating a Classifier<a class="headerlink" href="#notes-ai-daml-lec-5-evaluating-a-classifier" title="Permanent link">&para;</a></h2>
<h3 id="notes-ai-daml-cross-validation-and-data-leakage">Cross-Validation AND DATA LEAKAGE<a class="headerlink" href="#notes-ai-daml-cross-validation-and-data-leakage" title="Permanent link">&para;</a></h3>
<h4 id="notes-ai-daml-cross-validation">Cross-Validation<a class="headerlink" href="#notes-ai-daml-cross-validation" title="Permanent link">&para;</a></h4>
<p>没太听懂这块，这个Cross-Validation是用来减少“运气”对结果的影响，to measure authentic learning.</p>
<p><img alt="" src="../notes/AI/assets/DAML7.png" /></p>
<h4 id="notes-ai-daml-data-leakage">Data Leakage<a class="headerlink" href="#notes-ai-daml-data-leakage" title="Permanent link">&para;</a></h4>
<p>Leakage: Testing data has overlapped with training data.</p>
<p>The twain shall never meet.</p>
<h3 id="notes-ai-daml-classifier-evaluation">cLASSIFIER EVALUATION<a class="headerlink" href="#notes-ai-daml-classifier-evaluation" title="Permanent link">&para;</a></h3>
<p><img alt="" src="../notes/AI/assets/DAML8.png" /></p>
<p>形似倒排索引那一课的表格。</p>
<h2 id="notes-ai-daml-lec-6-decision-trees">Lec 6: Decision Trees<a class="headerlink" href="#notes-ai-daml-lec-6-decision-trees" title="Permanent link">&para;</a></h2>
<p>决策树每个节点是一个问题，节点的每个子节点是一个答案，最终叶子节点是一个决策。</p>
<p>Good Decision Tree: Wide and Shallow.</p>
<p>建树方法：Brutal Force &amp; Greedy Algorithm.</p>
<h3 id="notes-ai-daml-recursive-partitioning">Recursive Partitioning<a class="headerlink" href="#notes-ai-daml-recursive-partitioning" title="Permanent link">&para;</a></h3>
<p><img alt="" src="../notes/AI/assets/DAML9.png" /></p>
<p>对于每个predictor variable，选择一个value，然后根据这个value的值将数据分为两部分，然后在purity达到最大时递归。</p>
<p>这个 Split 的过程就可以用 Decision Tree 来表示，分成的几部分就用几个叶子节点表示，最终得到一个可用于 Classification 的 Decision Tree。</p>
<h3 id="notes-ai-daml-purity">Purity<a class="headerlink" href="#notes-ai-daml-purity" title="Permanent link">&para;</a></h3>
<ul>
<li>Misclassification Error Rate: <span class="arithmatex">\(1 - max(p1, p2, ..., pk)\)</span></li>
<li>GINI（基尼系数）: <span class="arithmatex">\(1 - (p1^2 + p2^2 + ... + pk^2)\)</span>（If the partition is fully homogeneous, <span class="arithmatex">\(GINI = 0\)</span>）<ul>
<li>一组父子关系（也就是一次Split）的GINI Index就是所有子节点GINI Index的加权平均。（权重为子节点数据集的大小占比）</li>
<li>叶子节点的GINI Index越小，说明这个叶子节点的数据越纯，如果降为0，说明这个叶子节点的数据完全纯净（全部属于同一类）。</li>
</ul>
</li>
<li>Entropy: <span class="arithmatex">\(-p1log(p1) - p2log(p2) - ... - pklog(pk)\)</span></li>
<li><span class="arithmatex">\(p_k\)</span> 是在每个决策后的数据集（即每个叶子节点）中，随机挑选一个数据，其属于第k类的概率。</li>
</ul>
<div class="admonition example">
<p class="admonition-title">eg</p>
<p><img alt="" src="../notes/AI/assets/DAML10.png" /></p>
</div>
<h3 id="notes-ai-daml-random-forest">Random Forest<a class="headerlink" href="#notes-ai-daml-random-forest" title="Permanent link">&para;</a></h3>
<p>在建森林时的随机性：</p>
<ul>
<li>
<p>Bagging: 从原始数据集中随机抽取一部分数据，然后用这部分数据建立一个决策树。</p>
<ul>
<li>经验上取&#8532;的数据</li>
</ul>
</li>
<li>
<p>Feature: 从所有的特征中随机选取一部分特征，然后用这部分特征建立一个决策树。</p>
<ul>
<li>经验上取<span class="arithmatex">\(\sqrt{p}\)</span>个特征</li>
</ul>
</li>
</ul>
<h3 id="notes-ai-daml-ensemble-learning">Ensemble Learning<a class="headerlink" href="#notes-ai-daml-ensemble-learning" title="Permanent link">&para;</a></h3>
<p>以 error rate 而言，Learner 可以被分为 Strong, Bad, Weak.</p>
<p>Ensemble Learning: 通过组合多个 Weak Learner 来构建一个 Strong Learner。</p>
<div class="admonition example">
<p class="admonition-title">eg</p>
<p>以这个判断垃圾邮件的 Classifier 为例，我们仅有的特征是 <code>Lottery</code>（彩票）和 <code>Sale</code> 这两个词在邮件中出现的次数。我们要对这个 Classifier 建一个决策树。  </p>
<p><img alt="" src="../notes/AI/assets/DAML11.png" /></p>
<p><img alt="" src="../notes/AI/assets/DAML12.png" /></p>
<p>这里<code>value</code>的两个分量就是当前节点对应情况下的 Spam/Ham 个数。</p>
</div>
<h3 id="notes-ai-daml-baggingbootstrap-aggregating">Bagging(Bootstrap Aggregating)<a class="headerlink" href="#notes-ai-daml-baggingbootstrap-aggregating" title="Permanent link">&para;</a></h3>
<p>从原始数据集（Observations）中随机抽取一部分数据，然后用这部分数据建立一个决策树（Weak Learner）。</p>
<p>Weak Learner 通过投票（VOTE）合成 Strong Learner。（从图像上讲，如果某一区域被超过一半的决策树判断为 Spam，那么这个区域就鉴定为 Spam）</p>
<p>这里的 Vote 可以理解为加权投票，即每个决策树的权重不同。</p>
<p><img alt="" src="../notes/AI/assets/DAML13.png" /></p>
<h3 id="notes-ai-daml-boosting-adaboostadaptive-boosting">Boosting (AdaBoost(Adaptive Boosting))<a class="headerlink" href="#notes-ai-daml-boosting-adaboostadaptive-boosting" title="Permanent link">&para;</a></h3>
<p>为每个数据点赋予一个权重，每次建树（即 Weak Learner）时，对于错误鉴定的数据点，增加其权重，在此基础上接着新建 Weak Learner 与决策树。</p>
<p><img alt="" src="../notes/AI/assets/DAML14.png" /></p>
<p>类似 Bagging 的投票，这里需要评判每个 Weak Learner 的权重。</p>
<p>使用 <code>log-odds(accuarcy)</code> 函数，根据 Learner 的准确率评判每个 Weak Learner 的权重：</p>
<ul>
<li><span class="arithmatex">\(log-odds(accuarcy) = log(\frac{accuarcy}{1-accuarcy})\)</span></li>
<li><img alt="" src="../notes/AI/assets/DAML15.png" /></li>
</ul>
<h3 id="notes-ai-daml-sciktlearn-demo">Sciktlearn-demo<a class="headerlink" href="#notes-ai-daml-sciktlearn-demo" title="Permanent link">&para;</a></h3>
<p>概率论基础知识：</p>
<p><img alt="" src="../notes/AI/assets/DAML16.png" /></p>
<p>使用 MNIST 数据集，对数字进行鉴别。</p>
<p>每个数字是一个 28x28 符号组成的图片，共有 784 个 feature，每个特征是一个格子里的符号。</p>
<h2 id="notes-ai-daml-lec-7-recommender-system-user-based-and-item-based">Lec 7: Recommender System: User-based and Item-based<a class="headerlink" href="#notes-ai-daml-lec-7-recommender-system-user-based-and-item-based" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p>Apply Machine Learning: How?</p>
<ul>
<li>第一步是分辨利益相关者（Stakeholder）：Producer, Consumer, Manager</li>
<li>考虑这些利益相关者的价值主张（Value Proposition）</li>
<li>
<p>Use specific method/task</p>
<ul>
<li>Classification ... and so on</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>这一节课就探讨一下 Recommendation 的实际原理。</p>
<div class="admonition example">
<p class="admonition-title">intro</p>
<p>The Long Tail Effect:</p>
<ul>
<li>Small number of best-selling products</li>
<li>Large number of products selling in small quantities</li>
</ul>
</div>
<h3 id="notes-ai-daml-recommendation-method">Recommendation method<a class="headerlink" href="#notes-ai-daml-recommendation-method" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Hand Curated (人工推荐)</p>
<ul>
<li>人工推荐，例如“大家都在看”</li>
<li>实则是没有考虑到当前用户的 Preference</li>
</ul>
</li>
<li>
<p>Simple Aggregation （简易聚合）</p>
<ul>
<li>例如 Amazon 的“Customers who bought this item also bought...”</li>
<li>仅仅是根据购买记录进行推荐</li>
</ul>
</li>
<li>
<p>Personalized</p>
</li>
</ul>
<h3 id="notes-ai-daml-collaborative-filtering">Collaborative Filtering<a class="headerlink" href="#notes-ai-daml-collaborative-filtering" title="Permanent link">&para;</a></h3>
<h4 id="notes-ai-daml-distancesimilarity-metrics">Distance/Similarity Metrics<a class="headerlink" href="#notes-ai-daml-distancesimilarity-metrics" title="Permanent link">&para;</a></h4>
<p><span class="arithmatex">\(sim(u, v) = \frac{1}{1 + d(u, v)}\)</span></p>
<ul>
<li>Euclidean Distance</li>
<li>Manhattan Distance</li>
<li>Pearson Coefficient</li>
<li>Tanimoto Coefficient</li>
<li>Jaccard Distance (Similarity of sets): <span class="arithmatex">\(\frac{A \cap B}{A \cup B}\)</span></li>
</ul>
<h4 id="notes-ai-daml-user-based">User-based<a class="headerlink" href="#notes-ai-daml-user-based" title="Permanent link">&para;</a></h4>
<p>可使用：User Rating Matrix</p>
<ul>
<li>横坐标是 Item，纵坐标是 User</li>
<li>每个格子是 User 对 Item 的评分</li>
</ul>
<p><img alt="" src="../notes/AI/assets/DAML17.png" /></p>
<p>Drawback：Item 必须是 Users 共有的，例如说都看过一部电影，这是很难收集的。</p>
<h4 id="notes-ai-daml-item-based">Item-based<a class="headerlink" href="#notes-ai-daml-item-based" title="Permanent link">&para;</a></h4>
<ul>
<li>横坐标是需要被推荐的 Item，纵坐标是已经被评分的 Item</li>
<li><img alt="" src="../notes/AI/assets/DAML18.png" /></li>
<li>这里紫色背景的数据是这一列列头的电影（属性）和这一行行头的电影（属性）的相似度</li>
</ul>
<h4 id="notes-ai-daml-content-based">Content-based<a class="headerlink" href="#notes-ai-daml-content-based" title="Permanent link">&para;</a></h4>
<p>每个人对电影的不同标签有不同的 Rate，电影本身也在这些标签上有不同的 Rate，相同的标签 Rate 相乘，得到 User 在该标签上的评价（Score），将所有标签的评价加和，得到 User 对电影的评价（实则是一个矩阵乘，见下图）</p>
<p><img alt="" src="../notes/AI/assets/DAML19.png" /></p>
<h4 id="notes-ai-daml-latent-factor-based">Latent Factor Based<a class="headerlink" href="#notes-ai-daml-latent-factor-based" title="Permanent link">&para;</a></h4>
<h2 id="notes-ai-daml-lec-8">Lec 8<a class="headerlink" href="#notes-ai-daml-lec-8" title="Permanent link">&para;</a></h2>
<h3 id="notes-ai-daml-alternating-least-squares">Alternating Least Squares<a class="headerlink" href="#notes-ai-daml-alternating-least-squares" title="Permanent link">&para;</a></h3>
<p>何时停止迭代？有下面三种情况：</p>
<ul>
<li>迭代一段时间后停止</li>
<li>迭代一定次数后停止</li>
<li>计算每次迭代后与实际值的差距，当差距小于某个阈值时（或者误差不再减小了）停止</li>
</ul>
<h2 id="notes-ai-daml-lec-9-optimization-genetic-algorithm">Lec 9: Optimization (Genetic Algorithm)<a class="headerlink" href="#notes-ai-daml-lec-9-optimization-genetic-algorithm" title="Permanent link">&para;</a></h2>
<div class="admonition note">
<p class="admonition-title">Intro: CSP</p>
<p><strong>约束满足问题</strong>：我们被提供：</p>
<ul>
<li>一系列变量</li>
<li>每个变量的取值范围</li>
<li>一系列<strong>约束</strong>限制了这些变量的取值</li>
</ul>
<p>我们需要求得：</p>
<ul>
<li>每个变量合适的取值，使得所有的约束条件都被满足</li>
</ul>
<p>一些变种问题</p>
<ul>
<li>这样的取值（解）是否存在</li>
<li>找到一些解</li>
<li>找到所有解</li>
<li>在某个条件下，找到最优解</li>
</ul>
</div>
<p>与 Constraint Satisfaction Problem 不同，Optimization Problem 还需要进行解的 质量评估（Quality Measure），有时会要求一个评估函数（Evaluation Function）。</p>
<h3 id="notes-ai-daml-_2">真实案例：拍卖车的最佳分配<a class="headerlink" href="#notes-ai-daml-_2" title="Permanent link">&para;</a></h3>
<h2 id="notes-ai-daml-lec-10-summary">Lec 10: Summary<a class="headerlink" href="#notes-ai-daml-lec-10-summary" title="Permanent link">&para;</a></h2>
<h2 id="notes-ai-daml-research-1">Research 1<a class="headerlink" href="#notes-ai-daml-research-1" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#notes-ai-daml-__codelineno-0-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">one_hot_encoding</span><span class="p">(</span><span class="n">nominals</span><span class="p">):</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#notes-ai-daml-__codelineno-0-2"></a><span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#notes-ai-daml-__codelineno-0-3"></a><span class="sd">    Convert a set of nominals to a set of binary variables</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#notes-ai-daml-__codelineno-0-4"></a><span class="sd">    one_hot_encoding([&#39;alpha&#39;,&#39;beta&#39;, &#39;gamma&#39;] -&gt; </span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#notes-ai-daml-__codelineno-0-5"></a><span class="sd">    [[&#39;alpha&#39;, [1, 0, 0]], [&#39;beta&#39;, [0, 1, 0]], [&#39;gamma&#39;, [0, 0, 1]]]</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#notes-ai-daml-__codelineno-0-6"></a><span class="sd">    &#39;&#39;&#39;</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#notes-ai-daml-__codelineno-0-7"></a>    <span class="k">return</span> <span class="p">[[</span><span class="n">word</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span> <span class="k">if</span> <span class="n">nominals</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">word</span><span class="p">)</span><span class="o">==</span><span class="n">i</span> <span class="k">else</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">nominals</span><span class="p">))]]</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">nominals</span><span class="p">]</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#notes-ai-daml-__codelineno-0-8"></a>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#notes-ai-daml-__codelineno-0-9"></a><span class="n">one_hot_encoding</span><span class="p">([</span><span class="s1">&#39;alpha&#39;</span><span class="p">,</span><span class="s1">&#39;beta&#39;</span><span class="p">,</span> <span class="s1">&#39;gamma&#39;</span><span class="p">])</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#notes-ai-daml-__codelineno-0-10"></a><span class="c1"># &gt;&gt;&gt; [[&#39;alpha&#39;, [1, 0, 0]], [&#39;beta&#39;, [0, 1, 0]], [&#39;gamma&#39;, [0, 0, 1]]]</span>
</code></pre></div>
<p>混淆矩阵（Confusion Matrix）：</p>
<ul>
<li>True Positive（TP）：真正类。样本的真实类别是正类，并且模型识别的结果也是正类。</li>
<li>False Negative（FN）：假负类。样本的真实类别是正类，但是模型将其识别为负类。</li>
<li>False Positive（FP）：假正类。样本的真实类别是负类，但是模型将其识别为正类。</li>
<li>True Negative（TN）：真负类。样本的真实类别是负类，并且模型将其识别为负类。 </li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#notes-ai-daml-__codelineno-1-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">confusion_matrix</span><span class="p">(</span> <span class="n">actual</span><span class="p">,</span> <span class="n">predicted</span><span class="p">):</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#notes-ai-daml-__codelineno-1-2"></a><span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#notes-ai-daml-__codelineno-1-3"></a><span class="sd">    Given the actual values and predicted values generate a confusion matrix</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#notes-ai-daml-__codelineno-1-4"></a><span class="sd">               Actual</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#notes-ai-daml-__codelineno-1-5"></a><span class="sd">   Predicted   TN  FP</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#notes-ai-daml-__codelineno-1-6"></a><span class="sd">               FN  TP</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#notes-ai-daml-__codelineno-1-7"></a>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#notes-ai-daml-__codelineno-1-8"></a><span class="sd">        [[ TN  FP] [ FN  TP]]    </span>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#notes-ai-daml-__codelineno-1-9"></a><span class="sd">    &#39;&#39;&#39;</span>
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#notes-ai-daml-__codelineno-1-10"></a>    <span class="n">TN</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#notes-ai-daml-__codelineno-1-11"></a>    <span class="n">FN</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#notes-ai-daml-__codelineno-1-12"></a>    <span class="n">TP</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#notes-ai-daml-__codelineno-1-13"></a>    <span class="n">FP</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-1-14" name="__codelineno-1-14" href="#notes-ai-daml-__codelineno-1-14"></a>    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">actual</span><span class="p">)</span><span class="o">==</span><span class="nb">len</span><span class="p">(</span><span class="n">predicted</span><span class="p">)</span>
<a id="__codelineno-1-15" name="__codelineno-1-15" href="#notes-ai-daml-__codelineno-1-15"></a>    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">actual</span><span class="p">)):</span>
<a id="__codelineno-1-16" name="__codelineno-1-16" href="#notes-ai-daml-__codelineno-1-16"></a>        <span class="k">if</span> <span class="n">actual</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span> <span class="ow">and</span> <span class="n">predicted</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
<a id="__codelineno-1-17" name="__codelineno-1-17" href="#notes-ai-daml-__codelineno-1-17"></a>            <span class="n">TP</span><span class="o">+=</span><span class="mi">1</span>
<a id="__codelineno-1-18" name="__codelineno-1-18" href="#notes-ai-daml-__codelineno-1-18"></a>        <span class="k">elif</span> <span class="n">actual</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span> <span class="ow">and</span> <span class="n">predicted</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-1-19" name="__codelineno-1-19" href="#notes-ai-daml-__codelineno-1-19"></a>            <span class="n">FN</span><span class="o">+=</span><span class="mi">1</span>
<a id="__codelineno-1-20" name="__codelineno-1-20" href="#notes-ai-daml-__codelineno-1-20"></a>        <span class="k">elif</span> <span class="n">actual</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span> <span class="ow">and</span> <span class="n">predicted</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-1-21" name="__codelineno-1-21" href="#notes-ai-daml-__codelineno-1-21"></a>            <span class="n">TN</span><span class="o">+=</span><span class="mi">1</span>
<a id="__codelineno-1-22" name="__codelineno-1-22" href="#notes-ai-daml-__codelineno-1-22"></a>        <span class="k">elif</span> <span class="n">actual</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span> <span class="ow">and</span> <span class="n">predicted</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
<a id="__codelineno-1-23" name="__codelineno-1-23" href="#notes-ai-daml-__codelineno-1-23"></a>            <span class="n">FP</span><span class="o">+=</span><span class="mi">1</span>
<a id="__codelineno-1-24" name="__codelineno-1-24" href="#notes-ai-daml-__codelineno-1-24"></a>    <span class="k">return</span> <span class="p">[[</span><span class="n">TN</span><span class="p">,</span> <span class="n">FP</span><span class="p">],</span> <span class="p">[</span><span class="n">FN</span><span class="p">,</span> <span class="n">TP</span><span class="p">]]</span>
</code></pre></div></section><section class="print-page" id="notes-ai-ail" heading-number="4.2.3"><nav class='md-tags'><span class='md-tag'>大二下笔记</span></nav><h1 id="_1">人工智能逻辑<a class="headerlink" href="#notes-ai-ail-_1" title="Permanent link">&para;</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 4879 个字 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 17H7V3h14m0-2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2M3 5H1v16a2 2 0 0 0 2 2h16v-2H3m12.96-10.71-2.75 3.54-1.96-2.36L8.5 15h11z"/></svg></span> 12 张图片 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 14 分钟</p>
</div>
<blockquote>
<p>任课教师：廖备水</p>
</blockquote>
<div class="admonition note">
<p class="admonition-title">Reference</p>
<p>我抄了很多：<a href="https://tekhnec.github.io/categories/">https://tekhnec.github.io/categories/</a></p>
</div>
<details class="note">
<summary>课后作业</summary>
<ul>
<li><a href="../notes/AI/assets/3230105892_%E9%AB%98%E7%8E%AE%E8%BD%A9_%E7%AC%AC%E4%B8%80%E6%AC%A1%E8%AF%BE%E5%90%8E%E7%BB%83%E4%B9%A0.pdf">HW1</a></li>
<li><a href="../notes/AI/assets/3230105892_%E9%AB%98%E7%8E%AE%E8%BD%A9_%E7%AC%AC%E4%BA%8C%E6%AC%A1%E8%AF%BE%E5%90%8E%E7%BB%83%E4%B9%A0.pdf">HW2</a></li>
<li><a href="../notes/AI/assets/3230105892_%E9%AB%98%E7%8E%AE%E8%BD%A9_%E7%AC%AC%E4%B8%89%E6%AC%A1%E8%AF%BE%E5%90%8E%E7%BB%83%E4%B9%A0.pdf">HW3</a></li>
<li><a href="../notes/AI/assets/3230105892_%E9%AB%98%E7%8E%AE%E8%BD%A9_%E7%AC%AC%E5%9B%9B%E6%AC%A1%E8%AF%BE%E5%90%8E%E7%BB%83%E4%B9%A0.pdf">HW4</a></li>
<li><a href="../notes/AI/assets/3230105892_%E9%AB%98%E7%8E%AE%E8%BD%A9_%E7%AC%AC%E4%BA%94%E6%AC%A1%E8%AF%BE%E5%90%8E%E7%BB%83%E4%B9%A0.pdf">HW5</a></li>
<li><a href="../notes/AI/assets/3230105892_%E9%AB%98%E7%8E%AE%E8%BD%A9_%E7%AC%AC%E5%85%AD%E6%AC%A1%E8%AF%BE%E5%90%8E%E7%BB%83%E4%B9%A0.pdf">HW6</a></li>
<li><a href="../notes/AI/assets/3230105892_%E9%AB%98%E7%8E%AE%E8%BD%A9_%E7%AC%AC%E4%B8%83%E6%AC%A1%E8%AF%BE%E5%90%8E%E7%BB%83%E4%B9%A0.pdf">HW7</a></li>
<li><a href="../notes/AI/assets/3230105892_%E9%AB%98%E7%8E%AE%E8%BD%A9_%E7%AC%AC%E5%85%AB%E6%AC%A1%E8%AF%BE%E5%90%8E%E7%BB%83%E4%B9%A0.pdf">HW8</a></li>
<li><a href="../notes/AI/assets/3230105892_%E9%AB%98%E7%8E%AE%E8%BD%A9_%E7%AC%AC%E4%B9%9D%E6%AC%A1%E8%AF%BE%E5%90%8E%E7%BB%83%E4%B9%A0.pdf">HW9</a></li>
<li><a href="../notes/AI/assets/3230105892_%E9%AB%98%E7%8E%AE%E8%BD%A9_%E7%AC%AC%E5%8D%81%E6%AC%A1%E8%AF%BE%E5%90%8E%E7%BB%83%E4%B9%A0.pdf">HW10</a></li>
<li><a href="../notes/AI/assets/3230105892_%E9%AB%98%E7%8E%AE%E8%BD%A9_%E7%AC%AC%E5%8D%81%E4%B8%80%E6%AC%A1%E8%AF%BE%E5%90%8E%E7%BB%83%E4%B9%A0.pdf">HW11</a></li>
<li><a href="../notes/AI/assets/3230105892_%E9%AB%98%E7%8E%AE%E8%BD%A9_%E7%AC%AC%E5%8D%81%E4%BA%8C%E6%AC%A1%E8%AF%BE%E5%90%8E%E7%BB%83%E4%B9%A0.pdf">HW12</a></li>
<li><a href="../notes/AI/assets/3230105892_%E9%AB%98%E7%8E%AE%E8%BD%A9_%E7%AC%AC13%E6%AC%A1%E8%AF%BE%E5%90%8E%E7%BB%83%E4%B9%A0.pdf">HW13</a></li>
</ul>
</details>
<blockquote>
<p>这些文字，我看不懂</p>
</blockquote>
<h2 id="notes-ai-ail-lec1-introduction">Lec1: Introduction<a class="headerlink" href="#notes-ai-ail-lec1-introduction" title="Permanent link">&para;</a></h2>
<h3 id="notes-ai-ail-_2">推理形式<a class="headerlink" href="#notes-ai-ail-_2" title="Permanent link">&para;</a></h3>
<ol>
<li>演绎推理<ul>
<li>“保真”：若前提为真，则结论必为真<ul>
<li>这也是其有效性的描述：演绎论证是<strong>有效的</strong>当且仅当它是保真的</li>
<li>
<div class="admonition definition">
<p class="admonition-title">论证形式</p>
豆子&amp;袋子的例子可看作演绎推理的一个实例<br />
<strong>演绎论证的形式</strong>即用字母表示。<br />
一个论证形式是有效的当且仅当对该论证形式中的变项所做的任一解释都满足保真性。</div>
</li>
</ul>
</li>
<li>从一般原理到特殊情况（类似集合中不断取子集）</li>
</ul>
</li>
<li>非单调推理<ul>
<li>对于任何命题，若依据某个知识库中的知识均可以明确判断其真假时，知识库中知识是<strong>完备的</strong></li>
<li>在上面的演绎推理中，每条命题都蕴含着知识，如果其知识不完备或不确定，则无法直接套用，得到正确结论。<ul>
<li><strong>不确定性</strong>：缺少准确的知识得到完全可靠的结论</li>
<li><strong>不完备性</strong>：缺失部分信息</li>
</ul>
</li>
<li>为了解决这种问题，可以在演绎推理中添加<strong>正常性假设</strong>（基于假设的演绎推理）<ul>
<li>鸟会飞，除非证明它不正常</li>
<li>Tweety是鸟（可以被“证明Tweety不正常”推翻）</li>
<li>所以Tweety会飞</li>
</ul>
</li>
<li>假设会被新信息推翻，从而结论也会被推翻</li>
<li>称这种结论可被推翻的推理为<strong>非单调推理</strong></li>
<li>可以把包含例外的知识表示为<strong>可废止规则</strong>，可看作“常识”，可能有例外。<ul>
<li><strong>一般情况下</strong>，如果A则B（B可被反面证据推翻）</li>
</ul>
</li>
</ul>
</li>
<li>归纳推理<ul>
<li>从特定事例观察推断出一般规律</li>
<li>用归纳强度刻画归纳论证的好坏</li>
</ul>
</li>
<li>溯因推理<ul>
<li>观察现象寻找合理解释</li>
</ul>
</li>
<li>关于论证的推理<ul>
<li>论辩图怎么画</li>
</ul>
</li>
</ol>
<h3 id="notes-ai-ail-ail">AIL的主要研究方向<a class="headerlink" href="#notes-ai-ail-ail" title="Permanent link">&para;</a></h3>
<p>what is this</p>
<h2 id="notes-ai-ail-lec2">Lec2: 知识的表示与推理<a class="headerlink" href="#notes-ai-ail-lec2" title="Permanent link">&para;</a></h2>
<h3 id="notes-ai-ail-_3">知识表示语言<a class="headerlink" href="#notes-ai-ail-_3" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>表示</strong>：用一个集合的元素来表示一个集合的元素<ul>
<li>一种表示知识的语言由<strong>初始符号列表</strong>和<strong>语法规则</strong>组成</li>
</ul>
</li>
<li>公式表示：<span class="arithmatex">\(\{\neg, \land, \lor, (, )\}\)</span></li>
<li>有向图表示：<span class="arithmatex">\(G = \{V, E\}\)</span></li>
</ul>
<p>用特定符号语言描述的公式或结构，由我们对公式/结构中的元素所做的不同解释，可表示现实世界中的不同知识。</p>
<h3 id="notes-ai-ail-_4">推理<a class="headerlink" href="#notes-ai-ail-_4" title="Permanent link">&para;</a></h3>
<ul>
<li>符号级推理：形式上的计算<ul>
<li>一阶逻辑中最基本的规则是<strong>肯定前件式</strong>（MP规则）：<span class="arithmatex">\(a \rightarrow b, a \vdash b\)</span>，<span class="arithmatex">\(\vdash\)</span> 表示<strong>形式可推演关系</strong>。</li>
</ul>
</li>
<li>知识级推理：推理的前提与结论在语义上的映射关系<ul>
<li>在经典演绎推理中表现为<strong>语义蕴涵关系</strong>：若 <span class="arithmatex">\(a \models b\)</span>，则当前提 <span class="arithmatex">\(a\)</span> 为真，结论 <span class="arithmatex">\(b\)</span> 为真</li>
<li>在论证推理中，不一定是语义蕴含，需要建立的是从论证图到可接受的论证集合的映射关系</li>
</ul>
</li>
</ul>
<h3 id="notes-ai-ail-_5">推理系统的特性<a class="headerlink" href="#notes-ai-ail-_5" title="Permanent link">&para;</a></h3>
<ul>
<li>系统内特性：一个逻辑系统内部各个成分具有的特定性质，如演绎系统中，包括有效的语义蕴涵模式、正确的推理形式等。</li>
<li>系统元特性：<ul>
<li>完备性：给定前提集合 <span class="arithmatex">\(\Gamma\)</span>，若其语义蕴含（<span class="arithmatex">\(\models\)</span>）公式 <span class="arithmatex">\(A\)</span>，那么从形式上可以从 <span class="arithmatex">\(\Gamma\)</span> 推出 <span class="arithmatex">\(A\)</span>（<span class="arithmatex">\(\vdash\)</span>）。</li>
<li>可靠性：给定前提集合 <span class="arithmatex">\(\Gamma\)</span>，若其可从形式推出（<span class="arithmatex">\(\vdash\)</span>）公式 <span class="arithmatex">\(A\)</span>，那么其语义蕴含（<span class="arithmatex">\(\models\)</span>）公式 <span class="arithmatex">\(A\)</span>。</li>
</ul>
</li>
</ul>
<h2 id="notes-ai-ail-lec3">Lec3: 命题逻辑<a class="headerlink" href="#notes-ai-ail-lec3" title="Permanent link">&para;</a></h2>
<div class="admonition defination">
<p class="admonition-title">命题公式</p>
<ol>
<li>命题符号（就是用个字母表示的命题）是公式（原子公式）。</li>
<li>若 <span class="arithmatex">\(A\)</span> 是公式，则 <span class="arithmatex">\(\neg A, (A \land B), (A \lor B), (A \rightarrow B), (A \leftrightarrow B)\)</span> 也是公式。</li>
<li>有限次使用 1 和 2 的规则，得到的都是公式。</li>
</ol>
</div>
<p>联结词：<span class="arithmatex">\(\neg, \land, \lor, \rightarrow, \leftrightarrow\)</span></p>
<p>真假赋值：对命题符号赋予真假值（即一个函数，定义域是命题符号集合，值域是 <span class="arithmatex">\(\{0, 1\}\)</span>（感觉就是命题的真假））</p>
<p><img alt="真假" src="../notes/AI/assets/ail1.png" /></p>
<div class="admonition defination">
<p class="admonition-title">逻辑推论</p>
<p>给定一组命题公式集合 <span class="arithmatex">\(\Phi\)</span> 和一个命题公式 <span class="arithmatex">\(\phi\)</span>，则 <span class="arithmatex">\(\phi\)</span> 是 <span class="arithmatex">\(\Phi\)</span> 的逻辑推论，当且仅当 <span class="arithmatex">\(\forall v, \Phi^v = 1 \Rightarrow \phi^v = 1\)</span>，记作 <span class="arithmatex">\(\Phi \models \phi\)</span>。</p>
<p>类似蕴涵式，如果 <span class="arithmatex">\(\Phi^v = 0\)</span>，则 <span class="arithmatex">\(\phi^v\)</span>的取值无所谓</p>
<p><span class="arithmatex">\(\Phi\)</span> 是空集合时，<span class="arithmatex">\(\models \phi\)</span> 当且仅当 <span class="arithmatex">\(\phi\)</span> 是永真式。（此时也称 <span class="arithmatex">\(\phi\)</span> 具有有效性）</p>
</div>
<details class="note">
<summary>推论</summary>
<ul>
<li><span class="arithmatex">\(ϕ\)</span> 是可满足的 当且仅当 <span class="arithmatex">\(¬ϕ\)</span> 不是有效的；</li>
<li><span class="arithmatex">\(ϕ\)</span> 是有效的 当且仅当 <span class="arithmatex">\(¬ϕ\)</span> 不是可满足的。<ul>
<li>这两个很显然，可以构想一个真值表</li>
</ul>
</li>
<li>即可以通过检验一个公式的可满足性来判断这个公式的有效性。</li>
</ul>
</details>
<h3 id="notes-ai-ail-_6">逻辑推论<a class="headerlink" href="#notes-ai-ail-_6" title="Permanent link">&para;</a></h3>
<p>若 <span class="arithmatex">\(\Phi \models \phi\)</span> 且 <span class="arithmatex">\(\phi \models \Phi\)</span>，则称 <span class="arithmatex">\(\Phi\)</span> 和 <span class="arithmatex">\(\phi\)</span> 是等价的，记作 <span class="arithmatex">\(\Phi \equiv(|=|) \phi\)</span>。</p>
<div class="admonition note">
<p class="admonition-title">常见的语义等价</p>
<ul>
<li><span class="arithmatex">\(p \leftrightarrow q \equiv (p \rightarrow q) \land (q \rightarrow p)\)</span></li>
<li><span class="arithmatex">\(p \rightarrow q \equiv \neg p \lor q\)</span></li>
<li>德摩根定律：<span class="arithmatex">\(\neg (p \land q) \equiv \neg p \lor \neg q\)</span>，<span class="arithmatex">\(\neg (p \lor q) \equiv \neg p \land \neg q\)</span></li>
</ul>
</div>
<div class="admonition note">
<p class="admonition-title">定理</p>
<p>给定 <span class="arithmatex">\(\phi \equiv \psi\)</span>，则 <span class="arithmatex">\(\phi\)</span> 是 <span class="arithmatex">\(\varphi\)</span> 的一部分。把 <span class="arithmatex">\(\varphi\)</span> 中的 <span class="arithmatex">\(\phi\)</span> 替换为 <span class="arithmatex">\(\psi\)</span> 得到 <span class="arithmatex">\(\varphi'\)</span>，则 <span class="arithmatex">\(\varphi \equiv \varphi'\)</span></p>
</div>
<ul>
<li>范式：见离散笔记<ul>
<li>合取取交，析取取并</li>
<li>注意范式的每个子式只包含<strong>原子命题（的否定）的析取/合取</strong>，例如 <span class="arithmatex">\(\neg (\neg p)\)</span> 什么都不是</li>
</ul>
</li>
</ul>
<h3 id="notes-ai-ail-_7">消解推演系统<a class="headerlink" href="#notes-ai-ail-_7" title="Permanent link">&para;</a></h3>
<p>通过形式推演（之前的推理过程）</p>
<p><img alt="消解" src="../notes/AI/assets/ail2.png" /></p>
<p>合取起来的子式记为集合的元素（放在大括号里），析取的子式放在中括号里。</p>
<p><span class="arithmatex">\([p, q]\)</span> 与 <span class="arithmatex">\([\neg p, r]\)</span> 消解得到 <span class="arithmatex">\([q, r]\)</span>，类比即 <span class="arithmatex">\(p \lor \neg p \equiv 1\)</span></p>
<div class="admonition example">
<p class="admonition-title">消解推演系统</p>
<p><img alt="例题" src="../notes/AI/assets/ail3.png" /></p>
</div>
<p>消解推演系统是可靠的，但不完备。消解可看作取交</p>
<details class="note">
<summary>proof</summary>
<p><img alt="证明" src="../notes/AI/assets/ail4.png" /></p>
</details>
<div class="admonition definition">
<p class="admonition-title">霍恩子句</p>
<p>对于消解系统而言，对于公式的的一些子类，对其可满足性的判断又更加有效的方法。</p>
<p>霍恩子句：子句 <span class="arithmatex">\(L_1 \land L_2 \land \cdots \land L_n\)</span> 中如果至多包含一个正文字，那么这个子句就是霍恩子句。</p>
<ul>
<li>四种形式：<ul>
<li><span class="arithmatex">\(p \leftarrow q_1, q_2, \cdots, q_n (n \neq 0)\)</span></li>
<li><span class="arithmatex">\(p \leftarrow (n = 0)\)</span></li>
<li><span class="arithmatex">\(\leftarrow q_1, q_2, \cdots, q_n (n \neq 0)\)</span></li>
<li><span class="arithmatex">\([空]\)</span></li>
</ul>
</li>
</ul>
</div>
<h3 id="notes-ai-ail-sat">SAT<a class="headerlink" href="#notes-ai-ail-sat" title="Permanent link">&para;</a></h3>
<p>实现可满足性的推理引擎称为 SAT（Satisfiability）求解器：在给定一个公式的前提下，寻找一个真值赋值，使得公式为真。（即寻找真值表中某一行，使目标公式为真）</p>
<p>该算法是 NP 完全的</p>
<div class="admonition note">
<p class="admonition-title">经典算法：DPLL</p>
<p><img alt="DPLL" src="../notes/AI/assets/ail5.png" /></p>
</div>
<div class="admonition example">
<p class="admonition-title">例</p>
<p>设 <span class="arithmatex">\(\Phi = \{[p,q, \neg r], [\neg p, \neg q], [r], [p, \neg q]\}, \Sigma = {p,q,r}\)</span>。SAT 算法的执行过程：</p>
<ul>
<li>单位传播规则：令 <span class="arithmatex">\(r \rightarrow 1\)</span>，得到简化的字句集合 <span class="arithmatex">\(\{[p,q], [\neg p, \neg q], [p, \neg q]\}\)</span></li>
<li>分裂规则<ul>
<li><span class="arithmatex">\(p \rightarrow 0\)</span>，得到简化：<span class="arithmatex">\(\{[q], [\neg q]\}\)</span>，令 <span class="arithmatex">\(q \rightarrow 1\)</span> 得到空子句，公式不成立，回溯</li>
<li><span class="arithmatex">\(p \rightarrow 1\)</span>，得到简化：<span class="arithmatex">\(\{[\neg q]\}\)</span>，令 <span class="arithmatex">\(\neg q \rightarrow 0\)</span>，即可满足</li>
</ul>
</li>
</ul>
</div>
<h2 id="notes-ai-ail-lec-4">Lec 4: 一阶逻辑<a class="headerlink" href="#notes-ai-ail-lec-4" title="Permanent link">&para;</a></h2>
<p>不同于 Lec 3 中的公式，为了描述更日常的命题，需要引入对象、论域、函词、谓词、量词等概念。个体常元和个体变元统称项。例如，“张三的哥哥是学生”可以表示为 <span class="arithmatex">\(F(g(ZS))\)</span>，其中 <span class="arithmatex">\(F\)</span> 表示“...是学生”，<span class="arithmatex">\(g\)</span> 表示“是...的哥哥”。</p>
<div class="admonition note">
<p class="admonition-title">Definitions</p>
<ul>
<li>论域：所有被讨论对象的集合。</li>
<li>个体：域中的元素，即被讨论的对象。</li>
<li>常元：用于表示确定对象的符号。</li>
<li>变元：用于表示给定论域上的任意一个对象的符号。</li>
<li>函词：给定一个论域，从一组个体到一个个体的映射关系。</li>
<li>项：<ol>
<li>个体常元和个体变元是项。</li>
<li>如果 <span class="arithmatex">\(t_1, t_2, ... t_n\)</span>是项，<span class="arithmatex">\(f\)</span> 是 n 元函词，那么 <span class="arithmatex">\(f(t1, t2, \cdots, t_n)\)</span> 是项。</li>
<li>有限次使用(1)(2)生成的是项。</li>
</ol>
</li>
<li>谓词：描述个体之间的关系。谓词包含着可放置讨论对象的位置，即 空位。 空位的数量称为谓词的元数。用一元谓词表示的关系称为个体的性质。</li>
</ul>
</div>
<h3 id="notes-ai-ail-_8">一阶语言<a class="headerlink" href="#notes-ai-ail-_8" title="Permanent link">&para;</a></h3>
<ul>
<li><span class="arithmatex">\(F(t_1, t_2, \cdots, t_n)\)</span> 是原子公式，其中 <span class="arithmatex">\(F\)</span> 是 n 元关系符号，<span class="arithmatex">\(t_1, t_2, \cdots, t_n\)</span> 是项。</li>
<li>如果 <span class="arithmatex">\(t_1,t_2\)</span> 是项，那么 <span class="arithmatex">\((t_1 \equiv t_2)\)</span> 是原子公式。</li>
<li>如果 <span class="arithmatex">\(\phi\)</span> 和 <span class="arithmatex">\(\Phi\)</span> 是公式，且 <span class="arithmatex">\(x\)</span> 是出现于 <span class="arithmatex">\(\phi\)</span> 中的自由变元，则 <span class="arithmatex">\((\neg \phi), (\phi \land \Phi), (\phi \lor \Phi), (\phi \rightarrow \Phi), (\forall x \phi), (\exists x \phi)\)</span> 都是公式。</li>
<li>有限次使用上述三条规则生成的都是公式。</li>
</ul>
<div class="admonition definition">
<p class="admonition-title">代换</p>
<p>代换 <span class="arithmatex">\(\theta\)</span> 是一个有限的对子集合 <span class="arithmatex">\(\{x_1/t_1, x_2/t_2, \cdots, x_n/t_n\}\)</span>，其中 <span class="arithmatex">\(x_i\)</span> 是变元，<span class="arithmatex">\(t_i\)</span> 是项。代换 <span class="arithmatex">\(\theta\)</span> 作用于公式 <span class="arithmatex">\(\phi\)</span>，得到 <span class="arithmatex">\(\phi\theta\)</span>，是将 <span class="arithmatex">\(\phi\)</span> 中的所有自由变元 <span class="arithmatex">\(x_i\)</span> 替换为 <span class="arithmatex">\(t_i\)</span> 得到的公式。</p>
</div>
<div class="admonition note">
<p class="admonition-title">第六周课上例题</p>
<ul>
<li>将下列命题转化为一阶语言</li>
<li>这朵牡丹是红的<ul>
<li>论域：全体牡丹，个体 c：这朵牡丹 <span class="arithmatex">\(Mudan(c) \land Red(c)\)</span></li>
</ul>
</li>
<li>张先生和李女士的丈夫是同事<ul>
<li><span class="arithmatex">\(Colleague(张, Husband(李))\)</span></li>
</ul>
</li>
<li>任何安全事故都有其原因<ul>
<li>论域：全体安全事故，<span class="arithmatex">\(Accident^v \subseteq D\)</span>, <span class="arithmatex">\(Reason^v \subseteq D \times D\)</span>, <span class="arithmatex">\(\forall x (Accident(x) \rightarrow \exists y Reason(y, x))\)</span></li>
</ul>
</li>
<li>任何安全事故都有共同原因<ul>
<li><span class="arithmatex">\(\exists y \forall x (Accident(x) \rightarrow Reason(y, x))\)</span></li>
</ul>
</li>
<li>一个人如果有私心，总难免把有些工作弄糟</li>
<li>尽管有人自私，但未必所有人都自私</li>
</ul>
</div>
<h3 id="notes-ai-ail-_9">语义<a class="headerlink" href="#notes-ai-ail-_9" title="Permanent link">&para;</a></h3>
<h4 id="notes-ai-ail-_10">消解原理<a class="headerlink" href="#notes-ai-ail-_10" title="Permanent link">&para;</a></h4>
<div class="admonition definition">
<p class="admonition-title">前束范式</p>
<p>称一阶逻辑公式 <span class="arithmatex">\(ϕ\)</span> 为前束范式，当且仅当它有如下的形式：</p>
<p><span class="arithmatex">\(Q_1 x_1 Q_2 x_2 \cdots Q_n x_n ϕ′\)</span></p>
<p>其中, <span class="arithmatex">\(Q_1 ⋯ Q_n\)</span> 是量词 <span class="arithmatex">\(∀\)</span> 或 <span class="arithmatex">\(∃\)</span>；<span class="arithmatex">\(x_1, ⋯ x_n\)</span> 是变元；<span class="arithmatex">\(ϕ′\)</span> 是不含量词的公式。称 <span class="arithmatex">\(Q_1 x_1 ⋯ Q_n x_n\)</span> 为前束词，<span class="arithmatex">\(ϕ′\)</span> 为母式。前束范式的母式可以进一步变换为合取范式或析取范式。</p>
<p>有关如何把一阶逻辑公式转化为前束范式，可见：<a href="https://hanshuliang.blog.csdn.net/article/details/108848579">https://hanshuliang.blog.csdn.net/article/details/108848579</a></p>
</div>
<p>类似命题逻辑，要把公式转化为等价的子句形式。</p>
<p>对包含自由变元的子句进行消解时，如果子句都是<strong>全称量化</strong>的，则可以去掉量词（e.g. <span class="arithmatex">\(\forall x \forall y (F(x) \rightarrow H(x,y))\)</span> 可简化为 <span class="arithmatex">\(F(x) \rightarrow H(x,y)\)</span>）。</p>
<div class="admonition note">
<p class="admonition-title">推演规则</p>
<p>给定两个字句 <span class="arithmatex">\(c_1 \lor \{L_1\}\)</span> 和 <span class="arithmatex">\(c_2 \lor \{\overline{L_2}\}\)</span>，如果它们没有公共变元，且存在一个代换 <span class="arithmatex">\(\theta\)</span> 使得 <span class="arithmatex">\(L_1 \theta = L_2 \theta\)</span>,那么可以推出子句 <span class="arithmatex">\((c_1 \lor c_2) \theta\)</span>，<span class="arithmatex">\(\theta\)</span> 是 <span class="arithmatex">\(L_1\)</span> 和 <span class="arithmatex">\(L_2\)</span> 的合一。</p>
</div>
<p>对于包含<strong>存在量词</strong>的公式，可把该存在量词所管辖的变元变成确定的个体，表示该确定个体的项被称为斯科伦常元；表示受限制的该确定个体的函词被称为斯科伦函词。（就是把 <span class="arithmatex">\(exists xF(x)\)</span> 变成 <span class="arithmatex">\(F(a)\)</span>，<span class="arithmatex">\(a\)</span> 就是满足原公式的常元）</p>
<h2 id="notes-ai-ail-lec-5">Lec 5: 知识图谱与描述逻辑<a class="headerlink" href="#notes-ai-ail-lec-5" title="Permanent link">&para;</a></h2>
<p>知识一般有一定的结构，利用三元组 prop{ind, Prop, Val} 来表示知识，分别是主动宾</p>
<p>可以把这种知识表示为一个有向图，其中对顶点 ind 到 Prop 的有向边标记为 Val，形成的图叫做语义网络。</p>
<div class="admonition example">
<p class="admonition-title">知识图谱</p>
<p><img alt="知识图谱" src="../notes/AI/assets/ail6.png" /></p>
</div>
<p>描述逻辑中，区分 TBox（术语框）和 ABox（断言框），前者描述概念层次的语句，后者描述实例层次的语句。</p>
<h3 id="notes-ai-ail-_11">角色限制<a class="headerlink" href="#notes-ai-ail-_11" title="Permanent link">&para;</a></h3>
<p>到现在为止，我们已经看到了如何分别使用 TBox 和 RBox 公理来表达概念和角色之间的关系。然而，描述逻辑最有趣的特点是能够形成将概念和角色联系在一起的语句。例如，概念 Parent 和角色 parentOf 之间存在明显的关系，即父母是至少一个人的父母。在描述逻辑中，这种关系可以通过如下概念等价来表达：<span class="arithmatex">\(Parent ≡ ∃parentOf.⊤\)</span></p>
<p>其中，存在限制 <span class="arithmatex">\(∃parentOf.⊤\)</span> 是一个复杂概念，它描述了这样的个体集合：其中的每个个体都是至少一位个体（⊤ 的实例）的父母。类似地，<span class="arithmatex">\(∃parentOf.Female\)</span> 这个概念描述了那些至少有一个女性的父母，即那些有女儿的人。</p>
<p>为了表达所有孩子都是女性的个体的集合，可以使用全称限制：<span class="arithmatex">\(∀parentOf.Female\)</span></p>
<h3 id="notes-ai-ail-alc">ALC 语法<a class="headerlink" href="#notes-ai-ail-alc" title="Permanent link">&para;</a></h3>
<p>三元组 <span class="arithmatex">\(\{N_C, N_R, N_I\}\)</span>，其中 <span class="arithmatex">\(N_C\)</span> 是概念符号集合，<span class="arithmatex">\(N_R\)</span> 是角色符号集合，<span class="arithmatex">\(N_I\)</span> 是个体名集合。</p>
<div class="admonition example">
<p class="admonition-title">ALC</p>
<p>在描述逻辑 ALC 中，有两个概念 Male, Female，一个角色 hasChild，那么</p>
<ul>
<li>Person = Male or Female</li>
<li>Mother = exists hasChild.T and Female</li>
<li>Childless = not hasChild.T</li>
<li>Grandmother = Female and exists hasChild.(exists hasChild.T)</li>
</ul>
<p><img alt="ALC例题" src="../notes/AI/assets/ail8.png" /></p>
</div>
<p>表算法：</p>
<p><img alt="表算法" src="../notes/AI/assets/ail7.png" /></p>
<h2 id="notes-ai-ail-lec-6">Lec 6: 缺省逻辑<a class="headerlink" href="#notes-ai-ail-lec-6" title="Permanent link">&para;</a></h2>
<p><strong>通常情况</strong>下，如果 <span class="arithmatex">\(\phi\)</span> 为真，那么 <span class="arithmatex">\(\psi\)</span> 为真；这里的“通常情况”说明这一规则并非在任何情况下都成立，于是引入缺省规则表示例外的情况。</p>
<h3 id="notes-ai-ail-_12">缺省规则<a class="headerlink" href="#notes-ai-ail-_12" title="Permanent link">&para;</a></h3>
<p><span class="arithmatex">\(\frac{\phi : \psi}{\eta}\)</span>，其中 <span class="arithmatex">\(\psi\)</span> 称为缺省条件，<span class="arithmatex">\(\eta\)</span> 称为缺省结论。</p>
<p>解释为：</p>
<ul>
<li>如果可以证明 <span class="arithmatex">\(\phi\)</span>，且 <span class="arithmatex">\(\psi\)</span> 是一致的，那么可以推出 <span class="arithmatex">\(\eta\)</span>。</li>
<li>如果可以证明 <span class="arithmatex">\(\phi\)</span>，且不能证明 <span class="arithmatex">\(\neg \psi\)</span>，那么可以推出 <span class="arithmatex">\(\eta\)</span>。</li>
<li>如果可以证明 <span class="arithmatex">\(\phi\)</span>，且例外 <span class="arithmatex">\(\neg \psi\)</span> 并未发生，那么可以推出 <span class="arithmatex">\(\eta\)</span>。</li>
</ul>
<div class="admonition definition">
<p class="admonition-title">缺省理论</p>
<p>一个缺省理论是一个二元组 <span class="arithmatex">\(T = {W, D}\)</span>，其中 <span class="arithmatex">\(W\)</span> 是一阶逻辑公式集合，用于表示已知的或约定的事实；<span class="arithmatex">\(D\)</span> 是可数的缺省规则集合，用于表示缺省的知识。</p>
</div>
<h3 id="notes-ai-ail-_13">缺省逻辑的语义<a class="headerlink" href="#notes-ai-ail-_13" title="Permanent link">&para;</a></h3>
<p>TBD</p>
<h2 id="notes-ai-ail-lec-7">Lec 7: 回答集编程<a class="headerlink" href="#notes-ai-ail-lec-7" title="Permanent link">&para;</a></h2>
<div class="admonition definition">
<p class="admonition-title">逻辑程序</p>
<p>逻辑程序由一组逻辑编程规则组成。每条逻辑编程规则形如：<br />
<span class="arithmatex">\(a_0 \leftarrow a_1, a_2, \cdots, a_n, not a_{n+1}, \cdots, not a_{n+k}\)</span>，其中 <span class="arithmatex">\(a_i\)</span> 是原子公式，<span class="arithmatex">\(not a_i\)</span> 是失败即否定 naf 公式。</p>
<p>箭头左侧是头部，右侧是体部。</p>
</div>
<p>一些特殊情况：</p>
<ul>
<li><span class="arithmatex">\(a_0 \leftarrow .\)</span> 称为事实</li>
<li><span class="arithmatex">\(\leftarrow a_1, a_2, \cdots, a_n, not a_{n+1}, \cdots, not a_{n+k}\)</span> 称为约束或目标</li>
<li><span class="arithmatex">\(a_0 \leftarrow a_1, a_2, \cdots, a_n\)</span> 称为肯定规则</li>
</ul>
<p>一个语言 L 的赫布兰德域，记作 <span class="arithmatex">\(HU_L\)</span>, 是所有可以由 L 中的<strong>个体常元</strong>和<strong>函数</strong>形成的基项的集合。一个语言 L 的赫布兰德基底，记作 <span class="arithmatex">\(HB_L\)</span>, 是所有可以由 L 中的<strong>谓词</strong>和 <span class="arithmatex">\(HU_L\)</span> 的项形成的基原子的集合。</p>
<div class="admonition definition">
<p class="admonition-title">基化</p>
<p>设 𝑟 是语言 L 中的一条规则。𝑟 在 L 中的基化（grounding），记作 ground(𝑟, L)，是用 <span class="arithmatex">\(HU_L\)</span> 中的元素对 𝑟 中的变元进行所有可能的代换而得到的所有规则集合。</p>
<p>对于程序 <span class="arithmatex">\(\Pi\)</span>，其基化记作 <span class="arithmatex">\(ground(\Pi, L) = \bigvee_{r \in \Pi} ground(r, L)\)</span>，即对 <span class="arithmatex">\(\Pi\)</span> 中的每条规则进行基化。</p>
<div class="admonition example">
<p class="admonition-title">例</p>
<p><img alt="例" src="../notes/AI/assets/ail10.png" /></p>
</div>
</div>
<h2 id="notes-ai-ail-lec-8">Lec 8: 经典抽象论辩理论<a class="headerlink" href="#notes-ai-ail-lec-8" title="Permanent link">&para;</a></h2>
<div class="admonition definition">
<p class="admonition-title">抽象论辩框架</p>
<p><img alt="抽象论辩框架" src="../notes/AI/assets/ail11.png" /></p>
</div>
<p>论辩框架可用有向图表示，其中顶点表示论辩者，a 到 b 的有向边表示论证 a 攻击论证 b。</p>
<p>如果一个论证不自我攻击，且不被其他论证攻击，则称其为<strong>可接受的</strong>。如果一个被接受的论证攻击另一个论证，则后者应该被拒绝。</p>
<p>如果一个论证遭到攻击，但所有攻击者都被拒绝，则这个论证是可接受的，称其被复原。</p>
<h3 id="notes-ai-ail-_14">基于外延的语义<a class="headerlink" href="#notes-ai-ail-_14" title="Permanent link">&para;</a></h3>
<p>这里先介绍论证集合的两个性质：无冲突和可防御。</p>
<p><span class="arithmatex">\(E\)</span> 无冲突：也即 <span class="arithmatex">\(E\)</span> 构成的论证图内不存在边</p>
<p><span class="arithmatex">\(E\)</span> 可防御 <span class="arithmatex">\(\alpha\)</span>：<span class="arithmatex">\(α\)</span> 的所有攻击者都被 <span class="arithmatex">\(E\)</span> 攻击</p>
<p><img alt="可相容外延" src="../notes/AI/assets/ail12.png" /></p>
<p>用人话讲就是，对于<span class="arithmatex">\(E\)</span>中每个论证，要么没有受到攻击，要么受到攻击但（由于攻击者被拒绝）可复原。</p>
<p>满足这两个性质（E是无冲突的且E可防御E中每个论证）的论证集合<span class="arithmatex">\(E\)</span>称为<strong>可相容外延</strong>。</p>
<div class="admonition example">
<p class="admonition-title">例</p>
<p><img alt="例子" src="../notes/AI/assets/ail13.png" /></p>
<p>答案是1,1,0,0,1</p>
</div>
<div class="admonition note">
<p class="admonition-title">定理</p>
<p><span class="arithmatex">\(E\)</span> 是可相容外延，且 <span class="arithmatex">\(E\)</span> 可防御论证 <span class="arithmatex">\(a\)</span> 和 <span class="arithmatex">\(a'\)</span>，那么 <span class="arithmatex">\(E' = E \lor \{a\}\)</span>是可相容的，且 <span class="arithmatex">\(E'\)</span> 可防御 <span class="arithmatex">\(a'\)</span></p>
</div>
<h4 id="notes-ai-ail-_15">完全外延<a class="headerlink" href="#notes-ai-ail-_15" title="Permanent link">&para;</a></h4>
<p><span class="arithmatex">\(AF = &lt;AR, attacks&gt;\)</span> 的特征函数 <span class="arithmatex">\(F_{AF}(S)=\{\alpha | S 可防御 \alpha\}\)</span></p>
<p>当 <span class="arithmatex">\(𝐹_{𝐴𝐹}(𝑆) = 𝑆\)</span> 时，我们称 <span class="arithmatex">\(𝑆\)</span> 是 <span class="arithmatex">\(𝐹_{𝐴𝐹}\)</span> 的不动点。这时，集合 𝑆 中包含了所有 𝑆 可防御的论证。我们把这样的集合称为完全外延。</p>
<ul>
<li>
<p>对于论证集合 <span class="arithmatex">\(E \subseteq AR\)</span>，𝐸 是基外延，当且仅当 𝐸 是最小的（关于集合包含关系）完全外延。</p>
</li>
<li>
<p>𝐸 是一个优先外延，当且仅当 𝐸 是一个极大的（关于集合包含关系）完全外延。</p>
</li>
</ul>
<h4 id="notes-ai-ail-_16">稳定外延与半稳定外延<a class="headerlink" href="#notes-ai-ail-_16" title="Permanent link">&para;</a></h4>
<p>给定 <span class="arithmatex">\(𝐴𝐹 = ⟨𝐴𝑅, 𝑎𝑡𝑡𝑎𝑐𝑘 𝑠⟩\)</span>，一组论证集合 𝐸 是一个稳定外延，当且仅当：𝐸 是无冲突的，且对于任意 <span class="arithmatex">\(𝛼 ∈ 𝐴𝑅 / 𝐸\)</span>，𝐸 攻击 𝛼。</p>
<p>𝐸 是一个半稳定外延，当且仅当：𝐸 是完全外延，且 <span class="arithmatex">\(𝐸 ∪ 𝐸^+\)</span> 是极大的（关于集合包含关系），其中 <span class="arithmatex">\(𝐸^+ = \{𝛼 ∈ 𝐴𝑅 | 𝐸攻击𝛼\}\)</span>。</p>
<h3 id="notes-ai-ail-_17">基于标记的语义<a class="headerlink" href="#notes-ai-ail-_17" title="Permanent link">&para;</a></h3>
<p>为每个论证分配一个标签（IN：被接受的，，OUT：被拒绝的，UNDEC：未确定的）</p>
<p>指派的标签不一定合法，</p>
<ul>
<li>合法指派：<ul>
<li>IN：如果 <span class="arithmatex">\(a\)</span> 是 IN，则所有攻击者都必须是 OUT</li>
<li>OUT：如果 <span class="arithmatex">\(a\)</span> 是 OUT，则至少有一个攻击者是 IN</li>
<li>UNDEC：如果 <span class="arithmatex">\(a\)</span> 是 UNDEC，则所有攻击者都没有被标记为 IN，且至少有一个攻击者没有被标记为 OUT</li>
</ul>
</li>
</ul>
<p>类似上面的外延，</p>
<ul>
<li>可相容<strong>标记推外延</strong>：设 𝐴𝐹 = ⟨𝐴𝑅, 𝑎𝑡𝑡𝑎𝑐𝑘 𝑠⟩ 是一个抽象论辩框架。如果 𝐿 是 𝐴𝐹 的一个可相容标记，那么 𝑖𝑛(𝐿) 是 𝐴𝐹 的一个可相容外延。</li>
<li>
<p>可相容<strong>外延推标记</strong>：设 𝐸 是 𝐴𝐹 = ⟨𝐴𝑅, 𝑎𝑡𝑡𝑎𝑐𝑘 𝑠⟩ 的一个可相容外延。那么 <span class="arithmatex">\(𝐿 = (𝐸, 𝐸+, 𝐴𝑅 \ (𝐸 ∪ 𝐸^+))\)</span> 是 𝐴𝐹 的一个可相容标记。其中，<span class="arithmatex">\(𝐸^+ = \{𝛼 ∈ 𝐴𝑅 | 𝐸攻击𝛼\}\)</span>。</p>
</li>
<li>
<p>设 𝐴𝐹 = ⟨𝐴𝑅, 𝑎𝑡𝑡𝑎𝑐𝑘 𝑠⟩ 是一个论辩框架，𝐿 是 𝐴𝐹 的一个完全标记，当且仅当：𝐿 是 𝐴𝐹 的一个可相容标记，且对于任意 𝛼 ∈ 𝐴𝑅，如果 𝐿(𝛼) = UNDEC，那么 𝐿(𝛼) = UNDEC 是合法的。</p>
</li>
<li>
<p>𝐿 是 𝐴𝐹 的一个优先标记，当且仅当 𝐿 是 𝐴𝐹 的一个完全标记，且 𝑖𝑛(𝐿) 是极大的（关于集合包含关系）；</p>
</li>
<li>𝐿 是 𝐴𝐹 的一个基标记，当且仅当 𝐿 是 𝐴𝐹 的一个完全标记，且 𝑖𝑛(𝐿) 是最小的（关于集合包含关系）；</li>
<li>𝐿 是 𝐴𝐹 的一个稳定标记，当且仅当 𝐿 是 𝐴𝐹 的一个完全标记，且 𝑢𝑛𝑑𝑒𝑐(𝐿) = ∅;</li>
<li>𝐿 是 𝐴𝐹 的一个半稳定标记，当且仅当 𝐿 是 𝐴𝐹 的一个完全标记，且𝑖𝑛(𝐿) 和 𝑜𝑢𝑡(𝐿)是极大的（关于集合包含关系）。</li>
</ul>
<h3 id="notes-ai-ail-_18">抽象论辩语义的模块化<a class="headerlink" href="#notes-ai-ail-_18" title="Permanent link">&para;</a></h3>
<h4 id="notes-ai-ail-_19">局部语义<a class="headerlink" href="#notes-ai-ail-_19" title="Permanent link">&para;</a></h4>
<div class="admonition definition">
<p class="admonition-title">局部标记子框架的标记</p>
<p>把一个局部标记子框架 <span class="arithmatex">\(( (𝐵, 𝑅_𝐵), (𝐵^−, 𝐼_𝐵)^𝐿)\)</span> 的标记定义为：<span class="arithmatex">\(𝐿′: 𝐵 ∪ 𝐵^− ↦ {IN, OUT, UNDEC}\)</span>，使得对于所有 <span class="arithmatex">\(𝑎 ∈ 𝐵^−, 𝐿'(𝑎) = 𝐿(𝑎)\)</span></p>
</div>
<h2 id="notes-ai-ail-lec9">Lec9: 结构化论辩理论<a class="headerlink" href="#notes-ai-ail-lec9" title="Permanent link">&para;</a></h2>
<h3 id="notes-ai-ail-_20">攻击关系<a class="headerlink" href="#notes-ai-ail-_20" title="Permanent link">&para;</a></h3>
<h3 id="notes-ai-ail-_21">击败关系<a class="headerlink" href="#notes-ai-ail-_21" title="Permanent link">&para;</a></h3>
<p>两个论证的强弱之比可以被定义为这两个论证所对应的两个可错元素的集合的强弱之比，有三种方法：</p>
<ul>
<li>占优方式：<span class="arithmatex">\(S_1 \geq_{Dom} S_2\)</span> 当且仅当 <span class="arithmatex">\(\exists x \in S_1, \exists y \in S_2\)</span>，s.t. <span class="arithmatex">\(x \geq y\)</span>，且 <span class="arithmatex">\(\nexists x \in S_2, \nexists y \in S_1\)</span>，s.t. <span class="arithmatex">\(y \geq x\)</span>（S_1有一个元素比S_2的某个元素强，且S_2没有比S_1的元素强的）</li>
<li>精英方式：<span class="arithmatex">\(S_1 \geq_{Elite} S_2\)</span> 当且仅当 <span class="arithmatex">\(\forall x \in S_1, \exists y \in S_2\)</span>，s.t. <span class="arithmatex">\(x \geq y\)</span>（S_1的所有元素都比S_2的某个元素强）</li>
<li>民主方式：<span class="arithmatex">\(S_1 \geq_{Dem} S_2\)</span> 当且仅当 <span class="arithmatex">\(\exists x \in S_1, \forall y \in S_2\)</span>，s.t. <span class="arithmatex">\(x \geq y\)</span>（S_1有一个元素比S_2的所有元素强）</li>
</ul></section>
                    <section class='print-page md-section' id='section-4-2-4' heading-number='4.2.4'>
                        <h1>自然语言处理相关<a class='headerlink' href='#section-4-2-4' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="notes-ai-nlp" heading-number="4.2.4.1"><h1 id="notes-ai-nlp-_1">自然语言处理相关<a class="headerlink" href="#notes-ai-nlp-_1" title="Permanent link">&para;</a></h1></section></section></section>
                    <section class='print-page md-section' id='section-4-3' heading-number='4.3'>
                        <h1>Computer Science<a class='headerlink' href='#section-4-3' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="notes-computerscience-computersystem1" heading-number="4.3.1"><nav class='md-tags'><span class='md-tag'>大一下笔记</span></nav><blockquote>
<p>我感觉很难受</p>
</blockquote>
<h1 notes-computerscience-computersystem1-id="notes-computerscience-computersystem1-i">计算机系统Ⅰ<a class="headerlink" href="#notes-computerscience-computersystem1-i" title="Permanent link">&para;</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 1497 个字 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6m80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3l89.3 89.4-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3"/></svg></span> 29 行代码 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 17H7V3h14m0-2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2M3 5H1v16a2 2 0 0 0 2 2h16v-2H3m12.96-10.71-2.75 3.54-1.96-2.36L8.5 15h11z"/></svg></span> 5 张图片 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 5 分钟</p>
</div>
<div class="admonition abstract">
<p class="admonition-title">成绩组成</p>
<ul>
<li>作业 10%</li>
<li>Projects 共60%  <ul>
<li>Lab0 - 实验准备 6%  </li>
<li>Lab1 - 多路选择器+七段数码管 10%  </li>
<li>Lab2 - 加减法器 6%  </li>
<li>Lab3 - 时序电路 8%  </li>
<li>Lab4 - 卷积核 8%  </li>
<li>Lab5 - 汇编实现 10%  </li>
<li>大程 - Single Cycle CPU 12%  </li>
<li>Bonus - Multi-Cycle CPU 10% </li>
</ul>
</li>
<li>Final 30%</li>
</ul>
</div>
<div class="admonition note">
<p class="admonition-title">课程主页</p>
<p><a href="https://zju-sys.pages.zjusct.io/sys1/sys1-sp24/">https://zju-sys.pages.zjusct.io/sys1/sys1-sp24/</a></p>
</div>
<p><a href="https://hdlbits.01xz.net/wiki/Main_Page">从0开始的Verilog体验</a></p>
<h2 id="notes-computerscience-computersystem1-_1">理论课部分<a class="headerlink" href="#notes-computerscience-computersystem1-_1" title="Permanent link">&para;</a></h2>
<p>Von Neumann架构：I/O System <span class="arithmatex">\(\leftrightarrows\)</span> CPU <span class="arithmatex">\(\leftrightarrows\)</span> Memory<br />
<img alt="Detail" src="../img/DetailedVon.png" />   </p>
<p>Instructions: 0/1 binaries<br />
编译型高级语言 <span class="arithmatex">\(\underrightarrow{\text{Compiler}}\)</span> 汇编语言 <span class="arithmatex">\(\underrightarrow{\text{Assembler}}\)</span> 机器语言<br />
解释型高级语言 <span class="arithmatex">\(\underrightarrow{\text{Interpreter}}\)</span> 机器语言  </p>
<h3 id="notes-computerscience-computersystem1-_2">进制转换<a class="headerlink" href="#notes-computerscience-computersystem1-_2" title="Permanent link">&para;</a></h3>
<p>例：<span class="arithmatex">\(1011.101_2 = 2^3 + 2^1 + 2^0 + 2^{-1} + 2^{-3} = 11.6875_{10}\)</span></p>
<h3 id="notes-computerscience-computersystem1-_3">数据的表示<a class="headerlink" href="#notes-computerscience-computersystem1-_3" title="Permanent link">&para;</a></h3>
<p>用n个bit的的二进制数编码一个真值（true value）为X的数字，编码后得到机器数（machine number）<br />
<span class="arithmatex">\(X = X_{n-1}X_{n-2}\dots X_1X_0\)</span><br />
无符号整数(unsigned integer)范围: <span class="arithmatex">\(0 \le X \le 2^n - 1\)</span>  <br />
有符号整数(signed integer)范围: 编码方式不同，有不同的范围  </p>
<ul>
<li>原码(original code)：最高位为符号位，0为正，1为负  <ul>
<li>缺点：0有两种表示，+0和-0，导致可表示的范围减小1</li>
<li>Hardware Complexity</li>
<li>二进制加法失效</li>
</ul>
</li>
<li>反码(one's complement)：正数的反码与原码相同，负数的反码是对应正数的原码的每一位取反<ul>
<li>优点：二进制加法后，将进位加到最后一位上即可得到正确结果</li>
<li>缺点：0还是有两种表示，+0和-0</li>
</ul>
</li>
<li>补码(two's complement)：正数的补码与原码相同，负数的补码是对应正数的原码的每一位取反，然后加1<ul>
<li>优点：0只有一种表示</li>
<li>缺点：最小的负数没有对应的正数</li>
<li>二进制加法后，将溢出位丢弃即可得到正确结果</li>
<li>已知A(用补码表示)，那么-A的补码就是A按位取反（<strong>包括符号位</strong>）然后加1</li>
<li>补码的减法就是把减数取反加1，然后加到被减数上</li>
<li>补码的范围：<span class="arithmatex">\(-2^{n-1} \le X \le 2^{n-1} - 1\)</span>, n为位数</li>
</ul>
</li>
</ul>
<p><a href="https://blog.csdn.net/ZHurric/article/details/115108811">补码计算详解</a></p>
<div class="admonition note">
<p class="admonition-title">Modulo Operation</p>
<p>If <span class="arithmatex">\(A,B,M\)</span> satisfy <span class="arithmatex">\(A = B + K \times M\)</span>, then <span class="arithmatex">\(A \equiv B \pmod M\)</span></p>
</div>
<details open="open">
<summary>浮点数的表示（IEEE 754 Standard）</summary>
<p><img alt="" src="../img/float.png" />
s为符号位，exp为指数位，frac为尾数位。见<a href="https://zhuanlan.zhihu.com/p/107106675">https://zhuanlan.zhihu.com/p/107106675</a><br />
<span class="arithmatex">\(V = (-1)^s \times M \times 2^{E - bias}\)</span><br />
其中 <span class="arithmatex">\(E\)</span> 为指数位对应的十进制数，<span class="arithmatex">\(M\)</span> 为<span class="arithmatex">\(1.尾数\)</span><br />
对任意浮点数，<span class="arithmatex">\(E-bias\)</span>是固定值，因此根据一种位数下的表示与所给的偏移量可计算出另一位数表示下其指数位的值。（很绕，见作业）<br />
单精度（32位）：1 位符号位，8 位指数位，23 位尾数位<br />
双精度（64位）：1 位符号位，11 位指数位，52 位尾数位</p>
</details>
<h3 id="notes-computerscience-computersystem1-_4">布尔代数<a class="headerlink" href="#notes-computerscience-computersystem1-_4" title="Permanent link">&para;</a></h3>
<ul>
<li>与：<span class="arithmatex">\(A \cdot B\)</span></li>
<li>或：<span class="arithmatex">\(A + B\)</span></li>
<li>非：<span class="arithmatex">\(\overline{A}\)</span><ul>
<li>优先级：非 &gt; 与 &gt; 或</li>
</ul>
</li>
</ul>
<h4 id="notes-computerscience-computersystem1-k-map">K-map<a class="headerlink" href="#notes-computerscience-computersystem1-k-map" title="Permanent link">&para;</a></h4>
<p><span class="arithmatex">\(n\)</span>个变量对应的K-map是一个<span class="arithmatex">\(2^n\)</span>个元素的表格，每个元素对应一个变量组合。<br />
尽可能画一个大的框，框中元素个数为<span class="arithmatex">\(2^n(n\ge 1)\)</span></p>
<details class="例">
<summary>例</summary>
<p><img alt="" src="../notes/ComputerScience/assets/CS1.png" /></p>
</details>
<div class="admonition note">
<p class="admonition-title">作业</p>
<p><a href="../notes/ComputerScience/assets/cs1hw1.pdf">纸质作业可供复习</a>(疑似有错)</p>
</div>
<h3 id="notes-computerscience-computersystem1-isa">ISA<a class="headerlink" href="#notes-computerscience-computersystem1-isa" title="Permanent link">&para;</a></h3>
<p>ISA(Instruction Set Architecture)是指令集架构，是计算机硬件与软件之间的接口。<br />
通俗来讲就是，规定了寄存器个数，可运行的指令，哪些寄存器是干啥的，数据的单位类型和占据的大小（比特字节字这种）等等。设计者只要设计满足这些特性的程序，都可以在这种架构的计算机上运行。</p>
<h2 id="notes-computerscience-computersystem1-verilog">Verilog补天<a class="headerlink" href="#notes-computerscience-computersystem1-verilog" title="Permanent link">&para;</a></h2>
<h3 id="notes-computerscience-computersystem1-basic">Basic<a class="headerlink" href="#notes-computerscience-computersystem1-basic" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#notes-computerscience-computersystem1-__codelineno-0-1"></a><span class="k">module</span><span class="w"> </span><span class="n">main</span><span class="p">(</span><span class="w"> </span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#notes-computerscience-computersystem1-__codelineno-0-2"></a><span class="w">    </span><span class="k">input</span><span class="w"> </span><span class="n">I0</span><span class="p">,</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#notes-computerscience-computersystem1-__codelineno-0-3"></a><span class="w">    </span><span class="k">input</span><span class="w"> </span><span class="n">I1</span><span class="p">,</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#notes-computerscience-computersystem1-__codelineno-0-4"></a><span class="w">    </span><span class="k">input</span><span class="w"> </span><span class="n">I2</span><span class="p">,</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#notes-computerscience-computersystem1-__codelineno-0-5"></a><span class="w">    </span><span class="k">output</span><span class="w"> </span><span class="n">O</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#notes-computerscience-computersystem1-__codelineno-0-6"></a><span class="w">    </span><span class="c1">// rest of the code</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#notes-computerscience-computersystem1-__codelineno-0-7"></a><span class="k">endmodule</span>
</code></pre></div>
<p>这一段代码表示一个叫做<code>main</code>的电路<code>module</code>(模块)，先声明I1、I2、I3、O这几个输入/输出的<strong>引脚序列</strong>。注意<code>main</code>后小括号里只能放输入输出引脚，可以类比函数，只关心它的输入是哪些。<br />
wire的电气特性：必须被有且仅有一个assign输入，可以有0个或者多个assign输出。  </p>
<p>运算符：<code>&amp;</code>表示按位与，<code>|</code>表示按位或，<code>^</code>表示异或，<code>~</code>表示非。</p>
<p>如果没声明过一个变量a的类型，直接有<code>assign a = I0</code>，a默认为wire，可以在文件头加上<code>`default_nettype none</code>来查找这个错误。</p>
<h3 id="notes-computerscience-computersystem1-vectors">Vectors<a class="headerlink" href="#notes-computerscience-computersystem1-vectors" title="Permanent link">&para;</a></h3>
<p>类似数组，<code>wire [3:0] a = 4b'1011;</code>声明四根“捆在一块的线”，相当于一个位宽为4的二进制数<br />
如果这时候直接<code>assign b = a</code>，b默认是1bit的wire，导致隐式转换，b被赋值为a的最低位1。</p>
<p>还可以写二维数组，<code>wire [3:0] a [1:0]</code>表明有两个unpacked element，每个element都是一个4bit的wire。</p>
<p>用<code>{变量1,变量2, ...}</code>创建位宽为其元素之和的向量，因此变量需要指明位宽，如<code>{4'b1011, 4'b1100}</code>是合法的，但<code>{11, 12}</code>是不合法的。</p>
<p>位数较小赋值给位数较大，先填充低位，高位补0。位数较大赋值给位数较小，优先保留低位，高位舍弃。</p>
<h4 id="notes-computerscience-computersystem1-_5">二选一多路选择器<a class="headerlink" href="#notes-computerscience-computersystem1-_5" title="Permanent link">&para;</a></h4>
<p><span class="arithmatex">\(O = S \cdot I_0 + \overline{S} \cdot I_1\)</span><br />
其中，<span class="arithmatex">\(S\)</span>为选择信号，<span class="arithmatex">\(I_0\)</span>和<span class="arithmatex">\(I_1\)</span>为输入信号，<span class="arithmatex">\(O\)</span>为输出信号。<br />
点乘号表示逻辑与，加号表示逻辑或，横线表示逻辑非。  </p>
<p>使用代码实现：<br />
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#notes-computerscience-computersystem1-__codelineno-1-1"></a><span class="k">module</span><span class="w"> </span><span class="n">mux2to1</span><span class="p">(</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#notes-computerscience-computersystem1-__codelineno-1-2"></a><span class="w">    </span><span class="k">input</span><span class="w"> </span><span class="n">I0</span><span class="p">,</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#notes-computerscience-computersystem1-__codelineno-1-3"></a><span class="w">    </span><span class="k">input</span><span class="w"> </span><span class="n">I1</span><span class="p">,</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#notes-computerscience-computersystem1-__codelineno-1-4"></a><span class="w">    </span><span class="k">input</span><span class="w"> </span><span class="n">S</span><span class="p">,</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#notes-computerscience-computersystem1-__codelineno-1-5"></a><span class="w">    </span><span class="k">output</span><span class="w"> </span><span class="n">O</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#notes-computerscience-computersystem1-__codelineno-1-6"></a><span class="w">    </span><span class="p">);</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#notes-computerscience-computersystem1-__codelineno-1-7"></a><span class="w">    </span><span class="k">assign</span><span class="w"> </span><span class="n">O</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">S</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">I0</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">~</span><span class="n">S</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">I1</span><span class="p">;</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#notes-computerscience-computersystem1-__codelineno-1-8"></a><span class="k">endmodule</span>
</code></pre></div></p>
<h4 id="notes-computerscience-computersystem1-_6">四选一多路选择器<a class="headerlink" href="#notes-computerscience-computersystem1-_6" title="Permanent link">&para;</a></h4>
<p><span class="arithmatex">\(O = \overline{S_1} \cdot \overline{S_0} \cdot I_0 + S_0 \cdot \overline{S_1} \cdot I_1 + \overline{S_0} \cdot S_1 \cdot I_2 + S_1 \cdot S_0 \cdot I_3\)</span>  </p>
<p>实现：使用三个二选一多路选择器实现。（封装两个二选一多路选择器模块）<br />
<span class="arithmatex">\(Mux(I0, I1, S) = S \cdot I_1 + \overline{S} \cdot I_0\)</span><br />
<span class="arithmatex">\(O = Mux(Mux(I_0, I_1, S_0), Mux(I_2, I_3, S_0), S_1)\)</span>  </p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#notes-computerscience-computersystem1-__codelineno-2-1"></a><span class="k">module</span><span class="w"> </span><span class="n">mux4to1</span><span class="p">(</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#notes-computerscience-computersystem1-__codelineno-2-2"></a><span class="w">    </span><span class="k">input</span><span class="w"> </span><span class="n">I0</span><span class="p">,</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#notes-computerscience-computersystem1-__codelineno-2-3"></a><span class="w">    </span><span class="k">input</span><span class="w"> </span><span class="n">I1</span><span class="p">,</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#notes-computerscience-computersystem1-__codelineno-2-4"></a><span class="w">    </span><span class="k">input</span><span class="w"> </span><span class="n">I2</span><span class="p">,</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#notes-computerscience-computersystem1-__codelineno-2-5"></a><span class="w">    </span><span class="k">input</span><span class="w"> </span><span class="n">I3</span><span class="p">,</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#notes-computerscience-computersystem1-__codelineno-2-6"></a><span class="w">    </span><span class="k">input</span><span class="w"> </span><span class="n">S0</span><span class="p">,</span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#notes-computerscience-computersystem1-__codelineno-2-7"></a><span class="w">    </span><span class="k">input</span><span class="w"> </span><span class="n">S1</span><span class="p">,</span>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#notes-computerscience-computersystem1-__codelineno-2-8"></a><span class="w">    </span><span class="k">output</span><span class="w"> </span><span class="n">O</span>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#notes-computerscience-computersystem1-__codelineno-2-9"></a><span class="w">    </span><span class="p">);</span>
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#notes-computerscience-computersystem1-__codelineno-2-10"></a><span class="w">    </span><span class="kt">wire</span><span class="w"> </span><span class="n">w1</span><span class="p">,</span><span class="w"> </span><span class="n">w2</span><span class="p">;</span>
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#notes-computerscience-computersystem1-__codelineno-2-11"></a><span class="w">    </span><span class="n">mux2to1</span><span class="w"> </span><span class="n">Mux1</span><span class="p">(</span><span class="n">I0</span><span class="p">,</span><span class="w"> </span><span class="n">I1</span><span class="p">,</span><span class="w"> </span><span class="n">S0</span><span class="p">,</span><span class="w"> </span><span class="n">w1</span><span class="p">);</span>
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#notes-computerscience-computersystem1-__codelineno-2-12"></a><span class="w">    </span><span class="n">mux2to1</span><span class="w"> </span><span class="n">Mux2</span><span class="p">(</span><span class="n">I2</span><span class="p">,</span><span class="w"> </span><span class="n">I3</span><span class="p">,</span><span class="w"> </span><span class="n">S0</span><span class="p">,</span><span class="w"> </span><span class="n">w2</span><span class="p">);</span>
<a id="__codelineno-2-13" name="__codelineno-2-13" href="#notes-computerscience-computersystem1-__codelineno-2-13"></a><span class="w">    </span><span class="n">mux2to1</span><span class="w"> </span><span class="n">Mux3</span><span class="p">(</span><span class="n">w1</span><span class="p">,</span><span class="w"> </span><span class="n">w2</span><span class="p">,</span><span class="w"> </span><span class="n">S1</span><span class="p">,</span><span class="w"> </span><span class="n">O</span><span class="p">);</span>
<a id="__codelineno-2-14" name="__codelineno-2-14" href="#notes-computerscience-computersystem1-__codelineno-2-14"></a><span class="k">endmodule</span>
</code></pre></div>
<h3 id="notes-computerscience-computersystem1-lab2-">lab2 - 加减法器<a class="headerlink" href="#notes-computerscience-computersystem1-lab2-" title="Permanent link">&para;</a></h3>
<h4 id="notes-computerscience-computersystem1-_7">全加减器<a class="headerlink" href="#notes-computerscience-computersystem1-_7" title="Permanent link">&para;</a></h4>
<p>N位二进制的加减法是<span class="arithmatex">\(\mod 2^N\)</span>下的加减法。<br />
<img alt="" src="../notes/ComputerScience/assets/Sys1.png" />   </p>
<details class="a的解释">
<summary>A的解释</summary>
<p><img alt="" src="../notes/ComputerScience/assets/Sys2.png" /></p>
</details>
<h3 id="notes-computerscience-computersystem1-lab3-">lab3 - 时序电路<a class="headerlink" href="#notes-computerscience-computersystem1-lab3-" title="Permanent link">&para;</a></h3>
<p>史</p>
<h3 id="notes-computerscience-computersystem1-lab5-riscvs">lab5 - riscvs汇编<a class="headerlink" href="#notes-computerscience-computersystem1-lab5-riscvs" title="Permanent link">&para;</a></h3>
<p>快速入门：<a href="https://blog.csdn.net/m0_62730135/article/details/126799687">https://blog.csdn.net/m0_62730135/article/details/126799687</a><br />
<a href="https://zhuanlan.zhihu.com/p/502146080">https://zhuanlan.zhihu.com/p/502146080</a></p>
<p>学长笔记：<a href="https://note.tonycrane.cc/cs/pl/riscv/unprivileged/">https://note.tonycrane.cc/cs/pl/riscv/unprivileged/</a></p>
<p>函数返回值默认存在a0寄存器中，<code>jr ra</code>就能返回，<code>ret</code>也能返回。</p>
<p><code>sd a0, x(sp)</code>：memory[sp+x] = a0<br />
<code>ld a0, x(sp)</code>：a0 = memory[sp+x]</p>
<p>编译器优化：<a href="https://oi-wiki.org/lang/optimizations/">https://oi-wiki.org/lang/optimizations/</a></p></section><section class="print-page" id="notes-computerscience-computersystem2" heading-number="4.3.2"><nav class='md-tags'><span class='md-tag'>大二上笔记</span></nav><blockquote>
<p>Can u feel it?</p>
</blockquote>
<h1 id="notes-computerscience-computersystem2-ii">计算机系统 Ⅱ<a class="headerlink" href="#notes-computerscience-computersystem2-ii" title="Permanent link">&para;</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 8492 个字 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6m80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3l89.3 89.4-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3"/></svg></span> 182 行代码 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 17H7V3h14m0-2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2M3 5H1v16a2 2 0 0 0 2 2h16v-2H3m12.96-10.71-2.75 3.54-1.96-2.36L8.5 15h11z"/></svg></span> 38 张图片 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 27 分钟</p>
</div>
<div class="admonition note">
<p class="admonition-title">Links</p>
<p><a href="https://note.tonycrane.cc/cs/pl/riscv/privileged/">https://note.tonycrane.cc/cs/pl/riscv/privileged/</a></p>
</div>
<h2 id="notes-computerscience-computersystem2-isa">ISA 指令集体系结构<a class="headerlink" href="#notes-computerscience-computersystem2-isa" title="Permanent link">&para;</a></h2>
<h3 id="notes-computerscience-computersystem2--">分类 - 根据内部存储结构<a class="headerlink" href="#notes-computerscience-computersystem2--" title="Permanent link">&para;</a></h3>
<ol>
<li>栈 Architecture<ul>
<li>操作数在栈顶（TOS: Top of Stack）</li>
<li>对于 C = A + B，指令为 <code>push A; push B; add; pop C</code></li>
</ul>
</li>
<li>累加器 Architecture<ul>
<li>一个隐式操作数来自累加寄存器，另一个来自内存，计算结果在累加寄存器中</li>
<li>对于 C = A + B，指令为 <code>load A, add B, store C</code></li>
</ul>
</li>
<li>寄存器-内存 Architecture<ul>
<li>所有指令都可以访问内存</li>
<li>第二个操作数（以下例子中为<code>B</code>）来自内存</li>
<li>对于 C = A + B，指令为 <code>load R1, A; Add R3, R1, B; Store R3, C</code></li>
</ul>
</li>
<li>寄存器-寄存器: Load/Store Architecture<ul>
<li>操作数都在寄存器中</li>
<li>对于 C = A + B，指令为 <code>Load R1, A; Load R2, B; Add R3, R1, R2; Store R3, C</code></li>
</ul>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Practice</p>
<p>D = A * B - (A + C * B)</p>
<details class="success">
<summary>Stack</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#notes-computerscience-computersystem2-__codelineno-0-1"></a><span class="nf">push</span><span class="w"> </span><span class="no">A</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#notes-computerscience-computersystem2-__codelineno-0-2"></a><span class="nf">push</span><span class="w"> </span><span class="no">B</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#notes-computerscience-computersystem2-__codelineno-0-3"></a><span class="nf">mul</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#notes-computerscience-computersystem2-__codelineno-0-4"></a><span class="nf">push</span><span class="w"> </span><span class="no">A</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#notes-computerscience-computersystem2-__codelineno-0-5"></a><span class="nf">push</span><span class="w"> </span><span class="no">C</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#notes-computerscience-computersystem2-__codelineno-0-6"></a><span class="nf">push</span><span class="w"> </span><span class="no">B</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#notes-computerscience-computersystem2-__codelineno-0-7"></a><span class="nf">mul</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#notes-computerscience-computersystem2-__codelineno-0-8"></a><span class="nf">add</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#notes-computerscience-computersystem2-__codelineno-0-9"></a><span class="nf">sub</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#notes-computerscience-computersystem2-__codelineno-0-10"></a><span class="nf">pop</span><span class="w"> </span><span class="no">D</span>
</code></pre></div>
</details>
<details class="success">
<summary>Accumulater</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#notes-computerscience-computersystem2-__codelineno-1-1"></a><span class="nf">load</span><span class="w"> </span><span class="no">B</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#notes-computerscience-computersystem2-__codelineno-1-2"></a><span class="nf">mul</span><span class="w"> </span><span class="no">C</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#notes-computerscience-computersystem2-__codelineno-1-3"></a><span class="nf">add</span><span class="w"> </span><span class="no">A</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#notes-computerscience-computersystem2-__codelineno-1-4"></a><span class="nf">store</span><span class="w"> </span><span class="no">D</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#notes-computerscience-computersystem2-__codelineno-1-5"></a><span class="nf">load</span><span class="w"> </span><span class="no">A</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#notes-computerscience-computersystem2-__codelineno-1-6"></a><span class="nf">mul</span><span class="w"> </span><span class="no">B</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#notes-computerscience-computersystem2-__codelineno-1-7"></a><span class="nf">sub</span><span class="w"> </span><span class="no">D</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#notes-computerscience-computersystem2-__codelineno-1-8"></a><span class="nf">store</span><span class="w"> </span><span class="no">D</span>
</code></pre></div>
</details>
<details class="success">
<summary>Register-Memory</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#notes-computerscience-computersystem2-__codelineno-2-1"></a><span class="c1"># 提供指令：add/sub/mul/load/store Reg, data</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#notes-computerscience-computersystem2-__codelineno-2-2"></a><span class="nf">load</span><span class="w"> </span><span class="no">R1</span><span class="p">,</span><span class="w"> </span><span class="no">A</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#notes-computerscience-computersystem2-__codelineno-2-3"></a><span class="nf">mul</span><span class="w"> </span><span class="no">R1</span><span class="p">,</span><span class="w"> </span><span class="no">B</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#notes-computerscience-computersystem2-__codelineno-2-4"></a><span class="nf">load</span><span class="w"> </span><span class="no">R2</span><span class="p">,</span><span class="w"> </span><span class="no">C</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#notes-computerscience-computersystem2-__codelineno-2-5"></a><span class="nf">mul</span><span class="w"> </span><span class="no">R2</span><span class="p">,</span><span class="w"> </span><span class="no">B</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#notes-computerscience-computersystem2-__codelineno-2-6"></a><span class="nf">add</span><span class="w"> </span><span class="no">R2</span><span class="p">,</span><span class="w"> </span><span class="no">A</span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#notes-computerscience-computersystem2-__codelineno-2-7"></a><span class="nf">store</span><span class="w"> </span><span class="no">R2</span><span class="p">,</span><span class="w"> </span><span class="no">D</span>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#notes-computerscience-computersystem2-__codelineno-2-8"></a><span class="nf">mul</span><span class="w"> </span><span class="no">R1</span><span class="p">,</span><span class="w"> </span><span class="no">D</span>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#notes-computerscience-computersystem2-__codelineno-2-9"></a><span class="nf">store</span><span class="w"> </span><span class="no">R1</span><span class="p">,</span><span class="w"> </span><span class="no">D</span>
</code></pre></div>
</details>
<details class="success">
<summary>Load-Store</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#notes-computerscience-computersystem2-__codelineno-3-1"></a><span class="c1"># 提供指令 add/sub/mul RegDest, Reg1, Reg2; load/store Reg, &amp;Mem</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#notes-computerscience-computersystem2-__codelineno-3-2"></a><span class="nf">load</span><span class="w"> </span><span class="no">R1</span><span class="p">,</span><span class="w"> </span><span class="err">&amp;</span><span class="no">A</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#notes-computerscience-computersystem2-__codelineno-3-3"></a><span class="nf">load</span><span class="w"> </span><span class="no">R2</span><span class="p">,</span><span class="w"> </span><span class="err">&amp;</span><span class="no">B</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#notes-computerscience-computersystem2-__codelineno-3-4"></a><span class="nf">load</span><span class="w"> </span><span class="no">R3</span><span class="p">,</span><span class="w"> </span><span class="err">&amp;</span><span class="no">C</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#notes-computerscience-computersystem2-__codelineno-3-5"></a><span class="nf">mul</span><span class="w"> </span><span class="no">R7</span><span class="p">,</span><span class="w"> </span><span class="no">R3</span><span class="p">,</span><span class="w"> </span><span class="no">R2</span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#notes-computerscience-computersystem2-__codelineno-3-6"></a><span class="nf">add</span><span class="w"> </span><span class="no">R8</span><span class="p">,</span><span class="w"> </span><span class="no">R7</span><span class="p">,</span><span class="w"> </span><span class="no">R1</span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#notes-computerscience-computersystem2-__codelineno-3-7"></a><span class="nf">mul</span><span class="w"> </span><span class="no">R9</span><span class="p">,</span><span class="w"> </span><span class="no">R1</span><span class="p">,</span><span class="w"> </span><span class="no">R2</span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#notes-computerscience-computersystem2-__codelineno-3-8"></a><span class="nf">sub</span><span class="w"> </span><span class="no">R10</span><span class="p">,</span><span class="w"> </span><span class="no">R9</span><span class="p">,</span><span class="w"> </span><span class="no">R8</span>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#notes-computerscience-computersystem2-__codelineno-3-9"></a><span class="nf">store</span><span class="w"> </span><span class="no">R10</span><span class="p">,</span><span class="w"> </span><span class="err">&amp;</span><span class="no">D</span>
</code></pre></div>
</details>
</div>
<h3 id="notes-computerscience-computersystem2-risc-v-isa">RISC-V ISA 汇编<a class="headerlink" href="#notes-computerscience-computersystem2-risc-v-isa" title="Permanent link">&para;</a></h3>
<p>（其实是系统一的东西）32 位指令</p>
<ul>
<li>Opcode: 操作码，用于识别指令类型</li>
<li>rs1: the first register source operand</li>
<li>rs2: the second register source operand</li>
<li>rd: the register destination operand</li>
<li>funct3/7: （从Opcode的指令类型中）确定特定的指令</li>
<li>imm: immediate value or address</li>
</ul>
<p><img alt="" src="../notes/ComputerScience/assets/CS2.png" /></p>
<p>寄存器与内存：</p>
<p><img alt="" src="../notes/ComputerScience/assets/CS3.png" /></p>
<p>一些例子：</p>
<p><img alt="" src="../notes/ComputerScience/assets/CS4.png" /></p>
<h3 id="notes-computerscience-computersystem2-addressing-mode">Addressing Mode 寻址模式<a class="headerlink" href="#notes-computerscience-computersystem2-addressing-mode" title="Permanent link">&para;</a></h3>
<p><img alt="" src="../notes/ComputerScience/assets/Sys33.png" /></p>
<p>Also Ref: <a href="https://note.tonycrane.cc/cs/system/cs1/topic5/">https://note.tonycrane.cc/cs/system/cs1/topic5/</a></p>
<h2 id="notes-computerscience-computersystem2-pipelining">Pipelining 流水线概述<a class="headerlink" href="#notes-computerscience-computersystem2-pipelining" title="Permanent link">&para;</a></h2>
<p>通过Overlapping的方式，将多个指令的多个阶段同时进行，提高吞吐量，以提高CPU的效率。</p>
<p>定义吞吐量（Throughput/TP）：单位时间内完成的指令数。<br />
<span class="arithmatex">\(TP = \frac{n}{T} \lt TP_{max}\)</span>且<span class="arithmatex">\(T = (m+n-1) \times \Delta t_0\)</span>，其中<span class="arithmatex">\(m\)</span>为流水线级数，<span class="arithmatex">\(n\)</span>为指令数，<span class="arithmatex">\(\Delta t_0\)</span>为流水线时钟周期。</p>
<p><span class="arithmatex">\(TP_{max} = \lim_{n\to\infty} \frac{n}{T} = \frac{1}{\Delta t_0}\)</span></p>
<h3 id="notes-computerscience-computersystem2-solve-bottleneck">Solve Bottleneck<a class="headerlink" href="#notes-computerscience-computersystem2-solve-bottleneck" title="Permanent link">&para;</a></h3>
<ol>
<li>Subdivide the task</li>
<li>Repetition</li>
</ol>
<p>定义加速比（Speedup/SP）：<span class="arithmatex">\(Sp = \frac{Exetime_{non-pipe}}{Exetime_{pipe}} = \frac{nm\Delta t_0}{(m+n-1)\Delta t_0} = \frac{nm}{n+m-1}\)</span></p>
<p><span class="arithmatex">\(n \to \infty\)</span>时，<span class="arithmatex">\(Sp \to m\)</span> （理想加速比为流水线级数）</p>
<p>效率<span class="arithmatex">\(E = \frac{SP}{m} = TP \cdot \Delta t_0\)</span></p>
<h3 id="notes-computerscience-computersystem2-hazard">Hazard 冲突<a class="headerlink" href="#notes-computerscience-computersystem2-hazard" title="Permanent link">&para;</a></h3>
<h4 id="notes-computerscience-computersystem2-_1">结构冲突<a class="headerlink" href="#notes-computerscience-computersystem2-_1" title="Permanent link">&para;</a></h4>
<p>多条指令在同一时钟周期抢着访问同一个物理资源。</p>
<p>Solution：</p>
<ul>
<li>Stall（Always works）</li>
<li>添加更多硬件</li>
</ul>
<h4 id="notes-computerscience-computersystem2-_2">数据冲突<a class="headerlink" href="#notes-computerscience-computersystem2-_2" title="Permanent link">&para;</a></h4>
<h4 id="notes-computerscience-computersystem2-_3">控制冲突<a class="headerlink" href="#notes-computerscience-computersystem2-_3" title="Permanent link">&para;</a></h4>
<div class="admonition note">
<p class="admonition-title">分支预测</p>
<ul>
<li>静态分支预测：总是预测分支不发生</li>
<li>动态分支预测：根据历史记录预测<ul>
<li>维护分支历史记录表（Branch History Table）</li>
</ul>
</li>
</ul>
</div>
<h2 id="notes-computerscience-computersystem2-_4">非线性流水线<a class="headerlink" href="#notes-computerscience-computersystem2-_4" title="Permanent link">&para;</a></h2>
<p><a href="https://blog.csdn.net/rizero/article/details/106740895">看这篇文章</a></p>
<h2 id="notes-computerscience-computersystem2-multiple-issue">Multiple Issue 多发射<a class="headerlink" href="#notes-computerscience-computersystem2-multiple-issue" title="Permanent link">&para;</a></h2>
<p>为了改进指令级别的并行（ILP, Instruction Level Parallelism），除了加深流水线外，还可以同时发射多条指令。</p>
<ul>
<li>静态多发射：编译器把多条指令打包到“issue slots”中<ul>
<li>编译器探测并避免冲突</li>
</ul>
</li>
<li>动态多发射：CPU解析指令流，选出多发射的指令<ul>
<li>编译器可以通过重排指令来提高多发射的效率</li>
</ul>
</li>
<li>CPU 在运行时解决冲突</li>
</ul>
<p>下面是三种多发射的处理器：</p>
<h3 id="notes-computerscience-computersystem2-superscalar">Superscalar 超标量<a class="headerlink" href="#notes-computerscience-computersystem2-superscalar" title="Permanent link">&para;</a></h3>
<ul>
<li>每个时钟周期发射的指令不固定，最多可达<span class="arithmatex">\(n\)</span>条。（称为<span class="arithmatex">\(n\)</span>-issue）</li>
<li>可以静态由编译器指定，或动态由Tomasulo算法决定</li>
</ul>
<h3 id="notes-computerscience-computersystem2-vliw-very-long-instruction-word">VLIW (Very Long Instruction Word) 超长指令字<a class="headerlink" href="#notes-computerscience-computersystem2-vliw-very-long-instruction-word" title="Permanent link">&para;</a></h3>
<ul>
<li>每个时钟周期的指令数是固定的，但是每条指令包含一条长指令或是指令 packet</li>
</ul>
<h3 id="notes-computerscience-computersystem2-super-pipeline">Super-Pipeline 超流水线<a class="headerlink" href="#notes-computerscience-computersystem2-super-pipeline" title="Permanent link">&para;</a></h3>
<ul>
<li>每个流水间阶段都被进一步细分，同一时钟周期内的多条指令可以 time-shared</li>
<li>For a super-pipelined computer that can flow out n instructions per clock cycle, one instruction is flowed out every 1/n clock cycle</li>
</ul>
<div class="admonition note">
<p class="admonition-title">上述几种的时空图如下</p>
<p><img alt="多发射" src="../notes/ComputerScience/assets/Sys34.png" /></p>
</div>
<h2 id="notes-computerscience-computersystem2-_5">冲突与中断<a class="headerlink" href="#notes-computerscience-computersystem2-_5" title="Permanent link">&para;</a></h2>
<p>我感觉不考</p>
<h2 id="notes-computerscience-computersystem2-computer-architecture">Computer Architecture 计算机体系结构<a class="headerlink" href="#notes-computerscience-computersystem2-computer-architecture" title="Permanent link">&para;</a></h2>
<p>冯诺依曼架构：I/O System &lt;-&gt; CPU &lt;-&gt; Memory</p>
<p>存储在内存中的数据，基本单元是Byte，每个数据都被一个<strong>地址</strong>标记，一台机器上所有的地址的位数是一样的。</p>
<p>当一个程序加载到内存中，它的地址空间（Address Space）分为两部分：Code 和 Data。</p>
<h2 id="notes-computerscience-computersystem2-operating-system">Operating System 操作系统<a class="headerlink" href="#notes-computerscience-computersystem2-operating-system" title="Permanent link">&para;</a></h2>
<h3 id="notes-computerscience-computersystem2-elf">ELF 概述<a class="headerlink" href="#notes-computerscience-computersystem2-elf" title="Permanent link">&para;</a></h3>
<p>C程序编译为可执行文件的四个过程：</p>
<ul>
<li>预处理 —— 宏展开</li>
<li>编译 —— 源代码转为汇编</li>
<li>汇编 —— 汇编转为机器码</li>
<li>链接 —— 将多个目标文件链接为一个可执行文件，链接库</li>
</ul>
<p>最终的可执行文件包含一个 crt(C runtime)，这个 crt 内会调用 main 函数。</p>
<p>ELF - Executable and Linkable Format 二进制文件内包含如下段（Section）：</p>
<ul>
<li>.text: 代码段</li>
<li>.rodata: read only 数据段</li>
<li>.data: 初始化数据段</li>
<li>.bss: 未初始化数据段</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Quiz</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#notes-computerscience-computersystem2-__codelineno-4-1"></a><span class="w">    </span><span class="c1">// 如下均定义/声明在全局作用域</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#notes-computerscience-computersystem2-__codelineno-4-2"></a>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#notes-computerscience-computersystem2-__codelineno-4-3"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="c1">// 存储在.data段</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#notes-computerscience-computersystem2-__codelineno-4-4"></a>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#notes-computerscience-computersystem2-__codelineno-4-5"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="p">;</span><span class="w"> </span><span class="c1">// 存储在.bss段</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#notes-computerscience-computersystem2-__codelineno-4-6"></a>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#notes-computerscience-computersystem2-__codelineno-4-7"></a><span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w"> </span><span class="c1">// 存储在.rodata段</span>
</code></pre></div>
</div>
<ul>
<li>
<p>Static linking</p>
<ul>
<li>All needed code is packed in single binary, leading to large binary</li>
<li><code>_start</code> is executed after evecve system call</li>
<li><img alt="" src="../notes/ComputerScience/assets/Sys7.png" /></li>
</ul>
</li>
<li>
<p>Dynamic linking</p>
<ul>
<li>Reuse libraries to reduce ELF file size</li>
<li>Howto resolve library calls?<ul>
<li>It is the loader who resolves lib calls.</li>
</ul>
</li>
<li>Entry point 是 loader</li>
</ul>
</li>
</ul>
<p><img alt="" src="../notes/ComputerScience/assets/Sys8.png" /></p>
<p><img alt="" src="../notes/ComputerScience/assets/Sys9.png" /></p>
<p><code>_libc_start_main</code>: Setup environment and stack, then call main</p>
<h4 id="notes-computerscience-computersystem2-memory-layout">Memory Layout 内存布局<a class="headerlink" href="#notes-computerscience-computersystem2-memory-layout" title="Permanent link">&para;</a></h4>
<p><img alt="" src="../notes/ComputerScience/assets/CS5.png" /></p>
<p>在二进制文件运行时的内存布局。</p>
<p>注意 stack 从高地址向低地址增长，heap 从低地址向高地址增长。</p>
<p><img alt="" src="../notes/ComputerScience/assets/CS6.png" /></p>
<div class="admonition note">
<p class="admonition-title">可能的考点（来自复习课）</p>
<ul>
<li>线程可以共享 Heap，但不共享 Stack，为什么？<ul>
<li>Stack 里含有返回地址等信息，不适合共享</li>
</ul>
</li>
</ul>
</div>
<blockquote>
<p>DMA(Direct Memory Access)：设备直接访问内存，不经过CPU。</p>
</blockquote>
<h3 id="notes-computerscience-computersystem2-os-structure">OS Structure 操作系统结构<a class="headerlink" href="#notes-computerscience-computersystem2-os-structure" title="Permanent link">&para;</a></h3>
<p><strong>操作系统是一种“Resource Allocator and Abstracter”</strong>，它管理硬件资源，提供抽象接口。</p>
<p><img alt="" src="../notes/ComputerScience/assets/Sys3.png" /></p>
<p>UI: CLI -&gt; GUI -&gt; Touchscreen...</p>
<ul>
<li>
<p>简单结构 Simple Structure</p>
<ul>
<li>MS-DOS</li>
<li>不区分用户和内核态</li>
<li>用户程序、操作系统程序、驱动程序都运行在同一个地址空间，可以互相操作</li>
</ul>
</li>
<li>
<p>整体结构 Monolithic Structure</p>
<ul>
<li>Unix</li>
<li>有区分用户和内核态</li>
<li>操作系统程序运行在内核态，用户程序运行在用户态</li>
<li>用户程序通过系统调用访问内核态</li>
<li>内核态程序给用户态程序接口来提供服务</li>
</ul>
</li>
<li>
<p>微内核结构 Microkernel Structure</p>
<ul>
<li>Mach, Minix...</li>
<li>防止内核态程序过于复杂，漏洞概率更大</li>
<li>尽可能多地将内核代码移动到用户态中</li>
<li>内核只提供最基本的服务，其他服务通过进程间通信实现：更稳定</li>
<li>将操作系统的功能分为多个独立的进程</li>
<li>可移植性更好</li>
</ul>
</li>
<li>
<p>模块化结构 Modular Structure</p>
<ul>
<li>Linux (Modular + Monolithic)</li>
<li>将内核分为多个模块（loadable kernel module），每个模块负责一个特定的功能</li>
<li>模块可以动态加载和卸载</li>
<li>保持了微内核结构的优点，同时减少了进程间通信的开销</li>
</ul>
</li>
<li>
<p>外核结构 Exokernel Structure</p>
<ul>
<li>外内核则进行更少的抽象，来让用户程序可以有更多控制物理资源的可能</li>
<li>内核只进行物理资源的分配和保护，而资源的使用、管理都由用户程序自己决定</li>
<li>用户程序可以直接访问硬件资源，自己实现操作系统的功能</li>
</ul>
</li>
<li>
<p>层级结构 Layered Structure</p>
<ul>
<li>为了提高模块化结构的性能，将模块分为多个层次</li>
<li>最底层权限最高，为硬件</li>
<li>每个层次只能调用比自己低的层次，不能调用比自己高的层次</li>
<li>例如，文件系统、网络协议栈等</li>
</ul>
</li>
<li>
<p>混合结构 Hybrid Structure</p>
<ul>
<li>结合了多种结构的优点</li>
<li>例如，Windows NT, Apple Mac OS X</li>
</ul>
</li>
</ul>
<h3 id="notes-computerscience-computersystem2-event">Event 事件<a class="headerlink" href="#notes-computerscience-computersystem2-event" title="Permanent link">&para;</a></h3>
<p>Event 分为 Interrupt - 由硬件引起，Exception - 由软件引起。</p>
<p>一些指令会被限制：只有OS能够执行它们（Privileged Instructions），CPU是如何判断当前状态能否执行这些指令的？</p>
<ul>
<li>All modern processors support (at least) two modes of execution:<ul>
<li>User mode: In this mode protected instructions cannot be executed</li>
<li>Kernel mode: In this mode all instructions can be executed</li>
<li>User code executes in user mode (<strong>e.g., application code</strong>)</li>
<li>Kernel code executes in kernel mode (<strong>e.g., OS code</strong>)</li>
<li>The mode is indicated by a status bit in a protected control register<ul>
<li>The CPU checks this bit before executing a protected instruction</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">可能的考点（来自复习课）</p>
<ul>
<li>狭义操作系统：Kernel Mode  </li>
<li>广义操作系统：Kernel Mode + 一部分 User Mode</li>
<li>User code executes in user mode (<strong>e.g., application code</strong>)</li>
<li>Kernel code executes in kernel mode (<strong>e.g., OS code</strong>)</li>
</ul>
</div>
<p><img alt="" src="../notes/ComputerScience/assets/Sys4.png" /></p>
<p>Event是操作流中“不被预期”的情况，CPU会根据Event的类型，调用相应的Handler。</p>
<ul>
<li>An event stops execution, changes mode, and changes context</li>
<li>The kernel defines a handlerfor each event type</li>
</ul>
<p>OS Code running: Boot -&gt; Wait for Event -&gt; Event Handler -&gt; Return to Wait</p>
<p>特殊的 Event：</p>
<ul>
<li>System Call - 会导致Trap -&gt; System Call Handler<ul>
<li>发生于User Mode下需要执行Privileged Instructions的情况<ul>
<li>e.g., to create a process, write to disk, read from the network card</li>
<li>每种ISA都有自己的System Call</li>
<li><img alt="" src="../notes/ComputerScience/assets/Sys6.png" /></li>
<li>为什么<code>printf</code>需要SysCall <code>libc_write</code>？<ul>
<li>打印到终端这种Device I/O需要 Kernel Mode (Privileged Instructions)</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>Timer Interrupt - 会导致Regularly Interrupt -&gt; Timer Interrupt Handler</li>
</ul>
<p><img alt="" src="../notes/ComputerScience/assets/Sys5.png" /></p>
<h3 id="notes-computerscience-computersystem2-system-call">System Call 系统调用（重点）<a class="headerlink" href="#notes-computerscience-computersystem2-system-call" title="Permanent link">&para;</a></h3>
<p>System Call 是<strong>操作系统</strong>提供给<strong>用户程序</strong>的<strong>接口</strong>（interface），用于访问操作系统的服务。</p>
<p>每个 Syscall 有自己的 Syscall Number，通过这个 Number 来调用 Syscall，这个 Number 就是 Syscall Table 的索引，OS 对具体的 Syscall 不感兴趣，只根据 Number 跳到 Kernel 中对应的 Handler。</p>
<div class="admonition note">
<p class="admonition-title">可能的考点（来自复习课）</p>
<ul>
<li>System Call 中是否存在 Context Switch？<ul>
<li>存在。</li>
</ul>
</li>
<li>Kernel Stack 和 User Stack 的区别？<ul>
<li>Kernel Stack 大小固定，还含有 PCB 的指针信息</li>
</ul>
</li>
</ul>
</div>
<p><code>strace</code>可以查看程序的System Call。</p>
<p><a href="https://www.cnblogs.com/machangwei-8/p/10388883.html">https://www.cnblogs.com/machangwei-8/p/10388883.html</a></p>
<p>SysCall的类型：</p>
<ul>
<li>
<p>Process control</p>
<ul>
<li>create process, terminate process</li>
<li>end, abort</li>
<li>load, execute</li>
<li>get process attributes, set process attributes</li>
<li>wait for time</li>
<li>wait event, signal event</li>
<li>allocate and free memory</li>
<li>Dump memory if error</li>
<li>Debuggerfor determining bugs, single step execution</li>
<li>Locks for managing access to shared data between processes</li>
</ul>
</li>
<li>
<p>File management</p>
<ul>
<li>create file, delete fileopen, close fileread, write, reposition</li>
<li>get and set file attributes</li>
</ul>
</li>
<li>
<p>Device management</p>
<ul>
<li>request device, release device</li>
<li>read, write, repositionget device attributes, set device attributes</li>
<li>logically attach or detach devices</li>
</ul>
</li>
<li>
<p>Information maintenance</p>
<ul>
<li>get time or date, set time or date</li>
<li>get system data, set system data</li>
<li>get and set process, file, or device attributes</li>
</ul>
</li>
<li>
<p>Communications</p>
<ul>
<li>create, delete communication connection</li>
<li>send, receive messages if message passing model to host nameor process name<ul>
<li>From client to server</li>
</ul>
</li>
<li>Shared-memory model create and gain access to memory regions</li>
<li>transfer status information</li>
<li>attach and detach remote devices</li>
</ul>
</li>
<li>
<p>Protection</p>
<ul>
<li>Control access to resources</li>
<li>Get and set permissions</li>
<li>Allow and deny user access</li>
</ul>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">可能的考点（来自复习课）</p>
<ul>
<li><code>kernel_entry</code> 在 Syscall 时被调用，用于保存 User Space 的寄存器信息</li>
<li><code>ret_to_user</code> 在 Syscall 结束时被调用，用于恢复 User Space 的寄存器信息，把控制流交还给 User Space</li>
</ul>
</div>
<h3 id="notes-computerscience-computersystem2-system-service">System Service 系统服务<a class="headerlink" href="#notes-computerscience-computersystem2-system-service" title="Permanent link">&para;</a></h3>
<div class="admonition note">
<p class="admonition-title">可能的考点（来自复习课）</p>
<ul>
<li>动态链接和静态链接的区别和优劣？<ul>
<li>静态链接：所有的库都被打包进可执行文件，文件较大</li>
<li>动态链接：只有一个 loader，运行时运行<code>ld.so</code>，解析符号表，加载库，文件较小</li>
</ul>
</li>
</ul>
</div>
<h2 id="notes-computerscience-computersystem2-process">Process 进程<a class="headerlink" href="#notes-computerscience-computersystem2-process" title="Permanent link">&para;</a></h2>
<p>进程是一个正在执行的程序的实例，例如说一个ELF加载到内存中，开始执行。</p>
<blockquote>
<p>a unit of resource allocation and protection</p>
</blockquote>
<p>对于同一个Program的不同Process，它们的</p>
<ul>
<li>.text段是相同的（Size &amp; Content）</li>
<li>.data段的Size是相同的，但Content可能不同</li>
<li>Stack和Heap两者都不同</li>
</ul>
<div class="admonition note">
<p class="admonition-title">可能的考点（来自复习课）</p>
<ul>
<li>进程是 a unit of resource allocation and protection</li>
<li>线程是 a unit of execution</li>
</ul>
</div>
<h3 id="notes-computerscience-computersystem2-process-control-block-pcb">Process Control Block 进程控制块 PCB（重点）<a class="headerlink" href="#notes-computerscience-computersystem2-process-control-block-pcb" title="Permanent link">&para;</a></h3>
<p>也称为Task Control Block，是操作系统用来管理进程的数据结构，存储每个进程的信息。</p>
<ul>
<li>每个进程有且仅有一个PCB。</li>
<li>在新进程创建时，OS会为其分配一个PCB</li>
<li>
<p>在进程终止时，OS会回收PCB</p>
</li>
<li>
<p>存储这些 Process 的 META data：</p>
</li>
<li>Process State - Running, waiting, ready, etc.</li>
<li>Program Counter - Address of next instruction</li>
<li>CPU Registers - Values of all process-centric registers</li>
<li>Blah blah blah...</li>
<li><img alt="" src="../notes/ComputerScience/assets/Sys10.png" /></li>
</ul>
<p>On Linux: PCB is <code>task_struct</code></p>
<h3 id="notes-computerscience-computersystem2-process-state">Process State 进程状态<a class="headerlink" href="#notes-computerscience-computersystem2-process-state" title="Permanent link">&para;</a></h3>
<p>As a process executes, it changes state. The state of a process is defined in part by the current activity of that process.</p>
<ul>
<li>New: The process is being created.</li>
<li>Running: Instructions are being executed.</li>
<li>Waiting: The process is waiting for some event to occur.</li>
<li>Ready: The process is waiting to be assigned to a processor.</li>
<li>Terminated: The process has finished execution.</li>
<li><img alt="" src="../notes/ComputerScience/assets/Sys11.png" /></li>
</ul>
<h3 id="notes-computerscience-computersystem2-process-creation">Process Creation 进程创建<a class="headerlink" href="#notes-computerscience-computersystem2-process-creation" title="Permanent link">&para;</a></h3>
<p>一个进程可能会产生多个进程，于是形成一个进程树，ppid是某节点父进程的pid。</p>
<p><code>fork()</code>是一个SysCall，用于创建一个新的进程，新进程是调用进程的副本（各状态初始完全一致地复制过去），但是有不同的pid，Resource Utilization初始化为0。</p>
<ul>
<li>返回给父进程的是新进程的pid</li>
<li>返回给子进程的是0</li>
</ul>
<div class="admonition note">
<p class="admonition-title">可能的考点（来自复习课）</p>
<ul>
<li>为什么<code>fork()</code>可以返回两个值？<ul>
<li>这是其拷贝了两份 User Space Context</li>
</ul>
</li>
</ul>
</div>
<details class="info" open="open">
<summary>Quiz</summary>
<p>下面这张图里，每次<code>fork()</code>会给当前每个进程都创建一个子进程，所以第一次<code>fork()</code>后有两个进程，第二次<code>fork()</code>后有四个进程。<br />
<img alt="" src="../notes/ComputerScience/assets/Sys13.png" />
<img alt="" src="../notes/ComputerScience/assets/Sys12.png" /></p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#notes-computerscience-computersystem2-__codelineno-5-1"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">arg</span><span class="p">[]){</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#notes-computerscience-computersystem2-__codelineno-5-2"></a><span class="w">        </span><span class="n">fork</span><span class="p">();</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#notes-computerscience-computersystem2-__codelineno-5-3"></a><span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">fork</span><span class="p">())</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#notes-computerscience-computersystem2-__codelineno-5-4"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#notes-computerscience-computersystem2-__codelineno-5-5"></a><span class="w">            </span><span class="n">fork</span><span class="p">();</span>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#notes-computerscience-computersystem2-__codelineno-5-6"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#notes-computerscience-computersystem2-__codelineno-5-7"></a><span class="w">        </span><span class="n">fork</span><span class="p">();</span>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#notes-computerscience-computersystem2-__codelineno-5-8"></a>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#notes-computerscience-computersystem2-__codelineno-5-9"></a><span class="w">    </span><span class="p">}</span>
</code></pre></div>
上面这段代码会产生多少个进程？ ——12个</p>
<ul>
<li>(1) 第一行<code>fork()</code>后，有两个进程（Original进程和它fork出来的子进程）</li>
<li>(2) 第二行在if后括号中的<code>fork()</code>后，有四个进程</li>
<li>(3) 并且对 (1) 中两个进程，返回1，对 (2) 中新出现的两个进程，返回0</li>
<li>因此 (1) 中两个进程进入if(){}, (2) 中两个进程<strong>不进入</strong>if(){}</li>
<li>在条件语句中的<code>fork()</code>后，新出现两个进程，目前共6个进程</li>
<li>最后的<code>fork()</code>所有进程都会执行，所以最后有12个进程</li>
</ul>
</details>
<h4 id="notes-computerscience-computersystem2-exec">exec*()<a class="headerlink" href="#notes-computerscience-computersystem2-exec" title="Permanent link">&para;</a></h4>
<p><code>execve()</code>是一个SysCall，v stands for <code>argv</code>（命令行参数），e stands for <code>envp</code>（环境变量）。</p>
<ul>
<li>其余的<code>exec*()</code>函数类似，但不是SysCall</li>
<li><code>exec*()</code> replaces the current process image with a new process image</li>
<li><img alt="" src="../notes/ComputerScience/assets/Sys14.png" /></li>
<li><code>exec*</code>后，若执行成功，原进程的ELF会被替换，原进程<strong>直接终止</strong>，也没有返回值；若没有执行成功，则返回报错信息，原进程<strong>继续执行</strong>。</li>
</ul>
<h3 id="notes-computerscience-computersystem2-process-termination">Process Termination<a class="headerlink" href="#notes-computerscience-computersystem2-process-termination" title="Permanent link">&para;</a></h3>
<h4 id="notes-computerscience-computersystem2-wait">wait()<a class="headerlink" href="#notes-computerscience-computersystem2-wait" title="Permanent link">&para;</a></h4>
<p><img alt="" src="../notes/ComputerScience/assets/Sys15.png" /></p>
<h4 id="notes-computerscience-computersystem2-exit">exit()<a class="headerlink" href="#notes-computerscience-computersystem2-exit" title="Permanent link">&para;</a></h4>
<p>一个进程通过<code>exit()</code>的SysCall来终止自己，接收一个参数（exit/return code）</p>
<ul>
<li>进程终止后，进程占用的资源会被回收</li>
</ul>
<h3 id="notes-computerscience-computersystem2-signals">Signals 信号<a class="headerlink" href="#notes-computerscience-computersystem2-signals" title="Permanent link">&para;</a></h3>
<p>进程可以通过信号来通知其他进程，也可以接收信号，例如说Ctrl+C实则是发送了一个SIGINT信号。</p>
<ul>
<li>异步事件，程序必须处理</li>
<li>SIGKILL和SIGSTOP不能被捕获或忽略（for security reasons）<ul>
<li>总能Kill进程</li>
</ul>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">demo: kill a infinite loop with SIGINT forbidden</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#notes-computerscience-computersystem2-__codelineno-6-1"></a><span class="w">    </span><span class="cp">#include</span><span class="cpf">&lt;signal.h&gt;</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#notes-computerscience-computersystem2-__codelineno-6-2"></a><span class="w">    </span><span class="cp">#include</span><span class="cpf">&lt;stdio.h&gt;</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#notes-computerscience-computersystem2-__codelineno-6-3"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">handler</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">sig</span><span class="p">){</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#notes-computerscience-computersystem2-__codelineno-6-4"></a><span class="w">        </span><span class="n">fprintf</span><span class="p">(</span><span class="n">stdout</span><span class="p">,</span><span class="err">”</span><span class="n">I</span><span class="w"> </span><span class="n">don</span><span class="err">’</span><span class="n">t</span><span class="w"> </span><span class="n">want</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">die</span><span class="o">!</span><span class="err">\</span><span class="n">n</span><span class="err">”</span><span class="p">);</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#notes-computerscience-computersystem2-__codelineno-6-5"></a><span class="w">        </span><span class="k">return</span><span class="p">;</span>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#notes-computerscience-computersystem2-__codelineno-6-6"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#notes-computerscience-computersystem2-__codelineno-6-7"></a><span class="w">    </span><span class="n">main</span><span class="p">(){</span>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#notes-computerscience-computersystem2-__codelineno-6-8"></a><span class="w">        </span><span class="n">signal</span><span class="p">(</span><span class="n">SIGINT</span><span class="p">,</span><span class="w"> </span><span class="n">handler</span><span class="p">);</span>
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#notes-computerscience-computersystem2-__codelineno-6-9"></a><span class="w">        </span><span class="k">while</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span><span class="c1">// infinite loop</span>
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#notes-computerscience-computersystem2-__codelineno-6-10"></a><span class="w">    </span><span class="p">}</span>
</code></pre></div>
</div>
<h3 id="notes-computerscience-computersystem2-zombie-process">Zombie Process 僵尸进程<a class="headerlink" href="#notes-computerscience-computersystem2-zombie-process" title="Permanent link">&para;</a></h3>
<p>子进程死亡后，它的父进程会接收到通知去执行一些清理操作，如释放内存之类。然而，若父进程并未察觉到子进程死亡（<strong>没有回收其PCB</strong>），子进程就会进入到“ 僵尸(zombie)”状态。从父进程角度看，子进程仍然存在，即使子进程实际上已经死亡。</p>
<p>Zombie 会占用其 PCB，不会占用CPU，但会占用内存。</p>
<p>A zombie lingers on until:</p>
<ul>
<li>its parent has handled SIGCHLD (which calls wait() for the child), or</li>
<li>its parent dies</li>
</ul>
<p><img alt="" src="../notes/ComputerScience/assets/Sys16.png" /></p>
<h3 id="notes-computerscience-computersystem2-orphan-process">Orphan Process 孤儿进程<a class="headerlink" href="#notes-computerscience-computersystem2-orphan-process" title="Permanent link">&para;</a></h3>
<p>父进程运行结束，但子进程还在运行（未运行结束）的子进程就称为孤儿进程（Orphan Process）。孤儿进程最终会被 init 进程（pid 为 1）所收养，并由 init 进程对它们完成状态收集工作。</p>
<p>孤儿进程是没有父进程的进程，为避免孤儿进程退出时无法释放所占用的资源而变为僵尸进程，进程号为 1 的 init 进程将会接受这些孤儿进程，这一过程也被称为“收养”。init 进程就好像是一个孤儿院，专门负责处理孤儿进程的善后工作。每当出现一个孤儿进程的时候，内核就把孤儿进程的父进程设置为 init ，而 init 进程会循环地 wait() 它的已经退出的子进程。这样，当一个孤儿进程凄凉地结束了其生命周期的时候，init 进程就会出面处理它的一切善后工作。因此孤儿进程并不会有什么危害。</p>
<blockquote>
<p>When a child exits, a SIGCHLD signal is sent to the parent.</p>
</blockquote>
<p>init process handles child termination with a handler for SIGCHLD that calls wait().</p>
<h3 id="notes-computerscience-computersystem2-process-scheduling">Process Scheduling 进程调度<a class="headerlink" href="#notes-computerscience-computersystem2-process-scheduling" title="Permanent link">&para;</a></h3>
<p>为了使CPU迅速地切换到下一个进程，<strong>Process scheduler</strong> 在 Ready 的进程中选择下一个在 Core 上运行的进程。</p>
<p>维护两个 Scheduling Queue：</p>
<ul>
<li>
<p>Ready queue</p>
<ul>
<li>set of all processes residing in main memory, ready and waiting to execute</li>
</ul>
</li>
<li>
<p>Wait queues</p>
<ul>
<li>set of processes waiting for an event (i.e. I/O)</li>
</ul>
</li>
<li>
<p>进程在不同的 Queue 中频繁 Transfer，因此需要用 List 实现。</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#notes-computerscience-computersystem2-__codelineno-7-1"></a><span class="k">struct</span><span class="w"> </span><span class="nc">list_head</span><span class="p">{</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#notes-computerscience-computersystem2-__codelineno-7-2"></a><span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">list_head</span><span class="w"> </span><span class="o">*</span><span class="n">next</span><span class="p">,</span><span class="o">*</span><span class="n">prev</span><span class="p">;</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#notes-computerscience-computersystem2-__codelineno-7-3"></a><span class="p">};</span>
</code></pre></div>
<p><img alt="" src="../notes/ComputerScience/assets/Sys17.png" /></p>
<h4 id="notes-computerscience-computersystem2-context-switch">Context Switch 上下文切换（重点）<a class="headerlink" href="#notes-computerscience-computersystem2-context-switch" title="Permanent link">&para;</a></h4>
<blockquote>
<p>由于在处理 trap 时，有可能会改变系统的状态。所以在真正处理 trap 之前，我们有必要对系统的当前状态进行保存，在处理完成之后，我们再将系统恢复至原先的状态，就可以确保之前的程序继续正常运行。这里的系统状态通常是指寄存器，这些寄存器也叫做 CPU 的上下文（context）。<br />
ZJU-SYS2-FA24</p>
</blockquote>
<p>当CPU从一个进程（实则是线程Thread）切换到另一个进程时，需要保存当前进程的状态，并加载新进程的已保存的状态，这就是上下文切换。</p>
<ul>
<li>Context of a process is represented in the PCB</li>
<li>Switch 时，System 本身并不进行什么操作</li>
</ul>
<ol>
<li>
<p>在两个Kernel线程中的上下文切换</p>
<ul>
<li>寄存器在什么时候/哪里保存？</li>
<li>where: 保存在PCB中，即<code>cpu_context</code></li>
<li>when: 在<code>context_switch()</code>中，即在<code>cpu_switch_to()</code>中</li>
</ul>
</li>
<li>
<p>在两个用户线程中的上下文切换</p>
<ul>
<li>令人感叹的是，上下文切换<strong>必须</strong>在内核态中进行</li>
<li>User context 在什么时候/哪里保存？</li>
<li>when: kernel_entry; where: 每个线程（per thread）的 kernel stack 中，确切说是<code>pt_regs</code>结构体内</li>
<li>Kernel context 在什么时候/哪里保存？</li>
<li>when: <code>cpu_switch_to()</code>; where: <code>cpu_context</code></li>
<li><img alt="Switch1" src="../notes/ComputerScience/assets/Sys29.png" /></li>
<li>下面是一个俩 User 线程的上下文切换的例子</li>
<li><img alt="" src="../notes/ComputerScience/assets/Sys18.png" /></li>
</ul>
</li>
</ol>
<h3 id="notes-computerscience-computersystem2-cpu-scheduling-cpu">CPU Scheduling CPU调度<a class="headerlink" href="#notes-computerscience-computersystem2-cpu-scheduling-cpu" title="Permanent link">&para;</a></h3>
<ul>
<li>定义：操作系统决定哪个进程在CPU上运行，要运行多久</li>
<li>使用 dispatcher 进行切换<ul>
<li>A component of the OS that’s used to switch between processes</li>
</ul>
</li>
</ul>
<h4 id="notes-computerscience-computersystem2-io-burst-and-cpu-burst">IO burst and CPU burst<a class="headerlink" href="#notes-computerscience-computersystem2-io-burst-and-cpu-burst" title="Permanent link">&para;</a></h4>
<p>大多数进程的执行时间是由CPU burst和IO burst交替组成的。</p>
<p>因此进程可以分为两类：</p>
<ul>
<li>
<p>IO bound 进程</p>
<ul>
<li>大多数时间等待IO</li>
<li>包含许多短小的CPU burst</li>
<li>e.g. /bin/cp</li>
</ul>
</li>
<li>
<p>CPU bound 进程</p>
<ul>
<li>大多数时间在CPU上运行</li>
<li>IO burst很短很短（如果有的话）</li>
<li>e.g. /bin/gcc</li>
</ul>
</li>
</ul>
<h4 id="notes-computerscience-computersystem2-cpu-scheduler-cpu">CPU Scheduler CPU调度器<a class="headerlink" href="#notes-computerscience-computersystem2-cpu-scheduler-cpu" title="Permanent link">&para;</a></h4>
<p>操作系统跟踪进程的状态，在 CPU 空闲时选择下一个进程运行。</p>
<p>调度可分为两类</p>
<ul>
<li>
<p>Preemptive Scheduling（可抢占式调度）</p>
<ul>
<li>进程即使在正常执行时，也可以被抢占</li>
<li>Easy for CPU to handle, most of modern choices.</li>
</ul>
</li>
<li>
<p>Non-preemptive Scheduling（非抢占式调度）</p>
<ul>
<li>进程只能在执行完毕或者等待IO时才能被抢占（hold CPU until it's willing to give it up）</li>
</ul>
</li>
</ul>
<p>那么调度发生在什么时候？</p>
<p><img alt="" src="../notes/ComputerScience/assets/Sys19.png" /></p>
<h4 id="notes-computerscience-computersystem2-scheduling-objectives">Scheduling Objectives 调度的目标<a class="headerlink" href="#notes-computerscience-computersystem2-scheduling-objectives" title="Permanent link">&para;</a></h4>
<ul>
<li>最大化 CPU 利用率</li>
<li>最大化吞吐量</li>
<li>最小化等待时间</li>
<li>
<p>最小化周转时间（Turnaround time）</p>
<ul>
<li>Time from process creation to completion</li>
</ul>
</li>
<li>
<p>最小化响应时间</p>
<ul>
<li>Time from process creation to first response</li>
</ul>
</li>
</ul>
<h3 id="notes-computerscience-computersystem2-process-scheduling_1">Process Scheduling 进程调度<a class="headerlink" href="#notes-computerscience-computersystem2-process-scheduling_1" title="Permanent link">&para;</a></h3>
<p>为了使CPU迅速地切换到下一个进程，<strong>Process scheduler</strong> 在 Ready 的进程中选择下一个在 Core 上运行的进程。</p>
<p>维护两个 Scheduling Queue：</p>
<ul>
<li>
<p>Ready queue</p>
<ul>
<li>set of all processes residing in main memory, ready and waiting to execute</li>
</ul>
</li>
<li>
<p>Wait queues</p>
<ul>
<li>set of processes waiting for an event (i.e. I/O)</li>
</ul>
</li>
<li>
<p>进程在不同的 Queue 中频繁 Transfer，因此需要用 List 实现。</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#notes-computerscience-computersystem2-__codelineno-8-1"></a><span class="k">struct</span><span class="w"> </span><span class="nc">list_head</span><span class="p">{</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#notes-computerscience-computersystem2-__codelineno-8-2"></a><span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">list_head</span><span class="w"> </span><span class="o">*</span><span class="n">next</span><span class="p">,</span><span class="o">*</span><span class="n">prev</span><span class="p">;</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#notes-computerscience-computersystem2-__codelineno-8-3"></a><span class="p">};</span>
</code></pre></div>
<p><img alt="" src="../notes/ComputerScience/assets/Sys17.png" /></p>
<h4 id="notes-computerscience-computersystem2-dispatcher">Dispatcher<a class="headerlink" href="#notes-computerscience-computersystem2-dispatcher" title="Permanent link">&para;</a></h4>
<p>Dispatcher 把CPU的选择交给被 Scheduler 选中的进程，包括切换至Kernel态，保存当前进程的PCB，加载新进程的PCB。</p>
<ul>
<li>Dispatch Latency: Time it takes for the dispatcher to stop one process and start another running</li>
</ul>
<h4 id="notes-computerscience-computersystem2-scheduling-criteria">Scheduling Criteria 调度标准<a class="headerlink" href="#notes-computerscience-computersystem2-scheduling-criteria" title="Permanent link">&para;</a></h4>
<ul>
<li>CPU Utilization</li>
<li>Throughput</li>
<li>Turnaround Time: <strong>Finsh Time - Arrival Time</strong></li>
<li>Waiting Time: <strong>Start Time - Arrival Time</strong></li>
<li>Response Time</li>
</ul>
<h4 id="notes-computerscience-computersystem2-scheduling-algorithms">Scheduling Algorithms 调度算法（重点！）<a class="headerlink" href="#notes-computerscience-computersystem2-scheduling-algorithms" title="Permanent link">&para;</a></h4>
<ul>
<li>FCFS (First-Come, First-Served)</li>
<li>SJF (Shortest Job First)</li>
<li>Round Robin</li>
<li>Priority Scheduling</li>
<li>Multilevel Queue Scheduling</li>
<li>Multilevel Feedback Queue Scheduling</li>
</ul>
<p>这里要画图了！注意 Burst Time 可看作执行时间。</p>
<details class="info">
<summary>FCFS</summary>
<ul>
<li>First-Come, First-Served</li>
<li>Non-preemptive</li>
<li>Easy to understand and implement</li>
<li>Poor in performance: 长进程会导致短进程等待时间过长</li>
<li>Burst Time: P1: 24, P2: 3, P3: 3，这里展示一下以<code>123</code>的顺序执行的情况，会发现比<code>321</code>的情况要差很多</li>
<li><img alt="" src="../notes/ComputerScience/assets/Sys20.png" /></li>
</ul>
</details>
<details class="info">
<summary>SJF</summary>
<ul>
<li>理论上的最佳方案</li>
<li>可分为两类：Non-preemptive SJF, Preemptive SJF<ul>
<li>Non-preemptive SJF<ul>
<li>选择最短的 <strong>总的</strong> Burst 时间</li>
<li><img alt="" src="../notes/ComputerScience/assets/Sys21.png" /></li>
</ul>
</li>
<li>Preemptime SJF<ul>
<li>选择最短的 <strong>剩余 Burst 时间</strong></li>
<li><img alt="" src="../notes/ComputerScience/assets/Sys22.png" /></li>
<li>这里 turnaround time 是一样的，还是完成时间减去 Arrival Time；对于 Waitng Time，会出现图里 P1 P2 这种分段执行的，这时 Waiting Time 就要分成两部分：从 Arrive 到第一次执行的时间间隔，再加上每次执行的结束时间到下次执行的开始时间的间隔 </li>
<li>但是很难知道每个进程的 Burst Time</li>
<li>可以通过已发生过的 CPU Burst 预测</li>
</ul>
</li>
</ul>
</li>
</ul>
</details>
<details class="info">
<summary>Round Robin</summary>
<ul>
<li>
<p>Preemptive</p>
</li>
<li>
<p>定义一个时间片（Time Quantum）：作为每个进程每次持续的最长时间</p>
</li>
<li>
<p>除非只剩下一个 READY 进程，否则，一个进程最多执行一个时间片长度后就得把 CPU 使用权交给另一个 READY 进程。</p>
</li>
<li>
<p>Ready Queue 是 First-IN-First-OUT</p>
</li>
<li>
<p>Scheduling:</p>
<ul>
<li>
<p>从 Ready Queue 中选出第一个进程</p>
</li>
<li>
<p>设置计时器，在一个时间片长度后中断进程</p>
</li>
<li>
<p>Dispatch 该进程</p>
</li>
</ul>
</li>
<li>
<p><img alt="" src="../notes/ComputerScience/assets/Sys25.png" />      </p>
</li>
<li>
<p>因此对时间片的选取很重要：长 or 短？</p>
<ul>
<li>
<p>短时间片</p>
<ul>
<li>响应时间/互动率很好！但是额外开销太大了：因为 Dispatch 时 Context Switch 太多太耗时。</li>
</ul>
</li>
<li>
<p>长时间片</p>
<ul>
<li>响应时间很差，额外开支变少了：时间片很长很长时就变成 FCFS 型了</li>
</ul>
</li>
</ul>
</li>
</ul>
</details>
<details class="info">
<summary>Priority Scheduling</summary>
<ul>
<li>Non-Preemptive or Preemptive</li>
<li>为每个进程定义一个优先级（一个数字）<ul>
<li>也即把 Ready Queue 利用为一个优先队列</li>
</ul>
</li>
<li>优先级高的（一般是数字小的）先执行</li>
<li>其实优先级取“预测的下一次 Burst TIme”时就是SJF</li>
<li><img alt="" src="../notes/ComputerScience/assets/Sys23.png" />      </li>
<li>来看一个优先级调度和 Round Robin 的综合<ul>
<li><img alt="" src="../notes/ComputerScience/assets/Sys24.png" /></li>
</ul>
</li>
<li>Problem：低优先级的进程总会被抢占，几乎永不执行（Starvation）<ul>
<li>Solution：Increase the priority of a process as it <strong>ages</strong>.</li>
</ul>
</li>
</ul>
</details>
<details class="info">
<summary>Multilevel Queue</summary>
<ul>
<li>
<p>ready queue 被分成多个队列</p>
</li>
<li>
<p>比如分成交互性队列和批处理队列</p>
</li>
<li>
<p>一个进程会被永久地分到一个队列中</p>
</li>
<li>
<p>每个队列可以使用不同的 Scheduling Algorithm</p>
</li>
<li>
<p>例如，高交互性的进程队列可以使用 RR 算法，低交互的批处理队列可以使用 FCFS 算法</p>
</li>
<li>
<p>队列之间也可以进行调度</p>
</li>
</ul>
</details>
<details class="info">
<summary>Multilevel Feedback Queues</summary>
<p>类似 Multilevel Queue，但是进程可以在不同队列之间移动。</p>
<p>给交互性、I/O intensive 的进程更高的调度优先级</p>
<p>最最常见的调度算法</p>
</details>
<h2 id="notes-computerscience-computersystem2-ipcinter-process-communication">IPC(Inter-Process Communication) 进程间通信<a class="headerlink" href="#notes-computerscience-computersystem2-ipcinter-process-communication" title="Permanent link">&para;</a></h2>
<p>进程间通信是指两个或多个进程之间交换信息的机制。</p>
<p>进程可以通过通信进行”合作“，例如说文件这类信息在不同进程中的共享，或者说对同一个任务的 Multi-processing。</p>
<div class="admonition example">
<p class="admonition-title">Chrome Browser</p>
<p>Chrome浏览器使用进程隔离，每个标签页都是一个进程，这样一个标签页崩溃不会影响其他标签页。</p>
<ul>
<li>Browser Process: 管理所有的标签页，UI，硬盘和网络的IO</li>
<li>Renderer Process: 每个标签页一个进程，负责渲染页面，读取HTML &amp; CSS，加载JS。</li>
<li>在一个沙盒里运行，限制了对系统的访问</li>
<li>Plugin Process: 每个插件一个进程，如Flash Player</li>
</ul>
</div>
<h3 id="notes-computerscience-computersystem2-models-of-ipc">Models of IPC 进程间通信模型<a class="headerlink" href="#notes-computerscience-computersystem2-models-of-ipc" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>共享内存（Shared Memory）</p>
<ul>
<li><img alt="" src="../notes/ComputerScience/assets/Sys26.png" /></li>
<li>low-overhead: almost no SysCall</li>
<li>One process creates a shared memory segment</li>
<li>Processes can then “attach” it to their address spaces</li>
<li>两个进程单独地访问共享内存</li>
</ul>
</li>
<li>
<p>Message Passing</p>
<ul>
<li><img alt="" src="../notes/ComputerScience/assets/Sys27.png" /></li>
<li>high-overhead: 需要通过System Call进入Kernel态获取Message</li>
<li>每次的Message很小</li>
<li>创造一个邮筒（Mailbox），通过邮筒发送与接收消息，摧毁邮筒</li>
<li>
<p>Blocking or Non-blocking</p>
<ul>
<li>Blocking(同步)：发送者在信息被接收前一直Block，接收者在信息到达前一直Block</li>
<li>Non-blocking(异步)：发送者持续发消息，接收者接收一条有效信息或者空消息</li>
</ul>
</li>
<li>
<p>这里有一个 Buffering 的概念：</p>
<ul>
<li>Queue of messages attached to the link.</li>
<li>
<p>Implemented in one of three ways</p>
<ol>
<li>Zero capacity – no messages are queued on a link.<br />
   Sender must wait for receiver</li>
<li>Bounded capacity – finite length of n messages<br />
   Sender must wait if link full</li>
<li>Unbounded capacity – infinite length<br />
   Sender never waits</li>
</ol>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Pipe</p>
<ul>
<li>Ordinary Pipe<ul>
<li>一个进程写，一个进程读</li>
<li>一般是父子进程间通信</li>
<li>进程外无法访问</li>
<li>进程产生者写到<code>fd[1]</code>的 write-end，进程产生者读取<code>fd[0]</code>的 read-end</li>
<li>因此是单向的</li>
<li>On Windows: Anonymous Pipe</li>
</ul>
</li>
<li>Named Pipe<ul>
<li>两个进程之间通信</li>
<li>通过文件系统</li>
<li>双向</li>
<li>有名管道是一种特殊类型的文件，它允许无关的进程之间进行通信</li>
<li>与无名管道不同，有名管道有一个路径名与之关联，以<code>mkfifo()</code>创建</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="notes-computerscience-computersystem2-thread">Thread 线程<a class="headerlink" href="#notes-computerscience-computersystem2-thread" title="Permanent link">&para;</a></h2>
<h3 id="notes-computerscience-computersystem2-process-vs-thread-vs">Process vs Thread 进程 vs 线程<a class="headerlink" href="#notes-computerscience-computersystem2-process-vs-thread-vs" title="Permanent link">&para;</a></h3>
<p>线程是进程的一个 Execution Unit，一个进程可以包含多个线程。每个线程有自己的 Stack 和 PC, Regs，但是共享 Data Section、Heap 和 Code Section。</p>
<p><strong>简单来说，线程是执行单元，进程是资源管理单元</strong></p>
<p><img alt="" src="../notes/ComputerScience/assets/Sys28.png" /></p>
<ul>
<li>Single-threaded Process<ul>
<li>一个进程只有一个线程</li>
</ul>
</li>
<li>Multi-threaded Process<ul>
<li>一个进程有多个线程</li>
</ul>
</li>
</ul>
<p>使用线程的优势：</p>
<ul>
<li>Economical<ul>
<li>创建线程比创建进程开销更少（Code Section、Data Section、Heap 已经被加载）</li>
</ul>
</li>
<li>Resource Sharing<ul>
<li>线程本身就是共享资源的</li>
<li>No more need for IPC</li>
</ul>
</li>
<li>Responsiveness</li>
<li>Scalability<ul>
<li>一个进程中的多个线程可以并行执行，提高效率</li>
</ul>
</li>
</ul>
<p>劣势：</p>
<ul>
<li>隔离性（isolation）差<ul>
<li>一个线程崩溃会导致<strong>整个进程</strong>崩溃</li>
<li>很难知道是哪个线程出了问题</li>
</ul>
</li>
</ul>
<h3 id="notes-computerscience-computersystem2-thread-model">Thread Model 线程模型<a class="headerlink" href="#notes-computerscience-computersystem2-thread-model" title="Permanent link">&para;</a></h3>
<ul>
<li>Many-to-one<ul>
<li>多个User Thread映射到一个Kernel Thread</li>
<li>无法很好利用多核架构</li>
<li>一个User Thread阻塞会导致整个进程阻塞</li>
</ul>
</li>
<li>One-to-one<ul>
<li>一个User Thread映射到一个Kernel Thread</li>
<li>Create a new user thread requires work from kernel</li>
<li>开销大</li>
</ul>
</li>
<li>Many-to-many<ul>
<li>多个User Thread映射到多个Kernel Thread</li>
<li>如果一个User Thread阻塞，Kernel 创造出一个新的 Kernel Thread，避免整个进程阻塞</li>
</ul>
</li>
<li>Two-level<ul>
<li>可多对多，可一对一</li>
</ul>
</li>
</ul>
<h3 id="notes-computerscience-computersystem2-thread-library">Thread Library 线程库<a class="headerlink" href="#notes-computerscience-computersystem2-thread-library" title="Permanent link">&para;</a></h3>
<p>Some demos</p>
<h3 id="notes-computerscience-computersystem2-linux-thread">Linux Thread<a class="headerlink" href="#notes-computerscience-computersystem2-linux-thread" title="Permanent link">&para;</a></h3>
<p>使用 <code>clone()</code> 的 SysCall 来创建线程。有如下 flag 可选</p>
<ul>
<li><code>CLONE_VM</code>: 共享内存空间</li>
<li><code>CLONE_FS</code>: 共享文件系统信息</li>
<li><code>CLONE_FILES</code>: 共享文件描述符</li>
<li><code>CLONE_SIGHAND</code>: 共享信号处理程序</li>
</ul>
<p>与此同时，Linux 下 <code>task_struct</code> 存储的是<strong>线程</strong>的 TCB，进程的 PCB 是 <strong>Leader Thread</strong> 的 TCB。（不存在 PCB 了）</p>
<p>同时一个 Process 可由单个线程+一个地址组成，也可以是多个线程+一个地址。</p>
<h3 id="notes-computerscience-computersystem2-thread-mapping">Thread Mapping 线程映射<a class="headerlink" href="#notes-computerscience-computersystem2-thread-mapping" title="Permanent link">&para;</a></h3>
<p>一个 Task 可以在 User Mode 下执行线程，此时使用 User Code &amp; User Stack，也可以在 Kernel Mode 下执行（例如调用个 Syscall），使用 Kernel Code &amp; Kernel Stack</p>
<details class="example" open="open">
<summary>eg</summary>
<p>执行 <code>printf()</code> 时，会调用 <code>write()</code>，<code>write()</code> 是一个 SysCall，因此会进入 Kernel Mode，此时会切换到 Kernel Stack，Kernel Code。
- User code: printf(...)
- Kernel code: write(...)</p>
</details>
<h2 id="notes-computerscience-computersystem2-synchronization">Synchronization 同步<a class="headerlink" href="#notes-computerscience-computersystem2-synchronization" title="Permanent link">&para;</a></h2>
<div class="admonition example">
<p class="admonition-title">Race Condition</p>
<p>由于 Thread A B 运行的 <code>counter = counter+1</code> 实则是多行指令（寄存器内加1，写回寄存器），因此在 Thread A 读完运算完还没有写回的时候，被 Interrupt，转为 Thread B，Thread B 读取时，读到的是初始的 <code>counter</code> 值，运算后再写回，再由 Thread A 写回，得到的 <code>counter</code> 就只加了1.</p>
<div class="admonition success">
<p class="admonition-title">解决方案</p>
<p>Critical Section: 一段“<strong>原子性</strong>”的代码，同一时间段只能有一个线程在运行。
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#notes-computerscience-computersystem2-__codelineno-9-1"></a><span class="k">while</span><span class="p">(</span><span class="mi">1</span><span class="p">){</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#notes-computerscience-computersystem2-__codelineno-9-2"></a><span class="w">    </span><span class="n">entry_section</span><span class="p">()</span><span class="w">  </span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#notes-computerscience-computersystem2-__codelineno-9-3"></a><span class="w">        </span><span class="n">Critical</span><span class="w"> </span><span class="n">Section</span><span class="w">  </span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#notes-computerscience-computersystem2-__codelineno-9-4"></a><span class="w">    </span><span class="n">end_section</span><span class="p">()</span><span class="w">  </span>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#notes-computerscience-computersystem2-__codelineno-9-5"></a><span class="w">        </span><span class="n">remainder</span><span class="w"> </span><span class="n">section</span><span class="w">  </span>
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#notes-computerscience-computersystem2-__codelineno-9-6"></a><span class="p">}</span>
</code></pre></div></p>
</div>
<details class="info">
<summary>构建 Critical Section aka Synchronization 的解决方案需要满足的条件</summary>
<ul>
<li>Mutual Exclusion: 在同⼀时刻，最多只有⼀个线程可以执⾏临界区</li>
<li>Progress: 当没有线程在执⾏临界区代码时，必须在申请进⼊临界区的线程中选择⼀个线程，允许其执⾏临界区代码，保证程序执⾏的进展</li>
<li>Bounded Waiting: 当⼀个进程申请进⼊临界区后，必须在有限的时间内获得许可并进⼊临界区，不能⽆限等待</li>
</ul>
</details>
</div>
<p>Peterson's Algorithm: 两个线程的 Mutual Exclusion（只适用于两个线程）</p>
<ul>
<li>假设 Load 和 Store 是原子操作（不可被中断）</li>
<li>两个进程共享下面这两个变量作为属性：<ul>
<li><code>flag[2]</code>: 进程是否准备好进入临界区</li>
<li><code>int turn</code>: 轮到哪个进程进入临界区</li>
<li>伪代码如下</li>
</ul>
</li>
</ul>
<p><img alt="Peterson" src="../notes/ComputerScience/assets/Sys30.png" /></p>
<p>但是 Peterson 没有看起来那么万能，一是因为只适用两个线程，二是因为可能会导致处理器或编译器对*看起来无害*的操作指令进行<strong>重排序</strong>，这导致其要求线程的Load和Store是原子性的。</p>
<ul>
<li>这在单线程进程里无所谓</li>
<li>多线程里可能会导致非预期的结果！</li>
</ul>
<div class="admonition example">
<p class="admonition-title">e.g.</p>
<p>两个线程共享下面两个变量：
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#notes-computerscience-computersystem2-__codelineno-10-1"></a><span class="kt">bool</span><span class="w"> </span><span class="n">flag</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#notes-computerscience-computersystem2-__codelineno-10-2"></a><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</code></pre></div>
现在线程1执行
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#notes-computerscience-computersystem2-__codelineno-11-1"></a><span class="k">while</span><span class="p">(</span><span class="o">!</span><span class="n">flag</span><span class="p">);</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#notes-computerscience-computersystem2-__codelineno-11-2"></a><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">);</span>
</code></pre></div>
线程2执行
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#notes-computerscience-computersystem2-__codelineno-12-1"></a><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span><span class="p">;</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#notes-computerscience-computersystem2-__codelineno-12-2"></a><span class="n">flag</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
</code></pre></div>
最后的结果是什么？</p>
<details class="success">
<summary>解答</summary>
<ul>
<li>我们预期的结果是输出100，但结果可能不是这样！</li>
<li>重排序可能导致 <code>flag = true</code> 先执行，<code>x = 100</code> 后执行</li>
</ul>
</details>
<div class="admonition question">
<p class="admonition-title">那咋办</p>
<ul>
<li>引入内存屏障（Memory Barrier）来防止重排序<ul>
<li>一句指令，使内存中所有的变化全部传播到所有其他处理器</li>
<li>现在只需要在线程1，2的两条语句之间加上<code>memory_barrier</code>即可</li>
</ul>
</li>
</ul>
</div>
</div>
<h3 id="notes-computerscience-computersystem2-_6">硬件支持<a class="headerlink" href="#notes-computerscience-computersystem2-_6" title="Permanent link">&para;</a></h3>
<blockquote>
<p>这一块智云只有半小时有声音，这不炸了吗</p>
</blockquote>
<p>我们有硬件的指令来支持同步：</p>
<h4 id="notes-computerscience-computersystem2-test-and-set">Test-and-Set<a class="headerlink" href="#notes-computerscience-computersystem2-test-and-set" title="Permanent link">&para;</a></h4>
<p>设置并返回初始值，原子操作</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#notes-computerscience-computersystem2-__codelineno-13-1"></a><span class="kt">bool</span><span class="w"> </span><span class="nf">test_set</span><span class="w"> </span><span class="p">(</span><span class="kt">bool</span><span class="w"> </span><span class="o">*</span><span class="n">target</span><span class="p">)</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#notes-computerscience-computersystem2-__codelineno-13-2"></a><span class="p">{</span>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#notes-computerscience-computersystem2-__codelineno-13-3"></a><span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">rv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">*</span><span class="n">target</span><span class="p">;</span>
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#notes-computerscience-computersystem2-__codelineno-13-4"></a><span class="w">    </span><span class="o">*</span><span class="n">target</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TRUE</span><span class="p">;</span>
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#notes-computerscience-computersystem2-__codelineno-13-5"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">rv</span><span class="o">:</span>
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#notes-computerscience-computersystem2-__codelineno-13-6"></a><span class="p">}</span>
<a id="__codelineno-13-7" name="__codelineno-13-7" href="#notes-computerscience-computersystem2-__codelineno-13-7"></a>
<a id="__codelineno-13-8" name="__codelineno-13-8" href="#notes-computerscience-computersystem2-__codelineno-13-8"></a><span class="c1">// 实现一个 lock(shared variable)</span>
<a id="__codelineno-13-9" name="__codelineno-13-9" href="#notes-computerscience-computersystem2-__codelineno-13-9"></a><span class="k">do</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-10" name="__codelineno-13-10" href="#notes-computerscience-computersystem2-__codelineno-13-10"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">test_set</span><span class="p">(</span><span class="o">&amp;</span><span class="n">lock</span><span class="p">));</span><span class="w"> </span><span class="c1">// 如果一个线程先把 lock 设置为 TRUE，那么其他线程到这一行就等待住了</span>
<a id="__codelineno-13-11" name="__codelineno-13-11" href="#notes-computerscience-computersystem2-__codelineno-13-11"></a><span class="w">    </span><span class="c1">// Critical Section</span>
<a id="__codelineno-13-12" name="__codelineno-13-12" href="#notes-computerscience-computersystem2-__codelineno-13-12"></a><span class="w">    </span><span class="n">lock</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FALSE</span><span class="p">;</span>
<a id="__codelineno-13-13" name="__codelineno-13-13" href="#notes-computerscience-computersystem2-__codelineno-13-13"></a><span class="w">    </span><span class="c1">// Remainder Section</span>
<a id="__codelineno-13-14" name="__codelineno-13-14" href="#notes-computerscience-computersystem2-__codelineno-13-14"></a><span class="p">}</span><span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">TRUE</span><span class="p">);</span>
</code></pre></div>
<p>满足互斥，Progress，但是不满足 Bounded Waiting</p>
<h4 id="notes-computerscience-computersystem2-compare-and-swap">Compare-and-Swap<a class="headerlink" href="#notes-computerscience-computersystem2-compare-and-swap" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#notes-computerscience-computersystem2-__codelineno-14-1"></a><span class="kt">int</span><span class="w"> </span><span class="nf">compare_and_swap</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">expected</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">new_value</span><span class="p">)</span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#notes-computerscience-computersystem2-__codelineno-14-2"></a><span class="p">{</span>
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#notes-computerscience-computersystem2-__codelineno-14-3"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">*</span><span class="n">value</span><span class="p">;</span>
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#notes-computerscience-computersystem2-__codelineno-14-4"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">value</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">expected</span><span class="p">)</span>
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#notes-computerscience-computersystem2-__codelineno-14-5"></a><span class="w">        </span><span class="o">*</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_value</span><span class="p">;</span>
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#notes-computerscience-computersystem2-__codelineno-14-6"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span>
<a id="__codelineno-14-7" name="__codelineno-14-7" href="#notes-computerscience-computersystem2-__codelineno-14-7"></a><span class="p">}</span>
<a id="__codelineno-14-8" name="__codelineno-14-8" href="#notes-computerscience-computersystem2-__codelineno-14-8"></a>
<a id="__codelineno-14-9" name="__codelineno-14-9" href="#notes-computerscience-computersystem2-__codelineno-14-9"></a><span class="c1">// 还是实现一个线程共享的 lock</span>
<a id="__codelineno-14-10" name="__codelineno-14-10" href="#notes-computerscience-computersystem2-__codelineno-14-10"></a><span class="k">do</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-14-11" name="__codelineno-14-11" href="#notes-computerscience-computersystem2-__codelineno-14-11"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">compare_and_swap</span><span class="p">(</span><span class="o">&amp;</span><span class="n">lock</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<a id="__codelineno-14-12" name="__codelineno-14-12" href="#notes-computerscience-computersystem2-__codelineno-14-12"></a><span class="w">    </span><span class="c1">// Critical Section</span>
<a id="__codelineno-14-13" name="__codelineno-14-13" href="#notes-computerscience-computersystem2-__codelineno-14-13"></a><span class="w">    </span><span class="n">lock</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-14-14" name="__codelineno-14-14" href="#notes-computerscience-computersystem2-__codelineno-14-14"></a><span class="w">    </span><span class="c1">// Remainder Section</span>
<a id="__codelineno-14-15" name="__codelineno-14-15" href="#notes-computerscience-computersystem2-__codelineno-14-15"></a><span class="p">}</span><span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">TRUE</span><span class="p">);</span>
</code></pre></div>
<h3 id="notes-computerscience-computersystem2-atomic-variable">Atomic Variable 原子性变量<a class="headerlink" href="#notes-computerscience-computersystem2-atomic-variable" title="Permanent link">&para;</a></h3>
<p>通过上面两种硬件支持的方法，我们可以实现一个原子性变量</p>
<h3 id="notes-computerscience-computersystem2-mutex-lock-or-spin-lock">Mutex Lock 互斥锁 or Spin Lock<a class="headerlink" href="#notes-computerscience-computersystem2-mutex-lock-or-spin-lock" title="Permanent link">&para;</a></h3>
<p>利用上面两个函数，可以构造这种用于解决同步的<strong>软件</strong>方案，先<code>acquire</code>锁，再<code>release</code>锁（两个函数调用都得是原子操作），需要"busy waiting"。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#notes-computerscience-computersystem2-__codelineno-15-1"></a><span class="n">func</span><span class="w"> </span><span class="nf">acquire</span><span class="p">(){</span>
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#notes-computerscience-computersystem2-__codelineno-15-2"></a><span class="w">    </span><span class="k">while</span><span class="p">(</span><span class="o">!</span><span class="n">available</span><span class="p">);</span><span class="w"> </span><span class="c1">// busy waiting (spin)</span>
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#notes-computerscience-computersystem2-__codelineno-15-3"></a><span class="w">    </span><span class="n">available</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#notes-computerscience-computersystem2-__codelineno-15-4"></a><span class="p">}</span>
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#notes-computerscience-computersystem2-__codelineno-15-5"></a>
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#notes-computerscience-computersystem2-__codelineno-15-6"></a><span class="n">func</span><span class="w"> </span><span class="nf">release</span><span class="p">(){</span>
<a id="__codelineno-15-7" name="__codelineno-15-7" href="#notes-computerscience-computersystem2-__codelineno-15-7"></a><span class="w">    </span><span class="n">available</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<a id="__codelineno-15-8" name="__codelineno-15-8" href="#notes-computerscience-computersystem2-__codelineno-15-8"></a><span class="p">}</span>
</code></pre></div>
<p>自旋太多了！导致 CPU 利用率低。引入 <code>yield</code> 函数，让出 CPU 给其他线程。（moving from running state to sleeping zZZ）</p>
<ul>
<li>How to implement?<ul>
<li>Add a queue</li>
<li>When the lock is locked, change process’s state to SLEEP, add to the queue, and call schedule()</li>
</ul>
</li>
</ul>
<h3 id="notes-computerscience-computersystem2-semaphore">Semaphore 信号量<a class="headerlink" href="#notes-computerscience-computersystem2-semaphore" title="Permanent link">&para;</a></h3>
<p><code>yield</code> 下的 Mutex Lock 还是利用率太低了！</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#notes-computerscience-computersystem2-__codelineno-16-1"></a><span class="k">struct</span><span class="w"> </span><span class="nc">semaphore</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#notes-computerscience-computersystem2-__codelineno-16-2"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">value</span><span class="p">;</span>
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#notes-computerscience-computersystem2-__codelineno-16-3"></a><span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">list_head</span><span class="o">*</span><span class="w"> </span><span class="n">waiting_queue</span><span class="p">;</span>
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#notes-computerscience-computersystem2-__codelineno-16-4"></a><span class="p">};</span>
</code></pre></div>
摆了</p>
<h2 id="notes-computerscience-computersystem2-deadlock">Deadlock 死锁<a class="headerlink" href="#notes-computerscience-computersystem2-deadlock" title="Permanent link">&para;</a></h2>
<p>两个或多个进程互相等待对方释放资源，导致<strong>所有</strong>进程都无法继续执行。</p>
<h3 id="notes-computerscience-computersystem2-priority-inversion">Priority Inversion 优先级反转<a class="headerlink" href="#notes-computerscience-computersystem2-priority-inversion" title="Permanent link">&para;</a></h3>
<p>如果高优先级的进程等待低优先级的进程的 Lock，亦即，<strong>被低优先级进程抢占了</strong></p>
<div class="admonition info">
<p class="admonition-title">Solution</p>
<ul>
<li>优先级继承<ul>
<li>短暂地提高低优先级进程的优先级</li>
</ul>
</li>
</ul>
</div>
<h3 id="notes-computerscience-computersystem2-condition-variable">Condition Variable 条件变量<a class="headerlink" href="#notes-computerscience-computersystem2-condition-variable" title="Permanent link">&para;</a></h3>
<p>诶，我们直接定义一个条件变量，让所有线程都等待这个条件变量的信号，这样就不会出现死锁了！</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#notes-computerscience-computersystem2-__codelineno-17-1"></a><span class="n">While</span><span class="w"> </span><span class="p">(</span><span class="n">condition</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">false</span><span class="p">)</span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#notes-computerscience-computersystem2-__codelineno-17-2"></a><span class="w">    </span><span class="n">wait</span><span class="p">(</span><span class="n">condition_variable</span><span class="p">);</span>
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#notes-computerscience-computersystem2-__codelineno-17-3"></a>
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#notes-computerscience-computersystem2-__codelineno-17-4"></a><span class="c1">// Remainder Section</span>
</code></pre></div>
<h3 id="notes-computerscience-computersystem2-real-problems">Real Problems<a class="headerlink" href="#notes-computerscience-computersystem2-real-problems" title="Permanent link">&para;</a></h3>
<h4 id="notes-computerscience-computersystem2-bounded-buffer-problem">Bounded Buffer Problem 有界缓冲问题<a class="headerlink" href="#notes-computerscience-computersystem2-bounded-buffer-problem" title="Permanent link">&para;</a></h4>
<p>两个进程，一个生产者，一个消费者，共享 n 个 buffer。</p>
<ul>
<li>生产者向 buffer 中写入数据</li>
<li>消费者从 buffer 中移除数据</li>
</ul>
<p>本问题要保证：</p>
<ul>
<li>生产者不会向满的 buffer 写入数据</li>
<li>消费者不会从空的 buffer 移除数据</li>
</ul>
<p>解决方案：定义 mutex 初始为 1，full-slots 初始为 0，empty-slots 初始为 n</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#notes-computerscience-computersystem2-__codelineno-18-1"></a><span class="n">wait</span><span class="p">(</span><span class="n">S</span><span class="p">){</span>
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#notes-computerscience-computersystem2-__codelineno-18-2"></a><span class="w">    </span><span class="k">while</span><span class="p">(</span><span class="n">S</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#notes-computerscience-computersystem2-__codelineno-18-3"></a><span class="w">    </span><span class="n">S</span><span class="o">--</span><span class="p">;</span>
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#notes-computerscience-computersystem2-__codelineno-18-4"></a><span class="p">}</span>
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#notes-computerscience-computersystem2-__codelineno-18-5"></a>
<a id="__codelineno-18-6" name="__codelineno-18-6" href="#notes-computerscience-computersystem2-__codelineno-18-6"></a><span class="n">signal</span><span class="p">(</span><span class="n">S</span><span class="p">){</span>
<a id="__codelineno-18-7" name="__codelineno-18-7" href="#notes-computerscience-computersystem2-__codelineno-18-7"></a><span class="w">    </span><span class="n">S</span><span class="o">++</span><span class="p">;</span>
<a id="__codelineno-18-8" name="__codelineno-18-8" href="#notes-computerscience-computersystem2-__codelineno-18-8"></a><span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#notes-computerscience-computersystem2-__codelineno-19-1"></a><span class="c1">// Producer Process</span>
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#notes-computerscience-computersystem2-__codelineno-19-2"></a><span class="k">do</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#notes-computerscience-computersystem2-__codelineno-19-3"></a><span class="w">    </span><span class="c1">// Produce an item</span>
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#notes-computerscience-computersystem2-__codelineno-19-4"></a><span class="w">    </span><span class="n">wait</span><span class="p">(</span><span class="n">empty</span><span class="o">-</span><span class="n">slots</span><span class="p">);</span>
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#notes-computerscience-computersystem2-__codelineno-19-5"></a><span class="w">    </span><span class="n">wait</span><span class="p">(</span><span class="n">mutex</span><span class="p">);</span>
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#notes-computerscience-computersystem2-__codelineno-19-6"></a><span class="w">    </span><span class="c1">// add the item to the buffer</span>
<a id="__codelineno-19-7" name="__codelineno-19-7" href="#notes-computerscience-computersystem2-__codelineno-19-7"></a><span class="w">    </span><span class="p">...</span>
<a id="__codelineno-19-8" name="__codelineno-19-8" href="#notes-computerscience-computersystem2-__codelineno-19-8"></a><span class="w">    </span><span class="n">signal</span><span class="p">(</span><span class="n">mutex</span><span class="p">);</span>
<a id="__codelineno-19-9" name="__codelineno-19-9" href="#notes-computerscience-computersystem2-__codelineno-19-9"></a><span class="w">    </span><span class="n">signal</span><span class="p">(</span><span class="n">full</span><span class="o">-</span><span class="n">slots</span><span class="p">);</span>
<a id="__codelineno-19-10" name="__codelineno-19-10" href="#notes-computerscience-computersystem2-__codelineno-19-10"></a><span class="p">}</span><span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nb">true</span><span class="p">);</span>
<a id="__codelineno-19-11" name="__codelineno-19-11" href="#notes-computerscience-computersystem2-__codelineno-19-11"></a>
<a id="__codelineno-19-12" name="__codelineno-19-12" href="#notes-computerscience-computersystem2-__codelineno-19-12"></a>
<a id="__codelineno-19-13" name="__codelineno-19-13" href="#notes-computerscience-computersystem2-__codelineno-19-13"></a>
<a id="__codelineno-19-14" name="__codelineno-19-14" href="#notes-computerscience-computersystem2-__codelineno-19-14"></a><span class="c1">// Consumer Process</span>
<a id="__codelineno-19-15" name="__codelineno-19-15" href="#notes-computerscience-computersystem2-__codelineno-19-15"></a><span class="k">do</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-19-16" name="__codelineno-19-16" href="#notes-computerscience-computersystem2-__codelineno-19-16"></a><span class="w">    </span><span class="n">wait</span><span class="p">(</span><span class="n">full</span><span class="o">-</span><span class="n">slots</span><span class="p">);</span>
<a id="__codelineno-19-17" name="__codelineno-19-17" href="#notes-computerscience-computersystem2-__codelineno-19-17"></a><span class="w">    </span><span class="n">wait</span><span class="p">(</span><span class="n">mutex</span><span class="p">);</span>
<a id="__codelineno-19-18" name="__codelineno-19-18" href="#notes-computerscience-computersystem2-__codelineno-19-18"></a><span class="w">    </span><span class="c1">// remove an item from the buffer</span>
<a id="__codelineno-19-19" name="__codelineno-19-19" href="#notes-computerscience-computersystem2-__codelineno-19-19"></a><span class="w">    </span><span class="p">...</span>
<a id="__codelineno-19-20" name="__codelineno-19-20" href="#notes-computerscience-computersystem2-__codelineno-19-20"></a><span class="w">    </span><span class="n">signal</span><span class="p">(</span><span class="n">mutex</span><span class="p">);</span>
<a id="__codelineno-19-21" name="__codelineno-19-21" href="#notes-computerscience-computersystem2-__codelineno-19-21"></a><span class="w">    </span><span class="n">signal</span><span class="p">(</span><span class="n">empty</span><span class="o">-</span><span class="n">slots</span><span class="p">);</span>
<a id="__codelineno-19-22" name="__codelineno-19-22" href="#notes-computerscience-computersystem2-__codelineno-19-22"></a><span class="w">    </span><span class="c1">// consume the item</span>
<a id="__codelineno-19-23" name="__codelineno-19-23" href="#notes-computerscience-computersystem2-__codelineno-19-23"></a><span class="w">    </span><span class="p">...</span>
<a id="__codelineno-19-24" name="__codelineno-19-24" href="#notes-computerscience-computersystem2-__codelineno-19-24"></a><span class="p">}</span><span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nb">true</span><span class="p">);</span>
</code></pre></div>
<p>这里还有几个思考题（我没记</p>
<h4 id="notes-computerscience-computersystem2-readers-writers-problem">Readers-Writers Problem 读者写者问题<a class="headerlink" href="#notes-computerscience-computersystem2-readers-writers-problem" title="Permanent link">&para;</a></h4>
<p>一系列进程共享一个 data set，有两种进程：</p>
<ul>
<li>Readers: 只读取数据，不修改</li>
<li>Writers: 能读取数据，也能修改数据</li>
<li>多个 Readers 可以共存，但是 Readers 和 Writers 之间互斥，Writers 之间也互斥</li>
</ul>
<p>解决方案：定义 mutex 初始为 1，write 初始为 1，read_count 初始为 0</p>
<p><code>mutex</code>保护<code>read_count</code>，<code>read_count</code> 记录当前 Reader 的数量</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#notes-computerscience-computersystem2-__codelineno-20-1"></a><span class="c1">// Writer Process</span>
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#notes-computerscience-computersystem2-__codelineno-20-2"></a><span class="k">do</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#notes-computerscience-computersystem2-__codelineno-20-3"></a><span class="w">    </span><span class="n">wait</span><span class="p">(</span><span class="n">write</span><span class="p">);</span>
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#notes-computerscience-computersystem2-__codelineno-20-4"></a><span class="w">    </span><span class="c1">// write shared data</span>
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#notes-computerscience-computersystem2-__codelineno-20-5"></a><span class="w">    </span><span class="p">...</span>
<a id="__codelineno-20-6" name="__codelineno-20-6" href="#notes-computerscience-computersystem2-__codelineno-20-6"></a><span class="w">    </span><span class="n">signal</span><span class="p">(</span><span class="n">write</span><span class="p">);</span>
<a id="__codelineno-20-7" name="__codelineno-20-7" href="#notes-computerscience-computersystem2-__codelineno-20-7"></a><span class="p">}</span><span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nb">true</span><span class="p">);</span>
<a id="__codelineno-20-8" name="__codelineno-20-8" href="#notes-computerscience-computersystem2-__codelineno-20-8"></a>
<a id="__codelineno-20-9" name="__codelineno-20-9" href="#notes-computerscience-computersystem2-__codelineno-20-9"></a><span class="c1">// Reader Process</span>
<a id="__codelineno-20-10" name="__codelineno-20-10" href="#notes-computerscience-computersystem2-__codelineno-20-10"></a><span class="k">do</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-20-11" name="__codelineno-20-11" href="#notes-computerscience-computersystem2-__codelineno-20-11"></a><span class="w">    </span><span class="n">wait</span><span class="p">(</span><span class="n">mutex</span><span class="p">);</span>
<a id="__codelineno-20-12" name="__codelineno-20-12" href="#notes-computerscience-computersystem2-__codelineno-20-12"></a><span class="w">    </span><span class="n">read_count</span><span class="o">++</span><span class="p">;</span>
<a id="__codelineno-20-13" name="__codelineno-20-13" href="#notes-computerscience-computersystem2-__codelineno-20-13"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">read_count</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-20-14" name="__codelineno-20-14" href="#notes-computerscience-computersystem2-__codelineno-20-14"></a><span class="w">        </span><span class="n">wait</span><span class="p">(</span><span class="n">write</span><span class="p">);</span>
<a id="__codelineno-20-15" name="__codelineno-20-15" href="#notes-computerscience-computersystem2-__codelineno-20-15"></a><span class="w">    </span><span class="n">signal</span><span class="p">(</span><span class="n">mutex</span><span class="p">);</span>
<a id="__codelineno-20-16" name="__codelineno-20-16" href="#notes-computerscience-computersystem2-__codelineno-20-16"></a><span class="w">    </span><span class="c1">// read shared data</span>
<a id="__codelineno-20-17" name="__codelineno-20-17" href="#notes-computerscience-computersystem2-__codelineno-20-17"></a><span class="w">    </span><span class="p">...</span>
<a id="__codelineno-20-18" name="__codelineno-20-18" href="#notes-computerscience-computersystem2-__codelineno-20-18"></a><span class="w">    </span><span class="n">wait</span><span class="p">(</span><span class="n">mutex</span><span class="p">);</span>
<a id="__codelineno-20-19" name="__codelineno-20-19" href="#notes-computerscience-computersystem2-__codelineno-20-19"></a><span class="w">    </span><span class="n">read_count</span><span class="o">--</span><span class="p">;</span>
<a id="__codelineno-20-20" name="__codelineno-20-20" href="#notes-computerscience-computersystem2-__codelineno-20-20"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">read_count</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-20-21" name="__codelineno-20-21" href="#notes-computerscience-computersystem2-__codelineno-20-21"></a><span class="w">        </span><span class="n">signal</span><span class="p">(</span><span class="n">write</span><span class="p">);</span>
<a id="__codelineno-20-22" name="__codelineno-20-22" href="#notes-computerscience-computersystem2-__codelineno-20-22"></a><span class="w">    </span><span class="n">signal</span><span class="p">(</span><span class="n">mutex</span><span class="p">);</span>
<a id="__codelineno-20-23" name="__codelineno-20-23" href="#notes-computerscience-computersystem2-__codelineno-20-23"></a><span class="p">}</span><span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nb">true</span><span class="p">);</span>
</code></pre></div>
<div class="admonition extra">
<p class="admonition-title">变种</p>
<ul>
<li>Reader First</li>
<li>Writer First</li>
</ul>
</div>
<h3 id="notes-computerscience-computersystem2-deadlock_1">Deadlock 发生的条件<a class="headerlink" href="#notes-computerscience-computersystem2-deadlock_1" title="Permanent link">&para;</a></h3>
<ul>
<li>Mutual Exclusion: 资源不共享，一种资源在某个时段只能被一个进程持有</li>
<li>Hold and Wait: 持有至少一个资源的进程等待获取正被其他进程持有的其他资源</li>
<li>No Preemption: 资源只能被持有者自愿释放</li>
<li>Circular Wait: 一系列进程互相等待对方释放资源</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Resource Allocation Graph</p>
<ul>
<li>一个图，节点是所有进程（<span class="arithmatex">\({P_1, P_2, ..., P_n}\)</span>）和资源（<span class="arithmatex">\({R_1, R_2, ..., R_m}\)</span>）</li>
<li>两种边：<ul>
<li>Request Edge：<span class="arithmatex">\(P_i\)</span> 指向 <span class="arithmatex">\(R_j\)</span> 的有向边，表示 <span class="arithmatex">\(P_i\)</span> 请求 <span class="arithmatex">\(R_j\)</span> （进程尚未持有资源）</li>
<li>Assignment Edge：<span class="arithmatex">\(R_j\)</span> 指向 <span class="arithmatex">\(P_i\)</span> 的有向边，表示 <span class="arithmatex">\(R_j\)</span> 被 <span class="arithmatex">\(P_i\)</span> 持有 （进程已经持有资源）</li>
</ul>
</li>
<li>例<ul>
<li><img alt="e.g.Resource Alloc Graph" src="../notes/ComputerScience/assets/Sys31.png" /></li>
<li>这里 R 节点中不同的点代表一个资源的不同 Instance </li>
</ul>
</li>
<li>这里有一类判断这种图是否含有死锁的题，思路一般是<ul>
<li>先找哪个进程能执行，执行掉，然后释放资源</li>
<li>然后看能不能继续执行别的进程</li>
</ul>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Basic Facts</p>
<ul>
<li>如果图中没有环，那么没有死锁</li>
<li>如果有环<ul>
<li>且每个资源只有一个实例，那么有死锁</li>
<li>且每个资源有多个实例，那么可能有死锁</li>
</ul>
</li>
</ul>
</div>
</div>
<h3 id="notes-computerscience-computersystem2-deadlock-prevention">Deadlock 的预防 Prevention<a class="headerlink" href="#notes-computerscience-computersystem2-deadlock-prevention" title="Permanent link">&para;</a></h3>
<p>只需要考虑预防上面四个条件（其一）就够了</p>
<ul>
<li>Prevent Mutual Exclusion: 这个可以不考虑：对于不共享的资源，额那只能互斥，对于共享的资源我们又不需要担心</li>
<li>Prevent Hold and Wait: 一个进程要么在执行前一次性 Request 所有资源，要么只有在不持有任何资源时才能 Request 资源<ul>
<li>导致资源利用率降低，可能会导致 Starvation</li>
</ul>
</li>
<li>Prevent No Preemption: 如果一个进程持有资源，但是又请求其他资源，那么就释放已持有的资源，将资源加入到 Request 队列中（没看懂）</li>
<li>Prevent Circular Wait: 给资源编号，进程只能按编号递增的顺序请求资源</li>
</ul>
<h3 id="notes-computerscience-computersystem2-deadlock-avoidance">Deadlock 的避免 Avoidance<a class="headerlink" href="#notes-computerscience-computersystem2-deadlock-avoidance" title="Permanent link">&para;</a></h3>
<p>与预防不同，使用 Deadlock Avoidance 算法确保不会出现循环等待。</p>
<p>SAFE STATE: 如果系统能够分配资源序列，使得每个进程按某种顺序获得资源都能完成，那么系统处于 SAFE STATE</p>
<ul>
<li>Safe State 里的进程不会发生 Deadlock，Unsafe State <strong>可能</strong>会发生 Deadlock</li>
</ul>
<p>这里对于多实例的资源，使用 Banker's Algorithm，懒得记了，在 deadlock 的 ppt 靠后的部分。</p>
<p>感觉研究这一个例子就够了：</p>
<p><img alt="Banker's Algorithm" src="../notes/ComputerScience/assets/Sys32.png" /></p>
<h3 id="notes-computerscience-computersystem2-deadlock-detection">Deadlock 的检测 Detection<a class="headerlink" href="#notes-computerscience-computersystem2-deadlock-detection" title="Permanent link">&para;</a></h3>
<p>即使预防和避免，还是没能让死锁大人尽兴吗···</p>
<p>Allow system to enter deadlock state, but detect and recover from it</p>
<ul>
<li>资源只有单实例<ul>
<li>通过 Resource Allocation Graph 检测</li>
<li>也就是检测是否有环<ul>
<li>诶，我这儿还有一离散</li>
</ul>
</li>
<li>把图里所有的资源节点都视为边（我总感觉像极了离散里讲过的一个操作），之后图只有进程节点，称为 Wait-for Graph</li>
</ul>
</li>
<li>资源有多实例<ul>
<li>这里就需要用到类似 Banker's Algorithm 的方法了</li>
<li>就是利用 Banker，鉴定一下能不能进入 Safe State，不能就说明有死锁</li>
</ul>
</li>
</ul>
<h3 id="notes-computerscience-computersystem2-deadlock-recovery">Deadlock 的解决 Recovery<a class="headerlink" href="#notes-computerscience-computersystem2-deadlock-recovery" title="Permanent link">&para;</a></h3>
<ul>
<li>Process Termination<ul>
<li>终止死锁的进程</li>
<li>每次终止一个进程，直到死锁解除</li>
</ul>
</li>
</ul>
<p>或者</p>
<ul>
<li>Resource Preemption<ul>
<li>抢占资源</li>
<li>选择一个进程，释放资源，回滚到某个 Checkpoint</li>
<li>可能会导致 Starvation</li>
</ul>
</li>
</ul></section><section class="print-page" id="notes-computerscience-computersystem3" heading-number="4.3.3"><nav class='md-tags'><span class='md-tag'>大二下笔记</span></nav><h1 id="iii">计算机系统 Ⅲ<a class="headerlink" href="#notes-computerscience-computersystem3-iii" title="Permanent link">&para;</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 3622 个字 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 17H7V3h14m0-2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2M3 5H1v16a2 2 0 0 0 2 2h16v-2H3m12.96-10.71-2.75 3.54-1.96-2.36L8.5 15h11z"/></svg></span> 18 张图片 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 10 分钟</p>
</div>
<blockquote>
<p>任课教师：吴磊、周亚金</p>
</blockquote>
<div class="admonition note">
<p class="admonition-title">Homework</p>
<ul>
<li><a href="../notes/ComputerScience/assets/3230105892_sys3_hw1.pdf">HW1</a></li>
</ul>
</div>
<h2 id="notes-computerscience-computersystem3-_1">量化研究<a class="headerlink" href="#notes-computerscience-computersystem3-_1" title="Permanent link">&para;</a></h2>
<div class="admonition note">
<p class="admonition-title">Amdahl's Law</p>
<p><span class="arithmatex">\(<span class="arithmatex">\(\text{Speedup} = \frac{改进前时间}{改进后时间} = \frac{1}{1 - B + \frac{B}{S}} \rightarrow \frac{1}{1-B}\)</span>\)</span>
<span class="arithmatex">\(B\)</span> 为并行化（被优化）比例，<span class="arithmatex">\(S\)</span> 为被优化部分的加速比。也就是说，无论怎么优化，理想加速比都取决于没被优化的部分所占的比例</p>
<div class="admonition example">
<p class="admonition-title">例</p>
<ul>
<li>把系统中某个函数的速度提高到了原先的20倍，但这个函数占整个系统的40%，则整个系统的速度提高了多少倍？<ul>
<li>Speedup = <span class="arithmatex">\(\frac{1}{1 - 0.4 + \frac{0.4}{20}} = 1.613\)</span></li>
</ul>
</li>
</ul>
</div>
</div>
<p>Performance = 1/Execution Time</p>
<p>CPU 执行时间 = CPU 时钟周期数 * CPU 时钟周期时间 = CPU 时钟周期数 / CPU 时钟频率</p>
<p>CPI（Cycles Per Instruction）= CPU 时钟周期数 / 指令数</p>
<p>CPU 执行时间 = 指令数 * CPI * 时钟周期时间 = 指令数 * CPI / 时钟频率</p>
<div class="admonition note">
<p class="admonition-title">Performance Depends on</p>
<ul>
<li>Algorithm: affects IC, possibly CPI</li>
<li>Programming Language: affects IC, CPI</li>
<li>Compiler: affects IC, CPI</li>
<li>ISA: affects IC, CPI, <span class="arithmatex">\(T_c\)</span></li>
</ul>
</div>
<h2 id="notes-computerscience-computersystem3-_2">分支预测<a class="headerlink" href="#notes-computerscience-computersystem3-_2" title="Permanent link">&para;</a></h2>
<p>很长 or 超标量的流水线必须等到分支指令计算结果出来之后才能进行下一条指令，导致大量 Stall，于是引入分支预测，只在<strong>预测失误</strong>时才 Stall</p>
<ul>
<li>静态分支预测<ul>
<li>Based on typical branch behavior</li>
<li>全部预测为 untaken or taken</li>
<li>Delay Slots: 在分支指令后的几条指令，不管分支是否发生，都会执行（由于导致电路复杂化，逐渐被淘汰）</li>
<li><img alt="Delay Slots" src="../notes/ComputerScience/assets/Sys35.png" /></li>
</ul>
</li>
<li>动态分支预测<ul>
<li>Hardware measures actual branch behavior<ul>
<li>e.g. 记录最近 branch 的行为，根据历史数据预测</li>
</ul>
</li>
<li>预测不准时，会进行历史的更新</li>
<li>BHT（Branch History Table）: 用于记录历史数据<ul>
<li><img alt="1bit" src="../notes/ComputerScience/assets/Sys36.png" /></li>
<li>1 bit 的 BHT 会导致多层嵌套的循环多次预测错误，炸膛了</li>
</ul>
</li>
<li>BTB（Branch Target Buffer）: 用于记录分支目标地址，Buffer 中的指令都预测为 Taken<ul>
<li>优势是更快（在 IF 阶段）就可以得到分支指令</li>
<li>可存储多条指令，对 MultiProcessors 有利</li>
<li>branch folding</li>
</ul>
</li>
<li>Integrated Instruction Fetch Unit<ul>
<li>把多个功能并入 IF 阶段，包括<ul>
<li>Integrated Branch Prediction</li>
<li>Prefetch 指令</li>
<li>Instruction memory access and buffering</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="notes-computerscience-computersystem3-_3">重叠执行<a class="headerlink" href="#notes-computerscience-computersystem3-_3" title="Permanent link">&para;</a></h2>
<p>What is this</p>
<h2 id="notes-computerscience-computersystem3-ilp">ILP<a class="headerlink" href="#notes-computerscience-computersystem3-ilp" title="Permanent link">&para;</a></h2>
<h3 id="notes-computerscience-computersystem3-dynamic-scheduling">Dynamic Scheduling<a class="headerlink" href="#notes-computerscience-computersystem3-dynamic-scheduling" title="Permanent link">&para;</a></h3>
<p>RAW/WAR/WAW 导致数据冲突，需要使用动态调度重排指令顺序</p>
<ul>
<li>Out-of-order Execution<ul>
<li>乱序执行</li>
<li>只要①对之前的指令没有 Dependence ②没有冲突，一条指令就可以执行</li>
</ul>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Scoreboard</p>
<ul>
<li>将 ID 阶段分割为 IS(Issue) 和 RO(Read Operands) 两个阶段<ul>
<li>Issue: 译码指令，检查有没有<strong>结构冲突</strong><ul>
<li>以 Program Order 发射指令，若有结构冲突/输出取决于先前发射却未完成的指令，则不发射</li>
</ul>
</li>
<li>RO：等到没有<strong>数据冲突</strong>后再读入 Operands</li>
<li><strong>此模型中不存在前递</strong></li>
</ul>
</li>
<li>Solutions for WAR:<ul>
<li>在 Read 寄存器前 Stall WB 阶段</li>
<li>只在 RO 阶段读取寄存器</li>
</ul>
</li>
<li>Solution for WAW:<ul>
<li>在另一条指令完成前探测冲突并 Stall 新指令的发射</li>
</ul>
</li>
</ul>
<p>Scoreboard 包含三个部分</p>
<ul>
<li>Instruction Status<ul>
<li>指令处于 IS/RO/EX/WB 的哪个阶段</li>
</ul>
</li>
<li>Functional Unit Status<ul>
<li>每个功能单元（Functional Unit）是否被占用，有九种状态<ul>
<li>Busy: 显示该单元是否被占用</li>
<li>Op: 该单元执行的操作 (e.g., + or –)</li>
<li>Fi: 目的寄存器</li>
<li>Fj, Fk: 源寄存器</li>
<li>Qj, Qk: 如果源寄存器没准备好部件该向哪里要数据（<span class="arithmatex">\(Q_j\)</span> 和 <span class="arithmatex">\(Q_k\)</span> 对应 <span class="arithmatex">\(R_j\)</span> 和 <span class="arithmatex">\(R_k\)</span>）</li>
<li>Rj, Rk: Flags indicating when Fj, Fk are <strong>ready and not yet read</strong>，寄存器中的数据被读取后置为 No</li>
</ul>
</li>
</ul>
</li>
<li>Register Result Status<ul>
<li>显示哪个 FU <strong>正准备写入</strong>这个寄存器</li>
</ul>
</li>
<li><img alt="Scoreboard" src="../notes/ComputerScience/assets/Sys37.png" /></li>
<li>具体看<a href="https://zhuanlan.zhihu.com/p/496078836">这个文章</a>吧，感觉比两个老师讲的都好（</li>
<li>要点（摘自上面的文章）：<ul>
<li>一条指令能否发射，一看是否有功能部件空闲可用，这个信息包含在功能状态中；二看指令要写的寄存器是否正要被别的指令写，这个信息包含在寄存器状态中，观察这个信息是为了解决 WAW 冒险。</li>
<li>一条指令能否读数，要看记分牌是否提示源寄存器不可读，如果不可读，就说明该寄存器将要被别的前序指令改写，现在的指令要等待前序指令写回，观察这个信息是为了解决 RAW 冒险。</li>
<li>一条指令一旦读数完成，就必然可以进行运算，运算可以是多周期的，在第一个周期结束时应该改写功能状态，表明自己不再需要读寄存器。</li>
<li>一条指令能否写回，要看是否有指令需要读即将被改写的这个寄存器，具体一点来说，就是要观察标记 Yes 的 Rj、Rk 对应的寄存器里是否有当前指令的目的寄存器，如果有，就说明有指令需要读取寄存器的旧值，这样一来我们就要等指令读完旧值之后再写回，观察这个信息是为了解决 WAR 冒险。</li>
</ul>
</li>
</ul>
</div>
<div class="admonition note">
<p class="admonition-title">Tomasulo Algo</p>
<p>TBD</p>
</div>
<p>Exception vs. Interrupt</p>
<table>
<thead>
<tr>
<th></th>
<th>Exception</th>
<th>Interrupt</th>
</tr>
</thead>
<tbody>
<tr>
<td>Cause</td>
<td>由程序引起</td>
<td>由外部设备引起</td>
</tr>
<tr>
<td>When to Handle</td>
<td>When Detected</td>
<td>When Convinient</td>
</tr>
</tbody>
</table>
<p>TBD</p>
<h3 id="notes-computerscience-computersystem3-hardware-based-speculation-reorder-bufferrob">Hardware based Speculation: Reorder Buffer(ROB)<a class="headerlink" href="#notes-computerscience-computersystem3-hardware-based-speculation-reorder-bufferrob" title="Permanent link">&para;</a></h3>
<p>以先来先出的顺序（就是被发射的顺序）存储 uncommitted 指令，使指令执行完成的顺序也按发射的顺序来。</p>
<p>结果先写到 reorder buffer，在 buffer 里按照指令流出的顺序以此写回寄存器。因此我们在每个指令后面加上一个 commit 状态，当前面的指令都 commit 之后才能 commit。</p>
<ul>
<li>4 Fields<ul>
<li>Inst Type</li>
<li>Destination Field</li>
<li>Value Field</li>
<li>Ready Field</li>
</ul>
</li>
<li>指令完成时，结果存入 ROB，同时标记 Ready Field</li>
<li>便于 undo 错误预测的 branch</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Hardware-based Speculation</p>
<ul>
<li>Issue - Get inst from FP Op Queue</li>
<li>Execute - operate on operands</li>
<li>Write Result - finish execution<ul>
<li>写入 CDB（Common Data Bus 数据广播总线），通知所有正在等待的 FU 和 ROB，将 Reservation Station 标记为 Available</li>
</ul>
</li>
<li>Commit - update reg with reorder result</li>
</ul>
</div>
<h3 id="notes-computerscience-computersystem3-multiissue">多发射 MultiIssue<a class="headerlink" href="#notes-computerscience-computersystem3-multiissue" title="Permanent link">&para;</a></h3>
<p>见 <a href="#notes-computerscience-computersystem2-multiple-issue-多发射">系统2笔记</a></p>
<p>为了使 CPI &lt; 1，需要在一个时钟内完成多条指令</p>
<h2 id="notes-computerscience-computersystem3-memory-hierarchy">Memory Hierarchy<a class="headerlink" href="#notes-computerscience-computersystem3-memory-hierarchy" title="Permanent link">&para;</a></h2>
<p>实际上，CPU 执行一条指令的时间远远短于访问内存的时间，即计算机的运行速度受限于 Memory Bandwidth &amp; Latency</p>
<ul>
<li>Latency: 单次访问内存的时间</li>
<li>Bandwidth: 也即带宽，单位时间内能访问的次数<ul>
<li>如果占比 <span class="arithmatex">\(m\)</span> 的指令需要访问内存，则平均每条指令需要访问 <span class="arithmatex">\(1 + m\)</span> 次内存（对 N 条指令，首先要 N 次访问 I-cache，然后 mN 次访问 D-cache）</li>
</ul>
</li>
</ul>
<p>令人感叹的是，容量变大，访问时间就会变少；带宽变大，硬件 Cost 也会越大，于是采用 <strong>Memory Hierarchy</strong> 来缓解这些问题</p>
<p>这里先介绍内存的两个特征：局部性</p>
<ul>
<li>时间局部性（Temporal Locality）<ul>
<li>一旦访问了某个地址，很可能在不久的将来再次访问</li>
</ul>
</li>
<li>空间局部性（Spatial Locality）<ul>
<li>一旦访问了某个地址，很可能在附近的地址也会被访问</li>
</ul>
</li>
</ul>
<p>利用局部性，Present the user with as much memory as is available in the cheapest technology. Provide access at the speed offered by the fastest technology.</p>
<h3 id="notes-computerscience-computersystem3-cache">Cache<a class="headerlink" href="#notes-computerscience-computersystem3-cache" title="Permanent link">&para;</a></h3>
<div class="admonition note">
<p class="admonition-title">USEFUL LINK</p>
<p><a href="https://zhuanlan.zhihu.com/p/482651908">https://zhuanlan.zhihu.com/p/482651908</a></p>
<p>抄了很多</p>
</div>
<p>地址从 Core 中流出后，最先碰到 Memory Hierarchy 的最高层：Cache</p>
<p>small and fast</p>
<ul>
<li>Unified Cache: 一起存储指令和数据，需要的硬件少，但是访问速度慢</li>
<li>Split Cache: 分开存储指令和数据（I-cache 和 D-cache），访问速度快，但是硬件复杂</li>
</ul>
<p><img alt="Modern Cache" src="../notes/ComputerScience/assets/Sys38.png" /></p>
<h4 id="notes-computerscience-computersystem3-cache-performance">Cache Performance<a class="headerlink" href="#notes-computerscience-computersystem3-cache-performance" title="Permanent link">&para;</a></h4>
<ul>
<li>Cache Hit/Miss<ul>
<li>Hit: 在 Cache 中找到了所需的数据</li>
<li>Miss: 没有找到，需要从更低一层的 Memory Hierarchy 中读取</li>
</ul>
</li>
</ul>
<h3 id="notes-computerscience-computersystem3-blockline">Block/Line<a class="headerlink" href="#notes-computerscience-computersystem3-blockline" title="Permanent link">&para;</a></h3>
<p>cache容量较小，所以数据需要按照一定的规则从主存映射到cache。一般把主存和cache分割成一定大小的块，这个块在主存中称为data block，在cache中称为cache line。举个例子，块大小为1024个字节，那么data block和cache line都是1024个字节。当把主存和cache分割好之后，我们就可以把data block放到cache line中，而这个“放”的规则一般有三种，分别是“直接映射”、“组相联”和“全相联”。</p>
<ul>
<li>Direct Mapped<ul>
<li>直接映射采用“取模”的方式进行一对一映射：如果cache中共有8个cache line，那么0、8、16、24...号data block会被映射到0号cache line中，同理1、9、17....号data block会被映射到1号cache line中</li>
<li>这里 Cache Line 具有 Tag 和 Data 两部分，Tag 用于识别存储的是主存中的哪个 Data Block，Data 用于存储数据</li>
<li>缺陷：当连续访问0，8，0，8，0，8...时，在第二次访问到0号 data block 时，cache line 早就被清空，替换成 8 号 data block，于是会导致 cache miss</li>
</ul>
</li>
<li>全相联<ul>
<li>主存中任何一个 Data Block 都可以映射到 Cache 中的任何一个 Cache Line</li>
<li>Cache 中的一行含有 Tag、Data，Tag 即为主存块的块号</li>
</ul>
</li>
<li>组相联<ul>
<li><img alt="组相联" src="../notes/ComputerScience/assets/Sys39.png" /></li>
<li>Cache 几行几行分为一组，组间直接映射，组内全相联</li>
</ul>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">4 Questions for Cache Design</p>
<ul>
<li>Where can a block be placed in the Upper/Main Memory?<ul>
<li>即 Block 的放置问题</li>
<li>就是上面阐述的三种方法</li>
</ul>
</li>
<li>How is a block found in the Upper/Main Memory?<ul>
<li>Block 的识别问题</li>
<li>使用 Tag/Block</li>
<li>Index 位数 <span class="arithmatex">\(= \log_2(\#sets)(in \space set-associative \space cache) or \log_2(\#blocks)(in \space direct-mapped \space cache)\)</span></li>
<li>Offset 位数 <span class="arithmatex">\(= \log_2(size \space of \space block)\)</span></li>
<li>Tag 位数 <span class="arithmatex">\(= Address \space Size - Index \space bits - Offset \space bits\)</span></li>
</ul>
</li>
<li>Which block should be replaced on a miss?<ul>
<li>Block 的替换问题</li>
<li>LRU、FIFO、Random 算法</li>
<li>TBD</li>
</ul>
</li>
<li>What happens on a write?<ul>
<li>写策略问题</li>
<li>Write-through、Write-back (both with write Buffer)</li>
<li>TBD</li>
</ul>
</li>
<li>I'll finish this at the end of the semester :(</li>
</ul>
</div>
<h2 id="notes-computerscience-computersystem3-main-memory">主存 Main Memory<a class="headerlink" href="#notes-computerscience-computersystem3-main-memory" title="Permanent link">&para;</a></h2>
<h3 id="notes-computerscience-computersystem3-address-binding">地址绑定 Address Binding<a class="headerlink" href="#notes-computerscience-computersystem3-address-binding" title="Permanent link">&para;</a></h3>
<p>回顾源代码到执行起来的过程：</p>
<ul>
<li>每个变量都有自己的 symbolic address</li>
<li>编译器把这些符号转换为可重定位地址（relocatable address）<ul>
<li>e.g. "14 bytes from the beginning of this module"</li>
</ul>
</li>
<li>链接器把可重定位地址转换为绝对地址（absolute address）<ul>
<li>e.g. "0x0505"</li>
</ul>
</li>
</ul>
<p>逻辑地址 vs. 物理地址，你知道吗？</p>
<ul>
<li>逻辑地址：由 CPU 生成的地址</li>
<li>物理地址：内存中实际的地址</li>
</ul>
<p>因此 CPU 访问内存时，需要一个部件来将逻辑地址（在运行时）转换为物理地址，这个部件就是 MMU（Memory Management Unit）.</p>
<p>最简单的 MMU 设置了一个 Relocation Register，存储逻辑地址和物理地址之间的偏移量。</p>
<ul>
<li>物理地址 = 逻辑地址 + Relocation Register</li>
</ul>
<p>动态加载：不需要一次性把一个 Program 里的所有 Code, Data 都加载到内存中，而是根据需要来加载。</p>
<p>动态链接：Refer to Sys2</p>
<h3 id="notes-computerscience-computersystem3-contiguous-allocationpartition-allocation">连续分配 Contiguous Allocation（Partition Allocation）<a class="headerlink" href="#notes-computerscience-computersystem3-contiguous-allocationpartition-allocation" title="Permanent link">&para;</a></h3>
<p>主存要同时供给 User Program 和 OS 使用，因此需要高效分配有限的资源，可采用连续分配</p>
<ul>
<li>每个进程在内存中占据一个连续的区域（一个 Partition）（我们需要确保进程能且只能访问其地址空间里的地址）</li>
<li>Relocation Reg 用于保护用户进程间不互干扰，也阻止用户进程修改 Kernel Code &amp; Data</li>
<li>Base register contains value of smallest physical address</li>
<li>Limit register contains range of logical addresses（相当于进程所占的空间大小，不能超过这个值） – each logical address must be less than the limit register<ul>
<li>注意加载 Base 和 Limit Reg 的指令是特权级的</li>
</ul>
</li>
<li>优势在于具有 built-in 的保护机制（Limit）、更快的 Execution Time、更快的 Context Switch、不需要 Relocation、Partition 可以自由暂停开始</li>
</ul>
<p><img alt="Contiguous Allocation" src="../notes/ComputerScience/assets/Sys41.png" /></p>
<h3 id="notes-computerscience-computersystem3-fragmentation">Fragmentation<a class="headerlink" href="#notes-computerscience-computersystem3-fragmentation" title="Permanent link">&para;</a></h3>
<p>设想进程请求一个大小为 n 的 Memory Block，在 Partition 时有下述三种选择方案</p>
<ul>
<li>First Fit<ul>
<li>从第一个 Large Enough 的 Block 开始分配</li>
</ul>
</li>
<li>Best Fit<ul>
<li>从最小的 Large Enough 的 Block 开始分配</li>
<li>需要遍历所有的 Block</li>
</ul>
</li>
<li>Worst Fit<ul>
<li>从最大的 Block 开始分配</li>
<li>需要遍历所有的 Block</li>
</ul>
</li>
</ul>
<p>Fragmentation 是这三个方案的重大阻碍</p>
<ul>
<li>外部碎片化（出现于 Variable Partition Allocation）<ul>
<li>在已分配出去的 Memory Blocks 的间隙中存在未利用的内存，这些内存总和是足够供给 Request 的，但是 <strong>not contiguous</strong></li>
<li>可被压缩（Compaction）削弱影响<ul>
<li>把未利用的内存合并成一个 Block</li>
</ul>
</li>
<li>Another solution: Paging</li>
</ul>
</li>
<li>内部碎片化（出现于 Fixed Partition Allocation）<ul>
<li>分配出去的 Memory Block 大于 Request 的大小，导致未利用的内存</li>
</ul>
</li>
</ul>
<h3 id="notes-computerscience-computersystem3-segmentation">Segmentation<a class="headerlink" href="#notes-computerscience-computersystem3-segmentation" title="Permanent link">&para;</a></h3>
<p>(由于 Limit Reg 大小可变，这是 Flexible Partition Allocation，不存在内部碎片化，但是存在外部碎片化)</p>
<p>逻辑地址被分为 <Segmentation Number, Offset>，再用数组实现一个 Segmentation Table，其中每一行存储了 Segment 的 Base 和 Limit，以及 Permission Bits</p>
<p>Seg Number 实际上是 Table 的索引，逻辑地址通过索引查找到表中对应的 Entry，Offset 先与 Limit 比较，若大于 Limit 就会发生 Segmentation Fault；否则就加上 Base 得到物理地址（还含有一步和 Perm 的比较）</p>
<h3 id="notes-computerscience-computersystem3-paging">分页 Paging<a class="headerlink" href="#notes-computerscience-computersystem3-paging" title="Permanent link">&para;</a></h3>
<p>基本思想就是把进程的逻辑地址空间分为固定大小的块（而不是移动已有进程的地址空间）</p>
<p>每当有物理内存可用时，就会分配给进程，因此需要考虑</p>
<ul>
<li>避免外部碎片化</li>
<li>避免 Varying sized memory chunks</li>
</ul>
<p>采用分页的方法：</p>
<ul>
<li><strong>物理地址</strong>分为固定大小的块，称为页框 <strong>Frame</strong>（大小是 2 的整数次幂）</li>
<li><strong>逻辑地址</strong>分为相同大小的页 <strong>Page</strong></li>
</ul>
<p>这样一来，为了跑一个 N 页的进程，需要在内存里找到 N 个 Free 的 Page Frame，再加载程序</p>
<p>再建立一个页表 Page Table，用于将逻辑地址映射为物理地址</p>
<p>逻辑地址被分化为页号和页内偏移量，页号用来索引页表，页表存储了每一页的物理地址</p>
<p>偏移量用来索引 page/frame，与 frame number 结合后得到物理地址</p>
<p>m 位的逻辑地址，page size 为 n 位</p>
<table>
<thead>
<tr>
<th>page number</th>
<th>page offset within page</th>
</tr>
</thead>
<tbody>
<tr>
<td>p</td>
<td>d</td>
</tr>
<tr>
<td>m-n bits</td>
<td>n bits</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Structure of Page Table</p>
<ul>
<li>根据 Page Size 先确定 n 的大小：<ul>
<li>Page Size = 2^n</li>
</ul>
</li>
<li>例：<ul>
<li>Page Size = 4KB = 2^12 bits</li>
<li>n = 12</li>
<li>默认 32 位地址 m = 32</li>
<li>页号位数 = m - n = 32 - 12 = 20</li>
</ul>
</li>
</ul>
</div>
<p><img alt="Paging" src="../notes/ComputerScience/assets/Sys42.png" /></p>
<div class="admonition note">
<p class="admonition-title">分页后不存在外部碎片化</p>
<p>但是有内部碎片化（但仅在最后一个 Frame）</p>
<ul>
<li>worst case internal fragmentation: 1 frame – 1 byte</li>
<li>average internal fragmentation: 1 / 2 frame size</li>
<li>Frame Size 大：PTB Entry 数量更少</li>
<li>Frame Size 小：内部碎片化更少了</li>
</ul>
</div>
<h4 id="notes-computerscience-computersystem3-hardware-support-for-paging">Hardware Support for Paging<a class="headerlink" href="#notes-computerscience-computersystem3-hardware-support-for-paging" title="Permanent link">&para;</a></h4>
<ul>
<li>Page Table Base Register (PTBR)<ul>
<li>存储页表的 Base （物理地址）</li>
</ul>
</li>
<li>Page Table Length Register (PTLR)<ul>
<li>存储页表的长度（即页表中有多少个 Entry）</li>
</ul>
</li>
</ul>
<p>那么我们每次翻译逻辑地址的时候就要经过两层 Memory Access（第一次根据页号访问页表，第二次根据页表中的物理地址访问内存），这就导致了性能的下降
- 解决方案：TLB（Translation Lookaside Buffer）
    - TLB 是一个 Cache，存储了最近访问的 Page Number
    - 如果 TLB 中有这个 Page Number，就不用访问页表了
    - 如果页号不在 TLB 中，就要更新一行 TLB 的 Entry（通过 Accessing Page Table）</p>
<div class="admonition definition">
<p class="admonition-title">Effective Access Time (EAT)</p>
<p><span class="arithmatex">\(EAT = (1 - p)(Memory \space access \space time) + p(2 * Memory \space access \space time)\)</span></p>
<ul>
<li>原理就是如果 TLB miss，就需要两次的访存时间</li>
<li><span class="arithmatex">\(p\)</span> 为 TLB miss rate</li>
</ul>
</div>
<p>Memory Protection: 为每个 Entry 设置一个 Valid Bit，表示这 Page 是否有一个有效的 Frame</p>
<h4 id="notes-computerscience-computersystem3-_4">多级页表<a class="headerlink" href="#notes-computerscience-computersystem3-_4" title="Permanent link">&para;</a></h4>
<p><img alt="多级页表" src="../notes/ComputerScience/assets/Sys46.png" /></p>
<h4 id="notes-computerscience-computersystem3-page-sharing">Page Sharing<a class="headerlink" href="#notes-computerscience-computersystem3-page-sharing" title="Permanent link">&para;</a></h4>
<p>以一个 Program 跑了三次为例，形成三个进程，每个进程有四个 Page，那么理应需要 12 个 Frame</p>
<p><img alt="Page Sharing" src="../notes/ComputerScience/assets/Sys43.png" /></p>
<p>但可见只用了 6 个 Frame，.text 段（ed123）是只读，所以共享的，而 .data 段是可读可写的，是每个进程私有的</p>
<div class="admonition note">
<p class="admonition-title">计算 pgtbl 的大小</p>
<ul>
<li>32 位系统，内存为 4 GB(2^32 bit)，假设 Page Size 为 4 KB</li>
<li>4 GB / 4 KB = 1 M entries<ul>
<li>Offset 位数 = <span class="arithmatex">\(\log_2(4K) = 12\)</span> bits</li>
<li>Index 位数 = <span class="arithmatex">\(\log_2(4 KB/ 4B(32bits Addr)) = 10\)</span> bits </li>
</ul>
</li>
<li>每个 entry（一行）占 4 bytes（32 bits）</li>
<li>则 pgtbl 的大小为 1 M * 4 B= 4 MB</li>
<li>注意页表需要在内存中<strong>物理连续</strong></li>
<li><img alt="U的解说" src="../notes/ComputerScience/assets/Sys48.png" /></li>
</ul>
</div>
<h4 id="notes-computerscience-computersystem3-hashed-page-table">Hashed Page Table<a class="headerlink" href="#notes-computerscience-computersystem3-hashed-page-table" title="Permanent link">&para;</a></h4>
<p>Virtual Page 被哈希为 Frame</p>
<p><img alt="Hashed Pt" src="../notes/ComputerScience/assets/Sys44.png" /></p>
<h4 id="notes-computerscience-computersystem3-inverted-page-table">Inverted Page Table<a class="headerlink" href="#notes-computerscience-computersystem3-inverted-page-table" title="Permanent link">&para;</a></h4>
<p>是进程号pid 到 Physical Frame 的映射</p>
<p>每一行（entry）对应一个进程&amp;一个 Frame</p>
<div class="admonition note">
<p class="admonition-title">Swapping</p>
<ul>
<li>进程可以暂时被 Swap 到磁盘上，释放内存空间（跑的&amp;上下文切换略慢）</li>
</ul>
</div>
<details class="note">
<summary>Page Table Quiz</summary>
<p><img alt="Page Table Quiz" src="../notes/ComputerScience/assets/Sys45.png" /></p>
<details class="answer">
<summary>Answer</summary>
<ul>
<li>见上方“计算 pgtbl 的大小”（PGSIZE 默认 4 KB），大小为 4 MB</li>
<li>第一层是 4 KB，第二层是 4 MB</li>
<li>二级页表中某些页表使用不到，不用分配空间</li>
<li>
<ol>
<li>0xf2015202 = 1111001000 | 0000010101 | 001000000010(分割成 10 bits + 10 bits + 12 bits)</li>
</ol>
</li>
<li>
<ol start="2">
<li>TBD</li>
</ol>
</li>
</ul>
</details>
</details>
<p><img alt="Page Table Quiz2" src="../notes/ComputerScience/assets/Sys47.png" /></p>
<div class="highlight"><pre><span></span><code>??? answer &quot;Answer&quot;
- 32 bit
    - Offset = $\log_2(64KB) = 16$ bits
    - Page Index = $\log_2(64KB/4B)$ = 14 bits
    - Others = 32 - 16 - 14 = 2 bits
- 64 bit
    - Offset = $\log_2(64KB) = 16$ bits
    - Page Index = $\log_2(64KB/8B)$ = 13 bits
    - For 39-bit VA
        - Others = 39 - 16 - 13 = 10 bits
    - For 48-bit VA
        - Others = 48 - 16 - 13 = 19 bits
</code></pre></div>
<h2 id="notes-computerscience-computersystem3-virtual-memory">虚拟内存 Virtual Memory<a class="headerlink" href="#notes-computerscience-computersystem3-virtual-memory" title="Permanent link">&para;</a></h2>
<h3 id="notes-computerscience-computersystem3-demand-paging">Demand Paging<a class="headerlink" href="#notes-computerscience-computersystem3-demand-paging" title="Permanent link">&para;</a></h3>
<p>一般来说，对某个 Program 而言，并非所有 code 和 data 都会被用到，因此我们需要 Partially Loading 的能力（因此 Program 的大小可以大于 Physical Memory 的大小，因为只要每次 Load 的部分小于 PM 就行）</p>
<ul>
<li>好处是可以并行运行多个进程，需要的I/O也减少了</li>
<li>虚拟内存只有 Range 的概念，其大小可以比实际的物理内存大</li>
</ul>
<p>TBD: Where am I?</p>
<h2 id="notes-computerscience-computersystem3-file-system">File System<a class="headerlink" href="#notes-computerscience-computersystem3-file-system" title="Permanent link">&para;</a></h2>
<h3 id="notes-computerscience-computersystem3-file-system-layers">File system layers<a class="headerlink" href="#notes-computerscience-computersystem3-file-system-layers" title="Permanent link">&para;</a></h3>
<h3 id="notes-computerscience-computersystem3-file-system-implementation">File system implementation<a class="headerlink" href="#notes-computerscience-computersystem3-file-system-implementation" title="Permanent link">&para;</a></h3>
<p>On-disk structure, in-memory structure</p>
<h3 id="notes-computerscience-computersystem3-file-creation-open">File creation(), open()<a class="headerlink" href="#notes-computerscience-computersystem3-file-creation-open" title="Permanent link">&para;</a></h3>
<h3 id="notes-computerscience-computersystem3-vfs">VFS<a class="headerlink" href="#notes-computerscience-computersystem3-vfs" title="Permanent link">&para;</a></h3>
<h3 id="notes-computerscience-computersystem3-directory">目录实现 Directory<a class="headerlink" href="#notes-computerscience-computersystem3-directory" title="Permanent link">&para;</a></h3>
<p>目录包含文件名和文件元信息的映射关系（可用线性表/哈希表实现）</p>
<ul>
<li>线性表容易实现，但是查找时间长</li>
<li>哈希表查找时间短，可能存在碰撞</li>
</ul>
<h3 id="notes-computerscience-computersystem3-disk-block-alloc">硬盘分配 Disk Block Alloc<a class="headerlink" href="#notes-computerscience-computersystem3-disk-block-alloc" title="Permanent link">&para;</a></h3>
<p>TBD</p>
<ul>
<li>连续分配</li>
<li>Linked Alloc</li>
<li>Indexed Alloc</li>
</ul>
<h3 id="notes-computerscience-computersystem3-example">Example<a class="headerlink" href="#notes-computerscience-computersystem3-example" title="Permanent link">&para;</a></h3>
<p>以一个包含 Inode，bitmap，superblock 的文件系统为例</p>
<ul>
<li>Inode 索引节点，存储文件的一些信息，一个文件对应一个 Inode</li>
</ul>
<p><img alt="Inode" src="../notes/ComputerScience/assets/Sys49.png" /></p>
<ul>
<li>
<p>Bitmap 索引 Inode 和 data block</p>
</li>
<li>
<p>SuperBlock 包含这个文件系统的一些信息：含有多少 Inode/Datablock，Inode Table/Data 从哪里开始，以及一个魔法数字</p>
</li>
</ul>
<p>Read <code>(root)/foo/bar</code></p>
<p><img alt="read" src="../notes/ComputerScience/assets/Sys50.png" /></p>
<p>Write <code>/foo/bar</code></p>
<p><img alt="write" src="../notes/ComputerScience/assets/Sys51.png" /></p>
<p>在 read /foo data 时，发现不存在 bar 文件，于是有一个创建的过程（修改 inode bitmap，我的理解是先标明文件的创建），在修改 bar 的 inode 后还要 write foo 的 inode（因为这个目录或者说文件也被修改了，新增了一个子文件）</p>
<h4 id="notes-computerscience-computersystem3-crash">Crash<a class="headerlink" href="#notes-computerscience-computersystem3-crash" title="Permanent link">&para;</a></h4>
<p>我们发现 Write 的时候 Bitmap, inode, Datablock 都会被修改，如果只有其中一两个被修改了，还有一两类没有被修改（或者说修改过程失败了），就会导致 Garbage Data 之类的 Crash</p>
<p>Solution 1: 日志 Journaling - 对三者的修改先写入一个 Journal（顺序是 Transaction-begin, pending datas, transaction-end），再进行 Checkpoint 的过程：用 Journal 覆写文件系统。</p>
<p>这样只会在 Journal 阶段 Crash，如果写失败直接重写就行了</p>
<p>Solution 2: 在解决方案 1 的基础上，在写完 Journal 后对 Transaction 添加一个 Commit 的操作</p>
<h3 id="notes-computerscience-computersystem3-mass-storage">Mass Storage 大容量存储<a class="headerlink" href="#notes-computerscience-computersystem3-mass-storage" title="Permanent link">&para;</a></h3>
<p>磁盘 Magnetic Disk</p>
<p><img alt="Disk" src="../notes/ComputerScience/assets/Sys52.png" /></p>
<ul>
<li>Positioning Time<ul>
<li>指把 Disk Arm 移动到正确的 Sector 的时间</li>
<li>包含 Seek Time 和 Rotational Latency<ul>
<li>Seek Time: Disk Arm 移动到正确的 Cylinder 的时间</li>
<li>Rotational Latency: 正确的 Sector 旋转到 Disk Head 下的时间</li>
</ul>
</li>
</ul>
</li>
<li>Average Access Time<ul>
<li>Average Seek Time + Average Rotational Latency</li>
</ul>
</li>
<li>Average I/O Time<ul>
<li>Average Access Time + Data/Transfer Rate + controller overhead</li>
</ul>
</li>
</ul>
<p>SSD 固态硬盘</p>
<ul>
<li>
<p>没有运动的单元，因此没有 Seek Time 和 Rotational Latency，读写更快</p>
</li>
<li>
<p>以 Page 为单元存储信息，若干 Page 组成一个 Block</p>
</li>
<li>
<p>无法覆写内容（需要写入另一个 Page，然后把 Old Page 标记为无效），那么会导致 Pages 最后混合着有效和无效的 Page：控制器维护一个表 Flash translation layer table，当无效的页个数到达某一阈值后执行 Garbage Collection::free 无效的页空间（为 GC 设计并留存了一些额外（over-provisioning）的空间）</p>
</li>
</ul>
<p>Magnetic Tape</p>
<ul>
<li>容量大，访问慢，存储数据时间久</li>
</ul>
<p>Network-Attached Storage</p>
<ul>
<li>用户可远程访问服务器上的 FS</li>
</ul>
<p>Storage Area Network</p>
<h4 id="notes-computerscience-computersystem3-disk-scheduling">Disk Scheduling<a class="headerlink" href="#notes-computerscience-computersystem3-disk-scheduling" title="Permanent link">&para;</a></h4>
<p>目标是最小化 Seek Time（与磁头移动距离成正比）</p>
<p>Algos：</p>
<ul>
<li>FCFS<ul>
<li>先进入 Queue 的先访问</li>
<li>每个 request 的访问可能性是一样的，且不会导致饥饿</li>
<li>但是并没有最小化 Seek Time</li>
</ul>
</li>
<li>SSTF(Shortest Seek Time 1<sup>st</sup>)<ul>
<li>离当前磁头最近（Seektime最短）的先访问</li>
<li>优势是减少了 Avg Response Time，提高了吞吐量</li>
<li>但需要提前计算 Seektime 的开销，且如果某个 Request 离得特别远，会导致 Starvation</li>
</ul>
</li>
<li>SCAN<ul>
<li>电梯算法，磁头先向 Disk 一端移动，再向另一端移动</li>
<li>吞吐量高、Low Variance of Response Time</li>
<li>但对于 Request 刚刚访问过的位置，需要等待很长时间</li>
<li><img alt="SCAN" src="../notes/ComputerScience/assets/Sys53.png" /></li>
</ul>
</li>
<li>C(ircular)-SCAN<ul>
<li>在 SCAN 基础上，在磁头移动到一端的时候，立刻瞬移到 Disk 另一端</li>
</ul>
</li>
<li>(C)-LOOK<ul>
<li>对 (C)-SCAN 的改进 ，具体表现为磁头移动的终点不是 <strong>Disk 的两端</strong>，而是 Queue 里最偏远的 Request</li>
<li>对于 I/O 很多的文件系统效果很好</li>
</ul>
</li>
</ul>
<h4 id="notes-computerscience-computersystem3-raid">RAID<a class="headerlink" href="#notes-computerscience-computersystem3-raid" title="Permanent link">&para;</a></h4>
<p>Redundant Array of Inexpensive Disks</p>
<p>通过冗余性确保可靠性，疑似是备份</p>
<p>RAID 0：把数据平分，存在两个 Disk 上</p>
<p>RAID 1：把一个 Disk 的数据复制一份存在另一个 Disk 上</p>
<p>可用于检测/恢复于 <strong>data failure</strong>，但是 <strong>data corruption</strong> 不行</p>
<h2 id="notes-computerscience-computersystem3-io-systems">I/O Systems<a class="headerlink" href="#notes-computerscience-computersystem3-io-systems" title="Permanent link">&para;</a></h2>
<p>I/O devices is the way computer to interact with user and other systems</p></section><section class="print-page" id="notes-computerscience-ads" heading-number="4.3.4"><nav class='md-tags'><span class='md-tag'>大二上笔记</span></nav><h1 id="_1">高级数据结构与算法分析<a class="headerlink" href="#notes-computerscience-ads-_1" title="Permanent link">&para;</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 5311 个字 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6m80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3l89.3 89.4-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3"/></svg></span> 50 行代码 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 17H7V3h14m0-2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2M3 5H1v16a2 2 0 0 0 2 2h16v-2H3m12.96-10.71-2.75 3.54-1.96-2.36L8.5 15h11z"/></svg></span> 7 张图片 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 16 分钟</p>
</div>
<blockquote>
<p>任课教师：杨洋</p>
</blockquote>
<div class="admonition note">
<p class="admonition-title">Reference</p>
<p>OI wiki: <a href="https://oi-wiki.org/ds/">https://oi-wiki.org/ds/</a><br />
<a href="https://note.shad0wash.cc/cs/ads/">https://note.shad0wash.cc/cs/ads/</a><br />
抄了好多<a href="https://github.com/Klee1453/ads-geq-40">ADS面向40分斩杀线复习 by Klee1453</a><br />
后半学期摆了……</p>
</div>
<h2 id="notes-computerscience-ads-avl">AVL树<a class="headerlink" href="#notes-computerscience-ads-avl" title="Permanent link">&para;</a></h2>
<p>是二叉搜索树的一种：</p>
<ul>
<li>平衡因子（BF: Balance Factor）：某节点左子树的高度减去右子树的高度</li>
<li>AVL树：任意节点的平衡因子只能是-1、0、1</li>
<li>不满足条件时，通过旋转操作进行调整，形成AVL树</li>
<li>旋转：将某个节点“提起来”，另一侧节点与其的父子关系便颠倒，同时节点本身的某个子节点也易父<ul>
<li>RR, LL, RL, LR</li>
<li>LL,RR一般是对失衡节点的子节点转上去</li>
<li>RL,LR一般是对失衡节点的孙子节点转上去（转两次）</li>
<li>具体可见<a href="https://www.hello-algo.com/chapter_tree/avl_tree/#752-avl">这里的</a>图像展示</li>
</ul>
</li>
</ul>
<details class="note" open="open">
<summary>例题</summary>
<p>Insert 2, 1, 4, 5, 9, 3, 6, 7 into an initially empty AVL tree.  Which one of the following statements is FALSE?</p>
<p>A. 4 is the root</p>
<p>B. 3 and 7 are siblings</p>
<p>C. 2 and 6 are siblings</p>
<p>D. 9 is the parent of 7</p>
<details class="key-point">
<summary>Answer</summary>
<p>插入建树就行，记得每次插入后如果有失衡就立刻旋转，选B。</p>
</details>
</details>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#notes-computerscience-ads-__codelineno-0-1"></a><span class="n">Node</span><span class="w"> </span><span class="nf">RightRotate</span><span class="p">(</span><span class="n">Node</span><span class="w"> </span><span class="n">UnbalancedNode</span><span class="p">){</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#notes-computerscience-ads-__codelineno-0-2"></a><span class="w">    </span><span class="n">Node</span><span class="w"> </span><span class="n">Child</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UnbalancedNode</span><span class="o">-&gt;</span><span class="n">LeftChild</span><span class="p">;</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#notes-computerscience-ads-__codelineno-0-3"></a><span class="w">    </span><span class="n">Node</span><span class="w"> </span><span class="n">GrandChild</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Child</span><span class="o">-&gt;</span><span class="n">RightChild</span><span class="p">;</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#notes-computerscience-ads-__codelineno-0-4"></a><span class="w">    </span><span class="n">Child</span><span class="o">-&gt;</span><span class="n">RightChild</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UnbalancedNode</span><span class="p">;</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#notes-computerscience-ads-__codelineno-0-5"></a><span class="w">    </span><span class="n">UnbalancedNode</span><span class="o">-&gt;</span><span class="n">LeftChild</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GrandChild</span><span class="p">;</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#notes-computerscience-ads-__codelineno-0-6"></a><span class="w">    </span><span class="n">Update</span><span class="p">(</span><span class="n">UnbalancedNode</span><span class="p">);</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#notes-computerscience-ads-__codelineno-0-7"></a><span class="w">    </span><span class="n">Update</span><span class="p">(</span><span class="n">Child</span><span class="p">);</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#notes-computerscience-ads-__codelineno-0-8"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Child</span><span class="p">;</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#notes-computerscience-ads-__codelineno-0-9"></a><span class="p">}</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#notes-computerscience-ads-__codelineno-0-10"></a>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#notes-computerscience-ads-__codelineno-0-11"></a><span class="n">Node</span><span class="w"> </span><span class="nf">LeftRotate</span><span class="p">(</span><span class="n">Node</span><span class="w"> </span><span class="n">UnbalancedNode</span><span class="p">){</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#notes-computerscience-ads-__codelineno-0-12"></a><span class="w">    </span><span class="n">Node</span><span class="w"> </span><span class="n">Child</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UnbalancedNode</span><span class="o">-&gt;</span><span class="n">RightChild</span><span class="p">;</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#notes-computerscience-ads-__codelineno-0-13"></a><span class="w">    </span><span class="n">Node</span><span class="w"> </span><span class="n">GrandChild</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Child</span><span class="o">-&gt;</span><span class="n">LeftChild</span><span class="p">;</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#notes-computerscience-ads-__codelineno-0-14"></a><span class="w">    </span><span class="n">Child</span><span class="o">-&gt;</span><span class="n">LeftChild</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UnbalancedNode</span><span class="p">;</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#notes-computerscience-ads-__codelineno-0-15"></a><span class="w">    </span><span class="n">UnbalancedNode</span><span class="o">-&gt;</span><span class="n">RightChild</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GrandChild</span><span class="p">;</span>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#notes-computerscience-ads-__codelineno-0-16"></a><span class="w">    </span><span class="n">Update</span><span class="p">(</span><span class="n">UnbalancedNode</span><span class="p">);</span>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#notes-computerscience-ads-__codelineno-0-17"></a><span class="w">    </span><span class="n">Update</span><span class="p">(</span><span class="n">Child</span><span class="p">);</span>
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#notes-computerscience-ads-__codelineno-0-18"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Child</span><span class="p">;</span>
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#notes-computerscience-ads-__codelineno-0-19"></a><span class="p">}</span>
</code></pre></div>
<p>AVL 树的搜索、插入和删除操作的时间复杂度为 <span class="arithmatex">\(O(logn)\)</span>。</p>
<h2 id="notes-computerscience-ads-splay">Splay树<a class="headerlink" href="#notes-computerscience-ads-splay" title="Permanent link">&para;</a></h2>
<p>是二叉搜索树的一种：</p>
<ul>
<li>每访问一个节点，将其旋转到根节点，会使树的高度降低。</li>
<li>一般从根节点开始旋转，直到目标节点成为根节点。</li>
<li>zig: 访问节点的父节点是根节点时，只需一次旋转（把访问节点转上去）</li>
<li>zig-zig: 访问节点的父节点不是根，且访问节点、父节点、祖父节点在同一侧时，需要两次旋转（沿祖父节点-父节点旋转，再沿父节点-访问节点旋转）</li>
<li>zig-zag: 访问节点的父节点不是根，且访问节点、父节点、祖父节点不在同一条链上时，需要两次旋转（沿父节点-访问节点旋转，再沿祖父节点-访问节点旋转）（这是因为第一次旋转后访问节点便与原祖父节点有了一条关系边）</li>
</ul>
<details class="note" open="open">
<summary>有关旋转的一道作业题</summary>
<p><a href="https://ms.ntub.edu.tw/~spade/teaching/x-DS2005/DS-04-23.pdf">https://ms.ntub.edu.tw/~spade/teaching/x-DS2005/DS-04-23.pdf</a></p>
</details>
<h2 id="notes-computerscience-ads-_2">摊还分析<a class="headerlink" href="#notes-computerscience-ads-_2" title="Permanent link">&para;</a></h2>
<p>对一个空的数据结构连续进行<span class="arithmatex">\(m\)</span>次操作，Worst_cost为<span class="arithmatex">\(\max_{1\leq i\leq m} c_i\)</span>，Average_cost为<span class="arithmatex">\(\frac{\sum_{i=1}^m c_i}{m}\)</span>，前者太大，后者难以计算。</p>
<p>引入Amortized_cost <span class="arithmatex">\(\hat{c_i} = c_i + \Delta_i\)</span>，<span class="arithmatex">\(\Delta_i\)</span>可正可负。且有<span class="arithmatex">\(\sum_{i=1}^m \hat{c_i} \geq \sum_{i=1}^m c_i\)</span>，即<span class="arithmatex">\(\hat{c_i}\)</span>是对<span class="arithmatex">\(c_i\)</span>的一种“平摊”。</p>
<p>worst-case time <span class="arithmatex">\(\geq\)</span> <strong>amortized time</strong> <span class="arithmatex">\(\geq\)</span> average time</p>
<p>以对某Stack的操作为例：有<code>pop</code>、<code>push</code>、<code>multi_pop</code>的操作，其中<code>multi_pop</code>连续<code>pop</code>栈上<code>min(k, size)</code>个元素。</p>
<p><code>pop</code>和<code>push</code>一次cost为1，<code>multi_pop</code>一次cost为k。</p>
<h3 id="notes-computerscience-ads-_3">聚合法<a class="headerlink" href="#notes-computerscience-ads-_3" title="Permanent link">&para;</a></h3>
<p>进行连续<code>n</code>次操作（如上述三种操作），最坏的操作序列的总cost为<code>Tn</code>，则摊还时间为<code>Tn/n</code>。</p>
<p>此处有陷阱：可能会以为，（对<code>multi_pop</code>而言）最坏的操作就是连着进行<code>n</code>次<code>multi_pop</code>，每次pop出<code>n</code>个元素，于是得到<span class="arithmatex">\(O(n^2)\)</span>的错误答案，但实际上这种情况根本不会发生，栈里不可能一直有<code>n</code>个元素。</p>
<p>因此最坏情况实则是<code>n-1</code>次<code>push</code>和一次<code>multi_pop</code>，cost为<code>2n-2</code>，摊还时间为<span class="arithmatex">\(\frac{2n-2}{n}=\frac{O(n)}{n}=O(1)\)</span>。</p>
<h3 id="notes-computerscience-ads-_4">核算法<a class="headerlink" href="#notes-computerscience-ads-_4" title="Permanent link">&para;</a></h3>
<h3 id="notes-computerscience-ads-_5">势能法<a class="headerlink" href="#notes-computerscience-ads-_5" title="Permanent link">&para;</a></h3>
<p>令<span class="arithmatex">\(\hat{c_i} - c_i = Credit_i = \Phi(D_i) - \Phi(D_{i-1})\)</span></p>
<p>其中<span class="arithmatex">\(\Phi(D_i)\)</span>为第<code>i</code>次操作后该结构的“势能”（是该结构的某个特性的函数，如一棵树的节点个数或高度，一个栈的元素个数等），规定<span class="arithmatex">\(\Phi(D_0)=0\)</span>。</p>
<h2 id="notes-computerscience-ads-_6">红黑树<a class="headerlink" href="#notes-computerscience-ads-_6" title="Permanent link">&para;</a></h2>
<blockquote>
<p>超标小工具：<a href="https://www.cs.usfca.edu/~galles/visualization/RedBlack.html">https://www.cs.usfca.edu/~galles/visualization/RedBlack.html</a></p>
</blockquote>
<p>哨兵化：所有无子节点的子节点都变为无键值的NIL节点，将NIL节点视为叶子，这在性质5里很有用。</p>
<p>拥有一个颜色Attribute的Balanced Binary Search Tree，满足以下五个条件：</p>
<ol>
<li>每个节点是红色或黑色</li>
<li>根节点是黑色</li>
<li>每个叶子和NIL节点是黑色</li>
<li>每个红色节点的两个子节点都是黑色</li>
<li>从任一节点到其子树中每个叶节点（或NIL）的所有路径都包含相同数目的黑色节点</li>
</ol>
<p>定义黑高度：从某节点到叶子/NIL节点的黑色节点数目是该节点的黑高(Black Height)。BH(Tree) = BH(root)。<br />
定义内/外部节点：NIL节点是外部节点，非NIL节点是内部节点。</p>
<ul>
<li>Lemma：一棵有n个内部节点的红黑树的高度至多为<span class="arithmatex">\(2\ln(n+1)\)</span></li>
</ul>
<h3 id="notes-computerscience-ads-_7">插入<a class="headerlink" href="#notes-computerscience-ads-_7" title="Permanent link">&para;</a></h3>
<p>只能插入红色节点</p>
<p><img alt="" src="../notes/ComputerScience/assets/ADS0.png" /></p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:5"><input checked="checked" id="notes-computerscience-ads-__tabbed_1_1" name="notes-computerscience-ads-__tabbed_1" type="radio" /><input id="notes-computerscience-ads-__tabbed_1_2" name="notes-computerscience-ads-__tabbed_1" type="radio" /><input id="notes-computerscience-ads-__tabbed_1_3" name="notes-computerscience-ads-__tabbed_1" type="radio" /><input id="notes-computerscience-ads-__tabbed_1_4" name="notes-computerscience-ads-__tabbed_1" type="radio" /><input id="notes-computerscience-ads-__tabbed_1_5" name="notes-computerscience-ads-__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="notes-computerscience-ads-__tabbed_1_1">Case -1</label><label for="notes-computerscience-ads-__tabbed_1_2">Case 0</label><label for="notes-computerscience-ads-__tabbed_1_3">Case 1</label><label for="notes-computerscience-ads-__tabbed_1_4">Case 2</label><label for="notes-computerscience-ads-__tabbed_1_5">Case 3</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>插入节点为根节点，直接涂黑</p>
</div>
<div class="tabbed-block">
<p>父节点为黑，不破坏性质，直接插入</p>
</div>
<div class="tabbed-block">
<p>父节点和叔叔节点都是红色，将父节点和叔叔节点涂黑，祖父节点涂红，这时可能祖父节点和其父节点都是红色，向上继续递归调整。</p>
</div>
<div class="tabbed-block">
<p>父节点为红色，叔叔节点为黑色（或NIL），并且新节点处于离叔叔节点更近的侄子位，此时先将父节点（父节点为左孩子）左旋/（父节点为右孩子）右旋下去，原父节点变为叔叔节点的远侄子，转为Case 3。</p>
</div>
<div class="tabbed-block">
<p>父节点为红色，叔叔节点为黑色（或NIL），新节点处于离叔叔节点更远的侄子位，此时将祖父节点涂红，父节点涂黑，然后将祖父节点左旋/右旋下去，完成插入。</p>
</div>
</div>
</div>
<h3 id="notes-computerscience-ads-_8">删除<a class="headerlink" href="#notes-computerscience-ads-_8" title="Permanent link">&para;</a></h3>
<ul>
<li>删除叶子节点：<code>if(child-&gt;color==black) child-&gt;parent-&gt;onechild = NIL else = NULL</code></li>
<li>删除度为1的节点：用其唯一子节点替代</li>
<li>
<p>删除度为2的节点：类似BST的删除，用左子树的最大节点或右子树的最小节点替代，具体如下：</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:1"><input checked="checked" id="notes-computerscience-ads-__tabbed_2_1" name="notes-computerscience-ads-__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="notes-computerscience-ads-__tabbed_2_1">Case 1</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>找到其后继节点，将其值复制到当前节点，删除后继节点</p>
</div>
</div>
</div>
</li>
</ul>
<p><del>TBD</del> 不补了</p>
<h2 id="notes-computerscience-ads-b">B+树<a class="headerlink" href="#notes-computerscience-ads-b" title="Permanent link">&para;</a></h2>
<p>B阶B+树满足以下性质：</p>
<ol>
<li>叶子节点在同一层</li>
<li>叶子节点存储的元素称为Data Element</li>
<li><span class="arithmatex">\(\lceil \frac{B}{2} \rceil \leq \text{Degree of In-Node} \leq B\)</span></li>
<li><span class="arithmatex">\(2 \leq \text{Degree of Root} \leq B\)</span></li>
<li><span class="arithmatex">\(\lceil \frac{B}{2} \rceil \leq \text{每片叶中元素个数} \leq B\)</span></li>
<li>若根为叶，则<span class="arithmatex">\(1 \leq \text{根元素数目} \leq B\)</span></li>
<li>In-Node 存储的第<span class="arithmatex">\(i\)</span>个值<span class="arithmatex">\(e_i\)</span>是该Node的第<span class="arithmatex">\(i+1\)</span>个子树的叶子中的最小值</li>
</ol>
<p>B+树的深度为<span class="arithmatex">\(O(\lceil \log_{\lceil \frac{B}{2} \rceil} n \rceil)\)</span>，其中<span class="arithmatex">\(n\)</span>为元素个数。</p>
<h3 id="notes-computerscience-ads-_9">操作<a class="headerlink" href="#notes-computerscience-ads-_9" title="Permanent link">&para;</a></h3>
<p><span class="arithmatex">\(n\)</span>个元素的B+树高度为<span class="arithmatex">\(h\)</span>，则：</p>
<ol>
<li>分裂（核心操作）：B+ 树的核心在于其分裂操作。可以把M 的限制看做对连出去的边数的限制，叶子节点相当于是连出去至多 M 条节点—数据的边，这样可以把非叶节点和叶子节点的情况统一看待。当某个节点已经连出去 M 条边，需要塞第M+1 条边的时候，需要分裂。分裂会产生一个和原节点同级的节点，就在原节点的右侧。原节点的前⌈(M+1)/2⌉ 个孩子还属于自己，剩下的 ⌊(M+1)/2⌋ 个孩子需要交给新创建的节点。如果分裂的过程中，导致父节点也超出了M 的限制，就需要对父节点也进行分裂，以此类推。如果父节点已经是根节点，就创建一个新根再进行分裂，此时树高会增加 1，其他情况下树高不会改变。（Credit: <a href="https://mem.ac">https://mem.ac</a>）</li>
<li>搜索：<span class="arithmatex">\(O(\log n)\)</span></li>
<li>插入/删除：<span class="arithmatex">\(O(\frac{B}{\log B} \log n)\)</span></li>
</ol>
<p>具体操作见：<a href="https://note.isshikih.top/cour_note/D2CX_AdvancedDataStructure/Lec02">https://note.isshikih.top/cour_note/D2CX_AdvancedDataStructure/Lec02</a></p>
<h2 id="notes-computerscience-ads-_10">倒排索引<a class="headerlink" href="#notes-computerscience-ads-_10" title="Permanent link">&para;</a></h2>
<p>Recall 邻接表，倒排索引当中包含了所有文档中的关键字，并且以链表的形式进行存储，每个关键字对应一个链表，链表中存储了包含这个关键字的文档的编号，出现的位置以及次数。<br />
查询关键字可用 hash table 或 Search Tree，search tree 查询速度较慢，但进行范围查询较为容易；hash table 查询速度较快，但是进行范围查询相对困难。<br />
搜索的性能衡量指标有两个：召回率和准确率。召回率是指检索到的相关文档数与系统中所有相关文档数的比值，准确率是指检索到的相关文档数与检索到的文档总数的比值。</p>
<table>
<thead>
<tr>
<th>TableOf</th>
<th>Relevant</th>
<th>Irrelevant</th>
</tr>
</thead>
<tbody>
<tr>
<td>Retrieved</td>
<td><span class="arithmatex">\(R_R\)</span></td>
<td><span class="arithmatex">\(I_R\)</span></td>
</tr>
<tr>
<td>Not Retrieved</td>
<td><span class="arithmatex">\(R_N\)</span></td>
<td><span class="arithmatex">\(I_N\)</span></td>
</tr>
</tbody>
</table>
<ul>
<li>召回率：<span class="arithmatex">\(Recall = \frac{R_R}{R_R+R_N}\)</span></li>
<li>准确率：<span class="arithmatex">\(Precision = \frac{R_R}{R_R+I_R}\)</span></li>
</ul>
<details class="note" open="open">
<summary>作业题</summary>
<p>Precision is more important than recall when evaluating the explosive detection in airport security.()<br />
准确度在航班安检时爆炸物的探测中比召回率更重要。（）</p>
<details>
<summary>Answer</summary>
<p>False. 召回率更重要，因为不能漏掉任何一个爆炸物。<br />
“召回率就是，宁可错杀一千绝不放过一个。” -- yy老师</p>
</details>
</details>
<h2 id="notes-computerscience-ads-_11">左式堆与斜堆<a class="headerlink" href="#notes-computerscience-ads-_11" title="Permanent link">&para;</a></h2>
<h3 id="notes-computerscience-ads-_12">左式堆<a class="headerlink" href="#notes-computerscience-ads-_12" title="Permanent link">&para;</a></h3>
<p>回忆普通二叉堆的性质：</p>
<blockquote>
<p>wyy有话说</p>
</blockquote>
<ol>
<li>Insert：我们直接插在完全二叉树的下一个空位上，然后 percolate up 找到它应当在的位置，显然最坏情况也与完全二叉树的高度成正比，即 O(log n)。</li>
<li>FindMin：直接返回根结点即可，时间 O(1)。</li>
<li>DeleteMin：直接用完全二叉树的最后一个元素顶替根结点，然后 percolate down 找到新根结点的归宿，时间 O(log n)。</li>
<li>BuildHeap：即对 n 个元素建堆存储。这是一个比较特别的操作，最原始的方法就是连续插入 n次，但这样时间复杂度为 O(n log n)，所以我们要有更好的手段。我们的方法是：无需管序性质，直接任意插入这 n 个值，然后从完全二叉树倒数第二排有孩子的结点开始，往前依次检查是否有违反序性质的，有就 percolate down 到正确的位置，循环直到根结点也调整完毕为止，可以验证这样的算法复杂度为 O(n)，具体可见数据结构基础的教材与 PPT。</li>
</ol>
<ul>
<li>除此之外，我们还有一些操作，这些操作在 Dijkstra 算法加速等场景中可能有应用，因此也展开介绍：<ol>
<li>DecreaseKey/IncreaseKey：非常简单，直接用 percolate up/down 实现即可。</li>
<li>Delete：用 DecreaseKey 把 key 降低到最低，percolate up 到根结点后调用 DeleteMin 即可。</li>
</ol>
</li>
</ul>
<p>为了进行 merge 操作，使得 merge 更快，引入了左式堆。</p>
<ul>
<li>定义<span class="arithmatex">\(NPL(x)\)</span>：x到一个孩子不足两个的节点的最短路径长，于是只有一个孩子或者叶子的节点的<span class="arithmatex">\(NPL\)</span>为0，且定义<span class="arithmatex">\(NPL(NULL)=-1\)</span>。</li>
<li>从而<span class="arithmatex">\(NPL(X) = 1 + \min(NPL(LeftChild), NPL(RightChild))\)</span></li>
<li>左式堆：每个节点的左孩子的<span class="arithmatex">\(NPL\)</span>大于等于右孩子的<span class="arithmatex">\(NPL\)</span>。</li>
<li>定理：在右路径上有 r 个结点的左式堆必然至少有 <span class="arithmatex">\(2^r − 1\)</span> 个结点（右路径指从根结点出发一路找右孩子直到找到叶子的路径）。</li>
</ul>
<h4 id="notes-computerscience-ads-_13">操作<a class="headerlink" href="#notes-computerscience-ads-_13" title="Permanent link">&para;</a></h4>
<ol>
<li>Merge：核心操作</li>
<li>Insert：看作一个节点和一个左式堆的 merge</li>
<li>DeleteMin：删去根节点，然后 merge 左右子树</li>
<li>Delete: 删去该节点，然后 merge 左右子树，然后 Bottom-up 递归调整 NPL</li>
</ol>
<p>How to Merge(递归版本):<br />
<img alt="" src="../notes/ComputerScience/assets/ADS1.png" /></p>
<p>非递归版本：<br />
<img alt="" src="../notes/ComputerScience/assets/ADS2.png" /></p>
<h3 id="notes-computerscience-ads-_14">斜堆<a class="headerlink" href="#notes-computerscience-ads-_14" title="Permanent link">&para;</a></h3>
<p>斜堆(skew heap)也叫自适应堆(self-adjusting heap)，它是左式堆的一个变种。通常用来实现优先队列，支持插入，删除，合并操作，并且均摊复杂度都为<span class="arithmatex">\(O(\log n)\)</span>。</p>
<p>斜堆在结构上没什么特殊要求，只需要是一颗二叉树，并且结点满足堆序即可。</p>
<h4 id="notes-computerscience-ads-_15">操作<a class="headerlink" href="#notes-computerscience-ads-_15" title="Permanent link">&para;</a></h4>
<ul>
<li>Merge<ul>
<li>如果一个空斜堆与一个非空斜堆合并，返回左右子树互换的非空斜堆。<ul>
<li>如果两个斜堆都非空，那么比较两个根结点，将较小的根结点的右孩子对应的子堆和另一个堆去合并，合并得到的新子堆的根结点作为新的右孩子。</li>
<li>将当前根结点的左右孩子互换位置。</li>
</ul>
</li>
<li>迭代版本的合并类似上面左式堆的那张图，不过在Step 2要变成Swap Right paths中每个节点的左右子树（从下往上）。</li>
</ul>
</li>
</ul>
<p>插入和删除和左式堆一样。</p>
<h2 id="notes-computerscience-ads-_16">二项堆<a class="headerlink" href="#notes-computerscience-ads-_16" title="Permanent link">&para;</a></h2>
<p>二项堆是一个由<span class="arithmatex">\(K\)</span>个二项树<span class="arithmatex">\(B_k, B_{k-1}, ... , B_0\)</span>组成的森林。</p>
<p>二项树<span class="arithmatex">\(B_k\)</span>的定义如下：</p>
<ol>
<li><span class="arithmatex">\(B_0\)</span>是一个单节点树。</li>
<li><span class="arithmatex">\(B_k\)</span>是通过将一棵<span class="arithmatex">\(B_{k-1}\)</span>树附接到另一棵<span class="arithmatex">\(B_{k-1}\)</span>树的根上得到的。</li>
<li><span class="arithmatex">\(B_k\)</span>高度为<span class="arithmatex">\(k\)</span>，有<span class="arithmatex">\(2^k\)</span>个节点。</li>
<li>深度为<span class="arithmatex">\(d\)</span>的节点数为<span class="arithmatex">\(C_k^d\)</span>。</li>
</ol>
<p>每个二项堆可以用一个唯一的二进制数表示，如<span class="arithmatex">\(1101\)</span>表示一个由<span class="arithmatex">\(B_3, B_2, B_0\)</span>组成的二项堆。</p>
<h3 id="notes-computerscience-ads-_17">二项堆的操作<a class="headerlink" href="#notes-computerscience-ads-_17" title="Permanent link">&para;</a></h3>
<ol>
<li>FindMin: 直接遍历所有树,注意到对于一个有<span class="arithmatex">\(n\)</span>个结点的二项堆，最多有<span class="arithmatex">\(\log n\)</span>棵树，因此时间复杂度为<span class="arithmatex">\(O(\log n)\)</span></li>
<li>Merge: 类比二进制数的竖式加法，确定合并二项树的顺序，时间复杂度为<span class="arithmatex">\(O(\log n)\)</span></li>
<li>DeleteMin: 先 FindMin 找到最小根节点，去除此根节点所在的二项树，剩余二项树记为新的二项堆<span class="arithmatex">\(R\)</span>。对这个二项树，删除根节点后，其留下的孩子们视作一个新的二项堆<span class="arithmatex">\(S\)</span>，然后将<span class="arithmatex">\(S\)</span>和<span class="arithmatex">\(R\)</span>合并。时间复杂度为<span class="arithmatex">\(O(\log n)\)</span></li>
</ol>
<div class="admonition note">
<p class="admonition-title">各种堆的操作时间复杂度</p>
<p><img alt="Heaps" src="../notes/ComputerScience/assets/ADS5.jpg" /></p>
</div>
<h2 id="notes-computerscience-ads-_18">回溯<a class="headerlink" href="#notes-computerscience-ads-_18" title="Permanent link">&para;</a></h2>
<h3 id="notes-computerscience-ads--">α-β剪枝<a class="headerlink" href="#notes-computerscience-ads--" title="Permanent link">&para;</a></h3>
<p>Alpha 剪枝是指对于 min 结点，如果其兄弟结点的值比当前结点的值大，那么就不再搜索当前结点的子结点；Beta 剪枝是指对于 max 结点，如果其兄弟结点的值比当前结点的值小，那么就不再搜索当前结点的子结点。</p>
<div class="admonition note">
<p class="admonition-title">一道作业题</p>
<p><img alt="" src="../notes/ComputerScience/assets/ADS3.png" /></p>
</div>
<h2 id="notes-computerscience-ads-_19">分治<a class="headerlink" href="#notes-computerscience-ads-_19" title="Permanent link">&para;</a></h2>
<h3 id="notes-computerscience-ads-master-theorem">Master Theorem 主定理<a class="headerlink" href="#notes-computerscience-ads-master-theorem" title="Permanent link">&para;</a></h3>
<p>主定理适用于求解如下递归式算法的时间复杂度：<span class="arithmatex">\(T(n) = aT(\frac{n}{b}) + f(n)\)</span></p>
<p>那么</p>
<ul>
<li>若对于某个大于0的常数 <span class="arithmatex">\(\epsilon\)</span> 有 <span class="arithmatex">\(f(n) = O(n^{log_b{a}-\epsilon})\)</span>，那么 <span class="arithmatex">\(T(n) = \Theta(n^{log_b{a}})\)</span></li>
<li>若 <span class="arithmatex">\(f(n) = \Theta(n^{log_b{a}})\)</span>，那么 <span class="arithmatex">\(T(n) = \Theta(n^{log_b{a}} \log n)\)</span></li>
<li>若对于某个大于0的常数 <span class="arithmatex">\(\epsilon\)</span> 有 <span class="arithmatex">\(f(n) = \Omega(n^{log_b{a}+\epsilon})\)</span>，且对于某个常数 <span class="arithmatex">\(c &lt; 1\)</span> 和所有足够大的 <span class="arithmatex">\(n\)</span> 有 <span class="arithmatex">\(a f(\frac{n}{b}) \leq c f(n)\)</span>，那么 <span class="arithmatex">\(T(n) = \Theta(f(n))\)</span></li>
</ul>
<p><img alt="Lemma" src="../notes/ComputerScience/assets/ADS4.png" /></p>
<div class="admonition note">
<p class="admonition-title">Lemma</p>
<div class="arithmatex">\[
T(N) = aT(N/b) + \Theta (N^k \log^{p} N), a \geq 1, b \geq 1, p \geq 0 \\
\textrm{We will have:} \\
T(N) = \Omicron(N^{\log_{b}a}), \textrm{ if } a \gt b^k \\
T(N) = \Omicron(N^k \log^{p} N), \textrm{ if } a \lt b^k \\
T(N) = \Omicron(N^k \log^{p + 1} N), \textrm{ if } a = b^k
\]</div>
<ul>
<li>关于主定理的记忆：<span class="arithmatex">\(a\)</span>是divide把问题分成子问题的个数，<span class="arithmatex">\(b\)</span>是子问题的规模，<span class="arithmatex">\(\Theta (N^k \log^{p} N)\)</span>是合并的复杂度</li>
<li>需要比较的是<span class="arithmatex">\(aT(N/b)\)</span>项和<span class="arithmatex">\(\Theta (N^k \log^{p} N)\)</span>谁占据主导地位，类似于极限的抓大头原则</li>
<li>如果说<span class="arithmatex">\(aT(N/b)\)</span>占据主导地位，那么总的时间复杂度只需要考虑分割的过程，<span class="arithmatex">\(T = \Omicron(\sum_{h = 0}^{\log_{b}N}a^{\log_{b}N - h}) = \Omicron(N^{\log_{b}a})\)</span>，是在背不出就记得分母上的值在对数中放在底上，无论哪种情况，都有N的几次方</li>
<li>如果说合并<span class="arithmatex">\(\Theta (N^k \log^{p} N)\)</span>占据主导地位，那么总的时间复杂度一定是单次合并的复杂度这个数量级的（合并次数是常数）</li>
<li>如果说两者同样重要，仍然是合并的过程更占主导，但是需要补偿给切分的过程一个指数</li>
</ul>
<p>Credit: <a href="https://github.com/Klee1453/ads-geq-40">ADS面向40分斩杀线复习 by Klee1453</a></p>
</div>
<h2 id="notes-computerscience-ads-_20">动态规划<a class="headerlink" href="#notes-computerscience-ads-_20" title="Permanent link">&para;</a></h2>
<p>也就是记忆化搜索。</p>
<h2 id="notes-computerscience-ads-_21">贪心<a class="headerlink" href="#notes-computerscience-ads-_21" title="Permanent link">&para;</a></h2>
<h2 id="notes-computerscience-ads-np">NP问题<a class="headerlink" href="#notes-computerscience-ads-np" title="Permanent link">&para;</a></h2>
<p><img alt="" src="../notes/ComputerScience/assets/ADS6.png" /></p>
<h3 id="notes-computerscience-ads-np-c">常见的NP-C问题<a class="headerlink" href="#notes-computerscience-ads-np-c" title="Permanent link">&para;</a></h3>
<ul>
<li>可满足性问题SAT<ul>
<li>给定一个逻辑表达式，是否存在某种赋值让其为真</li>
</ul>
</li>
<li>顶点覆盖问题<ul>
<li>在图中，找到一个最小的<strong>顶点集合</strong>，使得该集合中的顶点能够覆盖图中的所有边</li>
</ul>
</li>
<li>Clique（团）问题<ul>
<li>无向图中找到一个完全子图，其中的每两个顶点都直接相连</li>
</ul>
</li>
<li>哈密尔顿回路、哈密尔顿路径问题</li>
<li>Dominating Set问题<ul>
<li>在图中，找到一个最小的<strong>顶点集合</strong>，使得该集合中的每个顶点或者与之相邻的顶点都在集合中</li>
</ul>
</li>
<li>Independent Set问题<ul>
<li>在图中，找到一个最大的<strong>顶点集合</strong>，使得该集合中的任意两个顶点都没有边连接</li>
</ul>
</li>
<li>0-1背包问题或者划分问题<ul>
<li>在一个集合中寻找一个子集，让子集元素之和等于二分之一全集元素之和</li>
</ul>
</li>
</ul>
<h3 id="notes-computerscience-ads-np-hard">常见的NP-Hard问题<a class="headerlink" href="#notes-computerscience-ads-np-hard" title="Permanent link">&para;</a></h3>
<ul>
<li>旅行商问题<ul>
<li>给定一系列城市和城市间的距离，求解遍历每个城市的最短距离的回路</li>
</ul>
</li>
<li>装箱问题（NP-HARD）<ul>
<li>给定n个物品，能否用k个箱子装下</li>
</ul>
</li>
</ul>
<p><del>yy老师你说的是中文吗？</del></p>
<h2 id="notes-computerscience-ads-_22">近似算法<a class="headerlink" href="#notes-computerscience-ads-_22" title="Permanent link">&para;</a></h2>
<ul>
<li>近似比<span class="arithmatex">\(\rho = \max \{OPT/C, C/OPT \}\)</span>，<span class="arithmatex">\(C\)</span>为解，<span class="arithmatex">\(OPT\)</span>为最优解。近似比恒大于1，我们的目标是让近似比经历接近1。</li>
<li>PTAS：poly-Time Approx Scheme，多项式时间近似算法。<ul>
<li>PTAS产生一个近似比为<span class="arithmatex">\(1 + \epsilon\)</span>的解（<span class="arithmatex">\(\epsilon \gt 0\)</span>），同时要求<strong>对于问题规模N的</strong>时间复杂度随总是多项式时间的，无论<span class="arithmatex">\(\epsilon\)</span>取何值。</li>
</ul>
</li>
</ul>
<h3 id="notes-computerscience-ads-_23">装箱问题<a class="headerlink" href="#notes-computerscience-ads-_23" title="Permanent link">&para;</a></h3>
<ul>
<li>NextFit：第二个能够和第一个装进箱子就装，否则开个新的<ul>
<li>假设<span class="arithmatex">\(M\)</span>是最优解，NextFit最多用<span class="arithmatex">\(2M-1\)</span>个箱子</li>
</ul>
</li>
<li>FirstFit：查找之前所有装过东西的箱子，装到第一个能装进去的，没有就开个新的<ul>
<li>假设<span class="arithmatex">\(M\)</span>是最优解，FirstFit最多用<span class="arithmatex">\(17M/10\)</span>个箱子，可以构造序列让FirstFit使用<span class="arithmatex">\(17(M - 1)/10\)</span>个箱子</li>
</ul>
</li>
<li>BestFit：查找之前所有装过东西的箱子，装到装进去后最满的那个箱子里，没有就开个新的<ul>
<li>时间复杂度<span class="arithmatex">\(T(N) = \Omicron (N \log N)\)</span></li>
<li>假设<span class="arithmatex">\(M\)</span>是最优解，BestFit最多用<span class="arithmatex">\(17(M)/10\)</span>个箱子</li>
</ul>
</li>
<li>不存在近似比优于<span class="arithmatex">\(1.6666..\)</span>的在线算法</li>
<li>离线算法：对所有物品排个序，然后套上面的三个方案<ul>
<li>FirstFitDecreasing：假设<span class="arithmatex">\(M\)</span>是最优解，最多用<span class="arithmatex">\(11M/9 + 6/9\)</span>个箱子，能够构造序列恰好使用这么多箱子</li>
</ul>
</li>
</ul>
<h3 id="notes-computerscience-ads-_24">背包问题——分数形式<a class="headerlink" href="#notes-computerscience-ads-_24" title="Permanent link">&para;</a></h3>
<ul>
<li>你可以选择装一个物品的一定比例，而非全部装入，还是求背包内的总价值最大的装法</li>
<li>贪心算法：近似比为2</li>
</ul>
<h3 id="notes-computerscience-ads-k-center">K-center问题<a class="headerlink" href="#notes-computerscience-ads-k-center" title="Permanent link">&para;</a></h3>
<ul>
<li>在一个点集中，找k个点，使得所有点到这些点的最小距离组成的集合中的最大值最小。</li>
<li>贪心算法：近似比为2，没有近似比更小的算法</li>
</ul>
<h2 id="notes-computerscience-ads-_25">局部搜索<a class="headerlink" href="#notes-computerscience-ads-_25" title="Permanent link">&para;</a></h2>
<ul>
<li>Neighborhood：定义了一个解的邻域，即在当前解的基础上，通过一定的操作得到的解的集合（<span class="arithmatex">\(N(S)\)</span>）</li>
<li>局部最优解（Local Optimum）：在邻域内是最好的解</li>
<li>从一个可行的解开始，通过在邻域内搜索，找到一个更好的解</li>
<li>无法找到更好的解时，停止搜索</li>
</ul>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#notes-computerscience-ads-__codelineno-1-1"></a><span class="n">Start</span> <span class="kn">from</span><span class="w"> </span><span class="nn">a</span> <span class="n">feasible</span> <span class="n">solution</span> <span class="n">S</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#notes-computerscience-ads-__codelineno-1-2"></a><span class="n">MinCost</span> <span class="o">=</span> <span class="n">cost</span><span class="p">(</span><span class="n">S</span><span class="p">)</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#notes-computerscience-ads-__codelineno-1-3"></a><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#notes-computerscience-ads-__codelineno-1-4"></a>    <span class="n">S</span><span class="s1">&#39; = search(N(S))</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#notes-computerscience-ads-__codelineno-1-5"></a>    <span class="n">CurrentCost</span> <span class="o">=</span> <span class="n">cost</span><span class="p">(</span><span class="n">S</span><span class="s1">&#39;)</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#notes-computerscience-ads-__codelineno-1-6"></a>    <span class="k">if</span> <span class="n">CurrentCost</span> <span class="o">&lt;</span> <span class="n">MinCost</span><span class="p">:</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#notes-computerscience-ads-__codelineno-1-7"></a>        <span class="n">MinCost</span> <span class="o">=</span> <span class="n">CurrentCost</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#notes-computerscience-ads-__codelineno-1-8"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#notes-computerscience-ads-__codelineno-1-9"></a>        <span class="k">break</span>
</code></pre></div>
<code>Search</code>一般找邻域中最好的解</p>
<h3 id="notes-computerscience-ads-vertex-cover">Vertex Cover问题<a class="headerlink" href="#notes-computerscience-ads-vertex-cover" title="Permanent link">&para;</a></h3>
<p>在一个图中，找到一个最小的顶点集合，使得该集合中的顶点能够覆盖图中的所有边。（每条边至少有一个端点在集合中）</p>
<ul>
<li>Feasible Solution(Original): 取所有顶点</li>
<li>search(N(S)): 从当前Solution中每次删除一个顶点，看看能不能找到更好的（顶点数更少的）解</li>
<li>删错一个就炸缸了</li>
</ul>
<div class="admonition note">
<p class="admonition-title">改良</p>
<ul>
<li>Metropolis Algorithm: <code>Search</code>变为在邻域内随机选择一个顶点，同时加入找到的解更差，不一定退出搜索，而是有一定概率<span class="arithmatex">\(e^{\frac{-\Delta cost}{kT}}\)</span>接受这个解（类似于回溯）</li>
</ul>
</div>
<h3 id="notes-computerscience-ads-hopfield">Hopfield 神经网络<a class="headerlink" href="#notes-computerscience-ads-hopfield" title="Permanent link">&para;</a></h3>
<ul>
<li>边是好的：两个顶点的值乘以权重是负数</li>
<li>点是好的：和他相连的所有边，好边权重和大于坏边权重和</li>
<li>问题：求一种对点的赋值，使得所有点是好的</li>
<li>邻域:=选择一条不好的边，选一个<strong>顶点</strong>取反（Stabe-filpping Algorithm）</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#notes-computerscience-ads-__codelineno-2-1"></a><span class="n">State_flipping</span><span class="p">{</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#notes-computerscience-ads-__codelineno-2-2"></a>    <span class="n">Start</span> <span class="kn">from</span><span class="w"> </span><span class="nn">an</span> <span class="n">arbitrary</span> <span class="n">configuration</span> <span class="n">S</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#notes-computerscience-ads-__codelineno-2-3"></a>    <span class="k">while</span> <span class="n">S</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">stable</span><span class="p">:</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#notes-computerscience-ads-__codelineno-2-4"></a>        <span class="n">u</span> <span class="o">=</span> <span class="n">Get</span> <span class="n">a</span> <span class="n">unsatisfied</span> <span class="n">Vertex</span> <span class="ow">in</span> <span class="n">S</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#notes-computerscience-ads-__codelineno-2-5"></a>        <span class="n">u</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="o">-</span><span class="n">u</span><span class="o">.</span><span class="n">state</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#notes-computerscience-ads-__codelineno-2-6"></a>    <span class="k">return</span> <span class="n">S</span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#notes-computerscience-ads-__codelineno-2-7"></a><span class="p">}</span>
</code></pre></div>
<p>问题来了：这个循环会终止吗？</p>
<ul>
<li>可以证明，<strong>最大迭代次数等于边的权值的绝对值之和</strong></li>
</ul>
<h3 id="notes-computerscience-ads-_26">最大割问题<a class="headerlink" href="#notes-computerscience-ads-_26" title="Permanent link">&para;</a></h3>
<ul>
<li>问题：在一个图中，每一个边都有一个正的权值，将图划分为两个集合，使得跨越两个集合的边的权值最大</li>
<li>这个问题可以转化为霍普菲尔德神经网络问题，点分别赋值为-1或者1（集合A和集合B），因为都是最大化好边权重和。</li>
<li>近似比：2，即局部最优解大于等于全局最优解的一半</li>
</ul>
<h2 id="notes-computerscience-ads-_27">并行算法<a class="headerlink" href="#notes-computerscience-ads-_27" title="Permanent link">&para;</a></h2>
<h3 id="notes-computerscience-ads-pram">PRAM模型<a class="headerlink" href="#notes-computerscience-ads-pram" title="Permanent link">&para;</a></h3>
<p>Parallel Random Access Machine，随机存取并行机器。</p>
<p>按处理器划分</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#notes-computerscience-ads-__codelineno-3-1"></a><span class="k">for</span><span class="w"> </span><span class="n">P_i</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="k">do</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#notes-computerscience-ads-__codelineno-3-2"></a><span class="w">    </span><span class="n">B</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">A</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#notes-computerscience-ads-__codelineno-3-3"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">h</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">log</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="k">do</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#notes-computerscience-ads-__codelineno-3-4"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">n</span><span class="o">/</span><span class="mi">2</span><span class="o">^</span><span class="n">h</span><span class="w"> </span><span class="n">then</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#notes-computerscience-ads-__codelineno-3-5"></a><span class="w">            </span><span class="n">B</span><span class="p">(</span><span class="n">h</span><span class="p">,</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">B</span><span class="p">(</span><span class="n">h</span><span class="mi">-1</span><span class="p">,</span><span class="mi">2</span><span class="n">i</span><span class="mi">-1</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">B</span><span class="p">(</span><span class="n">h</span><span class="mi">-1</span><span class="p">,</span><span class="mi">2</span><span class="n">i</span><span class="p">)</span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#notes-computerscience-ads-__codelineno-3-6"></a><span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="n">stay</span><span class="w"> </span><span class="n">idle</span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#notes-computerscience-ads-__codelineno-3-7"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="o">:</span><span class="w"> </span><span class="n">output</span><span class="w"> </span><span class="n">B</span><span class="p">(</span><span class="n">log</span><span class="w"> </span><span class="n">n</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">:</span><span class="w"> </span><span class="n">stay</span><span class="w"> </span><span class="n">idle</span>
</code></pre></div>
<p>Work-Depth模型</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#notes-computerscience-ads-__codelineno-4-1"></a><span class="k">for</span><span class="w"> </span><span class="n">P_i</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">pardo</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#notes-computerscience-ads-__codelineno-4-2"></a><span class="w">    </span><span class="n">B</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">A</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#notes-computerscience-ads-__codelineno-4-3"></a><span class="k">for</span><span class="w"> </span><span class="n">h</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">log</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="k">do</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#notes-computerscience-ads-__codelineno-4-4"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">P_i</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">n</span><span class="o">/</span><span class="mi">2</span><span class="o">^</span><span class="n">h</span><span class="w"> </span><span class="n">pardo</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#notes-computerscience-ads-__codelineno-4-5"></a><span class="w">        </span><span class="n">B</span><span class="p">(</span><span class="n">h</span><span class="p">,</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">B</span><span class="p">(</span><span class="n">h</span><span class="mi">-1</span><span class="p">,</span><span class="mi">2</span><span class="n">i</span><span class="mi">-1</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">B</span><span class="p">(</span><span class="n">h</span><span class="mi">-1</span><span class="p">,</span><span class="mi">2</span><span class="n">i</span><span class="p">)</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#notes-computerscience-ads-__codelineno-4-6"></a><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="n">stay</span><span class="w"> </span><span class="n">idle</span>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#notes-computerscience-ads-__codelineno-4-7"></a><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">pardo</span>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#notes-computerscience-ads-__codelineno-4-8"></a><span class="w">    </span><span class="n">output</span><span class="w"> </span><span class="n">B</span><span class="p">(</span><span class="n">log</span><span class="w"> </span><span class="n">n</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div>
<ul>
<li>EREW：不允许同时读和同时写；</li>
<li>CREW：允许同时读但不允许同时写的PRAM模型；</li>
<li>CRCW：允许同时读和同时写的PRAM模型</li>
<li>C: Concurrent，R: Read，E: Exclusive，W: Write</li>
</ul>
<h2 id="notes-computerscience-ads-_28">外部排序<a class="headerlink" href="#notes-computerscience-ads-_28" title="Permanent link">&para;</a></h2>
<p>在内存里访问<code>a[i]</code>只需要<span class="arithmatex">\(O(1)\)</span>时间，而在磁盘上更慢。</p>
<ul>
<li>迭代次数：<span class="arithmatex">\(1+\log{N/M}\)</span>，其中 <span class="arithmatex">\(N\)</span> 是数据个数，<span class="arithmatex">\(M\)</span> 是内存大小</li>
</ul></section></section>
                    <section class='print-page md-section' id='section-4-4' heading-number='4.4'>
                        <h1>数学&物理学<a class='headerlink' href='#section-4-4' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="notes-mathematicsandphysics-analysis" heading-number="4.4.1"><nav class='md-tags'><span class='md-tag'>大一下笔记</span></nav><h1 id="ii">数学分析Ⅱ<a class="headerlink" href="#notes-mathematicsandphysics-analysis-ii" title="Permanent link">&para;</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 3073 个字 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 17H7V3h14m0-2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2M3 5H1v16a2 2 0 0 0 2 2h16v-2H3m12.96-10.71-2.75 3.54-1.96-2.36L8.5 15h11z"/></svg></span> 8 张图片 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 9 分钟</p>
</div>
<blockquote>
<p>任课教师：阮火军</p>
</blockquote>
<div class="admonition abstract">
<p class="admonition-title">成绩组成</p>
<ul>
<li>作业+点名 20%  </li>
<li>小测 20%  </li>
<li>期末 60%  </li>
</ul>
</div>
<h2 id="notes-mathematicsandphysics-analysis-_1">级数<a class="headerlink" href="#notes-mathematicsandphysics-analysis-_1" title="Permanent link">&para;</a></h2>
<h3 id="notes-mathematicsandphysics-analysis-_2">重要级数<a class="headerlink" href="#notes-mathematicsandphysics-analysis-_2" title="Permanent link">&para;</a></h3>
<div class="arithmatex">\[
\begin{align*}
&amp;\sum_{n=1}^{\infty} q^{n-1} = \frac{1}{1-q} \\
&amp;亦即等比级数，在-1&lt;q&lt;1时收敛，和为\frac{1}{1-q} \\
&amp;\sum_{n=1}^{\infty} \frac{1}{n^p}收敛当且仅当p&gt;1 \\
&amp;亦即p级数 \\
\end{align*}
\]</div>
<h3 id="notes-mathematicsandphysics-analysis-_3">级数性质<a class="headerlink" href="#notes-mathematicsandphysics-analysis-_3" title="Permanent link">&para;</a></h3>
<p>线性性：<span class="arithmatex">\(\sum_{n=1}^{\infty} (\alpha x_n + \beta y_n) = \alpha \sum_{n=1}^{\infty} x_n + \beta \sum_{n=1}^{\infty} y_n\)</span><br />
其中级数均<strong>收敛</strong>，<span class="arithmatex">\(\alpha,\beta\)</span>为常数</p>
<p>结合性：<strong>收敛</strong>级数和中任意添加括号，其和不变<br />
这是因为新级数的部分和数列是原级数的部分和数列的子列  </p>
<p>一些充分/必要条件：</p>
<div class="arithmatex">\[
\begin{align*}
&amp;\sum_{n=1}^{\infty} x_n收敛 \Leftrightarrow \{S_n\}收敛 \\
&amp;\Leftrightarrow (Cauthy准则) \forall \epsilon &gt; 0, \exists N &gt; 0, 当m&gt;n&gt;N时，有|S_m-S_n|&lt;\epsilon \\
&amp;\Leftrightarrow \forall \epsilon &gt; 0, \exists N &gt; 0, 当n&gt;N时，有|\sum_{k=n+1}^{n+p} x_k|&lt;\epsilon \\
&amp;由此可见，增删改级数的有限项不影响收敛性\\
&amp;取p=1，即得\{x_{n+1}\}&lt;\epsilon，亦即\lim_{n \to \infty} x_n = 0(必要条件) \\
\end{align*}
\]</div>
<h3 id="notes-mathematicsandphysics-analysis-_4">判别级数敛散的方法<a class="headerlink" href="#notes-mathematicsandphysics-analysis-_4" title="Permanent link">&para;</a></h3>
<ol>
<li>定义法，判断<span class="arithmatex">\({S_n}\)</span>是否收敛</li>
<li>利用必要条件先判断<span class="arithmatex">\({x_n}\)</span>是否收敛于0</li>
<li>柯西收敛准则</li>
<li>收敛+发散=发散，收敛+收敛=收敛</li>
</ol>
<h4 id="notes-mathematicsandphysics-analysis-_5">正项级数专属：<a class="headerlink" href="#notes-mathematicsandphysics-analysis-_5" title="Permanent link">&para;</a></h4>
<p>由于<span class="arithmatex">\(S_n\)</span>单调递增，所以<span class="arithmatex">\(\sum_{n=1}^{\infty} x_n\)</span>收敛的充要条件是<span class="arithmatex">\(\{S_n\}\)</span>有上界</p>
<ol>
<li>
<p>比较判别法（<span class="arithmatex">\(A\)</span>为正数）：  </p>
<ul>
<li>若<span class="arithmatex">\(\forall n \ge 1, 0 \le x_n \le Ay_n\)</span>，且<span class="arithmatex">\(\sum_{n=1}^{\infty} y_n\)</span>收敛，则<span class="arithmatex">\(\sum_{n=1}^{\infty} x_n\)</span>收敛  </li>
<li>大的收敛，小的也收敛</li>
<li>若<span class="arithmatex">\(\forall n \ge 1, 0 \le x_n \le Ay_n\)</span>，且<span class="arithmatex">\(\sum_{n=1}^{\infty} x_n\)</span>发散，则<span class="arithmatex">\(\sum_{n=1}^{\infty} y_n\)</span>发散  </li>
<li>小的发散，大的也发散  </li>
<li>由于修改级数的有限项后级数敛散性不变，因此上述条件可以只对从某个<span class="arithmatex">\(N_0\)</span>后开始的项成立，即<span class="arithmatex">\(\forall n \ge 1\)</span>可以变为<span class="arithmatex">\(\exists N_0 \ge 0, \forall n \ge N_0\)</span></li>
</ul>
</li>
<li>
<p>比较判别法的极限形式：  </p>
<ul>
<li>若<span class="arithmatex">\(\lim_{n \to \infty} \frac{x_n}{y_n} = l (0 \le l \le +\infty)\)</span>，则  <ul>
<li>若<span class="arithmatex">\(0 &lt; l &lt; +\infty\)</span>，则<span class="arithmatex">\(\sum_{n=1}^{\infty} x_n\)</span>与<span class="arithmatex">\(\sum_{n=1}^{\infty} y_n\)</span>同敛散</li>
<li>若<span class="arithmatex">\(l=0\)</span>，则<span class="arithmatex">\(x_n\)</span>趋于0的速度更快，充分大项后<span class="arithmatex">\(x_n\)</span>更小，则<span class="arithmatex">\(\sum_{n=1}^{\infty} y_n\)</span>收敛<span class="arithmatex">\(\Rightarrow \sum_{n=1}^{\infty} x_n\)</span>收敛  </li>
<li>若<span class="arithmatex">\(l=+\infty\)</span>，则<span class="arithmatex">\(x_n\)</span>趋于0的速度更慢，充分大项后<span class="arithmatex">\(x_n\)</span>更大，则<span class="arithmatex">\(\sum_{n=1}^{\infty} y_n\)</span>发散<span class="arithmatex">\(\Rightarrow \sum_{n=1}^{\infty} x_n\)</span>发散</li>
</ul>
</li>
</ul>
</li>
</ol>
<details class="例">
<summary>例</summary>
<ul>
<li>判断<span class="arithmatex">\(\sum_{n=1}^{\infty} 2^n \sin \frac{\pi}{3^n}\)</span>的敛散性:<br />
    与收敛级数<span class="arithmatex">\(\pi(\frac{2}{3})^n\)</span>比较<br />
<span class="arithmatex">\(\frac{2^n \sin \frac{\pi}{3^n}}{\pi(\frac{2}{3})^n} = \frac{\sin \frac{\pi}{3^n}}{\frac{\pi}{3^n}} \rightarrow 1 (n \rightarrow \infty)\)</span><br />
    因此<span class="arithmatex">\(\sum_{n=1}^{\infty} 2^n \sin \frac{\pi}{3^n}\)</span>收敛  </li>
<li>判断<span class="arithmatex">\(\sum {(\sqrt[n]{a} - 1)} (a &gt; 1)\)</span>的敛散性：<br />
    对<span class="arithmatex">\(a^x\)</span>泰勒展开：<span class="arithmatex">\(a^x = 1 + x\ln a + o(x)\)</span><br />
    因此<span class="arithmatex">\(\sqrt[n]{a} - 1 = \frac{\ln a}{n}+o(\frac{1}{n})\)</span><br />
    因此<span class="arithmatex">\(\frac{\sqrt[n]{a} - 1}{n} \rightarrow \ln a (n \rightarrow \infty)\)</span>，而<span class="arithmatex">\(\sum \frac{1}{n}\)</span>发散，因此<span class="arithmatex">\(\sum {(\sqrt[n]{a} - 1)}\)</span>发散  </li>
<li>变式：判断<span class="arithmatex">\(\sum_{n=1}^{\infty} (a^\frac{1}{n}+a^{-\frac{1}{n}}-2)\)</span>的敛散性：<br />
    分别泰勒展开到二阶：  <br />
<span class="arithmatex">\(a^\frac{1}{n} = 1 + \frac{\ln a}{n} - \frac{\ln^2 a}{2n^2} + o(\frac{1}{n^2})\)</span><br />
<span class="arithmatex">\(a^{-\frac{1}{n}} = 1 - \frac{\ln a}{n} - \frac{\ln^2 a}{2n^2} + o(\frac{1}{n^2})\)</span><br />
    因此<span class="arithmatex">\(\frac{a^\frac{1}{n}+a^{-\frac{1}{n}}-2}{\frac{\ln^2 a}{n^2}} \rightarrow 1 (n \rightarrow \infty)\)</span>，因此<span class="arithmatex">\(\sum_{n=1}^{\infty} (a^\frac{1}{n}+a^{-\frac{1}{n}}-2)\)</span>收敛</li>
</ul>
</details>
<p>由比较判别法，可以得到下面两种判别法： </p>
<ol start="3">
<li>
<p>根式判别法：  </p>
<ul>
<li>若<span class="arithmatex">\(\lim_{n \to \infty} \sqrt[n]{x_n} = q\)</span>，则  <ul>
<li>若<span class="arithmatex">\(q&lt;1\)</span>，<span class="arithmatex">\(\sum_{n=1}^{\infty} x_n\)</span>收敛  </li>
<li>若<span class="arithmatex">\(q&gt;1\)</span>，<span class="arithmatex">\(\sum_{n=1}^{\infty} x_n\)</span>发散   <ul>
<li>此时<span class="arithmatex">\(\lim_{n \to \infty} \sqrt[n]{x_n}&gt;1\)</span>，有无穷多项<span class="arithmatex">\(x_n\)</span>都大于1</li>
<li>因此<span class="arithmatex">\(x_n\)</span>不趋于0，级数发散。</li>
</ul>
</li>
<li>若<span class="arithmatex">\(q=1\)</span>，无法判断</li>
</ul>
</li>
</ul>
</li>
<li>
<p>比值判别法：  </p>
<ul>
<li>若<span class="arithmatex">\(\lim_{n \to \infty} \frac{x_{n+1}}{x_n} = q\)</span>，则  <ul>
<li>若<span class="arithmatex">\(q&lt;1\)</span>，<span class="arithmatex">\(\sum_{n=1}^{\infty} x_n\)</span>收敛  </li>
<li>若<span class="arithmatex">\(q&gt;1\)</span>，<span class="arithmatex">\(\sum_{n=1}^{\infty} x_n\)</span>发散  </li>
<li>若<span class="arithmatex">\(q=1\)</span>，无法判断</li>
</ul>
</li>
</ul>
</li>
</ol>
<p>3和4实际上是同一个意思，考虑到<span class="arithmatex">\(\lim_{n \to \infty} \frac{x_{n+1}}{x_n} = \lim_{n \to \infty} {\sqrt[n]{x_n}}\)</span>，所以两者是等价的  </p>
<details class="例">
<summary>例</summary>
<ul>
<li>判断<span class="arithmatex">\(\sum_{n=1}^{\infty} n^{2}e^{-n}\)</span>的敛散性：<br />
<span class="arithmatex">\(\sqrt[n]{n^{2}e^{-n}} = \sqrt[n]{n^{2}}\sqrt[n]{e^{-n}} = e^{-1}n^{\frac{2}{n}} \rightarrow e^{-1} &lt; 1 (n \rightarrow \infty)\)</span>，因此<span class="arithmatex">\(\sum_{n=1}^{\infty} n^{2}e^{-n}\)</span>收敛</li>
<li>判断<span class="arithmatex">\(\sum_{n=1}^{\infty} \frac{n^n}{3^{n}n!}\)</span>的敛散性：<br />
<span class="arithmatex">\(\frac{x_{n+1}}{x_n} = \frac{(n+1)^{n+1}3^{n}n!}{3^{n+1}(n+1)!n^{n}} = \frac{(n+1)^{n}}{3n} \rightarrow \frac{1}{3} &lt; 1 (n \rightarrow \infty)\)</span>，因此<span class="arithmatex">\(\sum_{n=1}^{\infty} \frac{n^n}{3^{n}n!}\)</span>收敛</li>
<li>由于3和4本质一样，注意就题目选择更简单的方法</li>
</ul>
</details>
<ol start="5">
<li>积分判别法：  <ul>
<li>若<span class="arithmatex">\(f(x)\)</span>在<span class="arithmatex">\([1,+\infty)\)</span>上连续，且<span class="arithmatex">\(f(x) \ge 0\)</span>，<span class="arithmatex">\(f(x)\)</span>单调递减，则<span class="arithmatex">\(\sum_{n=1}^{\infty} f(n)\)</span>与<span class="arithmatex">\(\int_{1}^{\infty} f(x)dx\)</span>同敛散</li>
</ul>
</li>
</ol>
<h4 id="notes-mathematicsandphysics-analysis-_6">交错级数<a class="headerlink" href="#notes-mathematicsandphysics-analysis-_6" title="Permanent link">&para;</a></h4>
<p>定义：级数<span class="arithmatex">\(\sum_{n=1}^{\infty} (-1)^{n+1}u_n\)</span>称为交错级数,其中<span class="arithmatex">\(u_n \ge 0\)</span>  </p>
<ol>
<li>交错级数的<span class="arithmatex">\(Leibniz\)</span>判别法：  <ul>
<li>若<span class="arithmatex">\(\{u_n\}\)</span>单调递减，且<span class="arithmatex">\(\lim_{n \to \infty} u_n = 0\)</span>，则<span class="arithmatex">\(\sum_{n=1}^{\infty} (-1)^{n+1}u_n\)</span>收敛</li>
</ul>
</li>
</ol>
<details class="例">
<summary>例</summary>
<ul>
<li>下述四个级数均收敛，证明略<ul>
<li><span class="arithmatex">\(\sum_{n=1}^{\infty} \frac{(-1)^{n+1}}{n^p}(p&gt;0)\)</span></li>
<li><span class="arithmatex">\(\sum_{n=2}^{\infty} \frac{(-1)^{n}}{(\ln n)^q}(q&gt;0)\)</span></li>
<li><span class="arithmatex">\(\sum_{n=2}^{\infty} \frac{(-1)^{n}\ln n}{n}\)</span></li>
<li><span class="arithmatex">\(\sum_{n=1}^{\infty} \frac{(-1)^{n+1}n^2}{n^3+1}\)</span></li>
</ul>
</li>
</ul>
</details>
<h3 id="notes-mathematicsandphysics-analysis-_7">绝对收敛与条件收敛<a class="headerlink" href="#notes-mathematicsandphysics-analysis-_7" title="Permanent link">&para;</a></h3>
<p>定义：若<span class="arithmatex">\(\sum_{n=1}^{\infty} |x_n|\)</span>收敛，则<span class="arithmatex">\(\sum_{n=1}^{\infty} x_n\)</span>收敛，称后者绝对收敛（<strong>超级收敛！</strong>）。<br />
由<span class="arithmatex">\(\sum_{k=n+1}^{n+p} x_k \le ||x_{n+1}|+\dots +|x_{n+p}|| \le \epsilon\)</span>既得。<br />
若<span class="arithmatex">\(\sum_{n=1}^{\infty} x_n\)</span>收敛，而<span class="arithmatex">\(\sum_{n=1}^{\infty} |x_n|\)</span>发散，则称前者条件收敛。  </p>
<details class="例">
<summary>例</summary>
<ul>
<li>判断<span class="arithmatex">\(\sum_{n=1}^{\infty} \frac{x^{n}}{n^p}\)</span>的敛散性：  </li>
<li>利用条件/绝对收敛，令<span class="arithmatex">\(u_n = abs(\frac{x^{n}}{n^p}) = \frac{|x|^n}{n^p}\)</span>  </li>
<li>利用根式判别法，<span class="arithmatex">\(\sqrt[n]{u_n} = \frac{|x|}{n^{\frac{p}{n}}} \rightarrow |x| (n \rightarrow \infty)\)</span></li>
<li>因此，当<span class="arithmatex">\(|x|&lt;1\)</span>时，<span class="arithmatex">\(\sum_{n=1}^{\infty} \frac{x^{n}}{n^p}\)</span>绝对收敛</li>
<li>当<span class="arithmatex">\(|x|&gt;1\)</span>时，<span class="arithmatex">\(\frac{x^n}{n^p}\rightarrow \infty\)</span>,<span class="arithmatex">\(\sum_{n=1}^{\infty} \frac{x^{n}}{n^p}\)</span>发散</li>
<li><span class="arithmatex">\(x = 1\)</span>时，原级数为p级数，当<span class="arithmatex">\(p&gt;1\)</span>时绝对收敛，当<span class="arithmatex">\(p \le 1\)</span>时发散</li>
<li><span class="arithmatex">\(x = -1\)</span>时，原级数为交错级数<span class="arithmatex">\(\sum_{n=1}^{\infty} \frac{(-1)^{n}}{n^p}\)</span><ul>
<li><span class="arithmatex">\(p&gt;1\)</span>时，级数的绝对值收敛，级数本身由<span class="arithmatex">\(Liebniz\)</span>判别法收敛，因此绝对收敛。</li>
<li><span class="arithmatex">\(0&lt; p \le 1\)</span>时，级数的绝对值发散，级数本身由<span class="arithmatex">\(Liebniz\)</span>判别法发散，因此条件收敛。</li>
<li><span class="arithmatex">\(p \le 0\)</span>时，<span class="arithmatex">\(\frac{(-1)^n}{n^p}\)</span>不趋向于0，级数发散</li>
</ul>
</li>
</ul>
</details>
<h4 id="notes-mathematicsandphysics-analysis-_8">有用的引论<a class="headerlink" href="#notes-mathematicsandphysics-analysis-_8" title="Permanent link">&para;</a></h4>
<p><span class="arithmatex">\(Abel变换\)</span>:对于数列<span class="arithmatex">\(a_n\)</span>,<span class="arithmatex">\(b_n\)</span>，记<span class="arithmatex">\(A_n,B_n\)</span>分别为其前n项和，<br />
则<span class="arithmatex">\(\sum_{k=1}^{n} a_k b_k = A_n B_n + \sum_{k=1}^{n-1} B_k(a_{k}-a_{k+1})\)</span>  </p>
<p><span class="arithmatex">\(Abel引理\)</span>:记<span class="arithmatex">\(B^{\ast}=\max \{|B_k|,1 \le k \le n\}, a^{\ast} = \max \{|a_k|,1 \le k \le n\}\)</span><br />
上个段落变换后的式子<br />
<span class="arithmatex">\(\le |a_1-a_2||B_1|+|a_2-a_3||B_2|+\dots+|a_{n-1}-a_n||B_{n-1}|+|a_n||B_n|\)</span><br />
<span class="arithmatex">\(\le (|a_1-a_2|+|a_2-a_3|+\dots+|a_{n-1}-a_n|+|a_n|)B^{\ast}\)</span><br />
当<span class="arithmatex">\(a_n\)</span>单调时，<span class="arithmatex">\(a_1 - a_2\)</span>,<span class="arithmatex">\(a_2 - a_3\)</span>,<span class="arithmatex">\(\dots\)</span>,<span class="arithmatex">\(a_{n-1} - a_n\)</span>同号。<br />
<strong>因此先取绝对值在求和等于先求和再取绝对值。</strong><br />
因此上式 <span class="arithmatex">\(= (|a_1 - a_n|+|a_n|)B^{\ast} \le 3a^{\ast}B^{\ast}\)</span>  </p>
<p>得到引理: 若(1)<span class="arithmatex">\(a_n\)</span>单调，(2)<span class="arithmatex">\(B_n\)</span>为<span class="arithmatex">\(b_n\)</span>前n项和<br />
记<span class="arithmatex">\(B^{\ast}=\max \{|B_k|,1 \le k \le n\}, a^* = \max \{|a_k|,1 \le k \le n\}\)</span>，则<span class="arithmatex">\(\sum_{k=1}^{n} a_k b_k \le 3a^{\ast}B^{\ast}\)</span>  </p>
<ul>
<li>由引论可推出下述定理：</li>
<li>Dirichlet判别法：若<span class="arithmatex">\(\{a_n\}\)</span>单调趋于0，<span class="arithmatex">\(\sum b_n\)</span>有界（<span class="arithmatex">\(b_n\)</span>的部分和数列有界），则<span class="arithmatex">\(\sum_{n=1}^{\infty} a_n b_n\)</span>收敛</li>
<li>Abel判别法：若<span class="arithmatex">\(\{a_n\}\)</span>单调有界，<span class="arithmatex">\(\sum b_n\)</span>收敛，则<span class="arithmatex">\(\sum_{n=1}^{\infty} a_n b_n\)</span>收敛  </li>
</ul>
<details class="例">
<summary>例</summary>
<ul>
<li>若<span class="arithmatex">\(a_n\)</span>单调递减且趋向于0，求证<span class="arithmatex">\(\forall x \in [0,2\pi]\)</span>，<span class="arithmatex">\(\sum_{n=1}^{\infty} a_n \sin nx\)</span>收敛  <ul>
<li>由<span class="arithmatex">\(Dirichlet\)</span>判别法，只需证明<span class="arithmatex">\(\sum \sin nx\)</span>有界  </li>
<li>(trick-积化和差)对形如<span class="arithmatex">\(\sin kx\)</span>的数列求和，乘上一个<span class="arithmatex">\(2\sin \frac{x}{2}\)</span>，得到<span class="arithmatex">\(2\sin \frac{x}{2} \sin kx = \cos(k-\frac{1}{2})x-\cos(k+\frac{1}{2})x\)</span>  </li>
<li>因此,<span class="arithmatex">\(2\sin \frac{x}{2} \sum \sin kx = \sum (\cos (k-\frac{1}{2})x-\cos (k+\frac{1}{2})x) = \cos \frac{x}{2}- \cos (n+\frac{1}{2} )x\)</span></li>
<li>因此<span class="arithmatex">\(\forall n \ge 1, |2 \sin \frac{x}{2}\sum \sin kx| = |\cos \frac{x}{2}- \cos (n+\frac{1}{2} )x| \le 2\)</span></li>
<li>因此<span class="arithmatex">\(|\sum \sin kx| \le \frac{1}{|\sin \frac{x}{2}|}(有界)\)</span>    </li>
<li>由Dirichlet判别法，<span class="arithmatex">\(\sum_{n=1}^{\infty} a_n \sin nx\)</span>收敛</li>
</ul>
</li>
<li>若<span class="arithmatex">\(\sum b_n\)</span>收敛，则下述级数都收敛： <ul>
<li><span class="arithmatex">\(\sum \frac{b_n}{n^p}\)</span></li>
<li><span class="arithmatex">\(\sum \frac{b_n}{\sqrt{n+1}}\)</span></li>
<li><span class="arithmatex">\(\sum b_n (1+\frac{1}{n})^n\)</span></li>
</ul>
</li>
</ul>
</details>
<h4 id="notes-mathematicsandphysics-analysis-_9">绝对收敛与条件收敛的性质<a class="headerlink" href="#notes-mathematicsandphysics-analysis-_9" title="Permanent link">&para;</a></h4>
<p>若<span class="arithmatex">\(\sum_{n=1}^{\infty} x_n\)</span>绝对收敛，则<span class="arithmatex">\(\sum_{n=1}^{\infty} x_n^{+}\)</span>与<span class="arithmatex">\(\sum_{n=1}^{\infty} x_n^{-}\)</span>均绝对收敛。<br />
若<span class="arithmatex">\(\sum_{n=1}^{\infty} x_n\)</span>条件收敛，则<span class="arithmatex">\(\sum_{n=1}^{\infty} x_n^{+}\)</span>与<span class="arithmatex">\(\sum_{n=1}^{\infty} x_n^{-}\)</span>均发散。  </p>
<h3 id="notes-mathematicsandphysics-analysis-_10">级数的重排<a class="headerlink" href="#notes-mathematicsandphysics-analysis-_10" title="Permanent link">&para;</a></h3>
<p>定义：设<span class="arithmatex">\(\varphi\)</span>是<span class="arithmatex">\(N^{\ast}\)</span>上的双射，称级数<span class="arithmatex">\(\sum_{n=1}^{\infty} x_{\varphi(n)}\)</span>是级数<span class="arithmatex">\(\sum_{n=1}^{\infty} x_n\)</span>的重排。<br />
亦即对级数进行加法交换律。  </p>
<p>定理：若<span class="arithmatex">\(\sum_{n=1}^{\infty} x_n\)</span>绝对收敛，则<span class="arithmatex">\(\sum_{n=1}^{\infty} x_{\varphi(n)}\)</span>也绝对收敛，且其和与原级数相同。  </p>
<p><span class="arithmatex">\(Riemann定理\)</span>:若<span class="arithmatex">\(\sum_{n=1}^{\infty} x_n\)</span>条件收敛，则一定存在某个重排<span class="arithmatex">\(\sum_{n=1}^{\infty} x_{\varphi(n)}\)</span>，使得其和为任意给定的实数。  </p>
<h3 id="notes-mathematicsandphysics-analysis-_11">级数的乘积<a class="headerlink" href="#notes-mathematicsandphysics-analysis-_11" title="Permanent link">&para;</a></h3>
<ol>
<li><span class="arithmatex">\(Cauchy\)</span>乘积：<span class="arithmatex">\(\sum_{n=1}^{\infty} a_n \sum_{n=1}^{\infty} b_n = \sum_{n=1}^{\infty} (a_1 b_n + a_2 b_{n-1} + \dots + a_n b_1)\)</span> (排成矩阵后的第n条对角线上的元素和)  </li>
<li>正方形乘积：<span class="arithmatex">\(\sum_{n=1}^{\infty} a_n \sum_{n=1}^{\infty} b_n = \sum_{n=1}^{\infty} (a_1 b_n + a_2 b_n + \dots + a_n b_n +a_n b_{n-1} + \dots + a_n b_1)\)</span>(排成矩阵后的第n列到第n行组成的直角上的元素和)  </li>
</ol>
<h4 id="notes-mathematicsandphysics-analysis-cauchy">Cauchy定理<a class="headerlink" href="#notes-mathematicsandphysics-analysis-cauchy" title="Permanent link">&para;</a></h4>
<p>设<span class="arithmatex">\(\sum a_n\)</span>与<span class="arithmatex">\(\sum b_n\)</span>绝对收敛于A,B，<br />
则对于由所有乘积<span class="arithmatex">\(a_i b_j\)</span>任意排序再求和得到的级数也绝对收敛，<br />
且其和等于AB。 </p>
<h2 id="notes-mathematicsandphysics-analysis-_12">函数列与函数项级数<a class="headerlink" href="#notes-mathematicsandphysics-analysis-_12" title="Permanent link">&para;</a></h2>
<p>定义：<span class="arithmatex">\(f_1,f_2,\dots,f_n,\dots\)</span>是定义在<span class="arithmatex">\(E\)</span>上的函数，<br />
则<span class="arithmatex">\(\{f_n\}\)</span>为<span class="arithmatex">\(E\)</span>上的一个函数列。
<span class="arithmatex">\(\forall x \in E\)</span>，若<span class="arithmatex">\(\{f_n(x)\}\)</span>收敛于<span class="arithmatex">\(f(x)\)</span>，则称<span class="arithmatex">\(\{f_n\}\)</span>收敛于<span class="arithmatex">\(f\)</span>，记为<span class="arithmatex">\(f_n \rightarrow f\)</span></p>
<p>若<span class="arithmatex">\(x_0 \in E\)</span>，所有<span class="arithmatex">\(\{f_n(x_0)\}\)</span>都收敛于<span class="arithmatex">\(f(x_0)\)</span>，则称<span class="arithmatex">\(\{f_n\}\)</span>在<span class="arithmatex">\(x_0\)</span>处收敛于<span class="arithmatex">\(f(x_0)\)</span>，记为<span class="arithmatex">\(f_n \rightarrow f(x_0)\)</span><br />
点集<span class="arithmatex">\(\{x \in E \mid \{f_n(x)\} 收敛\}\)</span>称为<span class="arithmatex">\(\{f_n\}\)</span>的收敛域  </p>
<p>点态收敛：<span class="arithmatex">\(\forall x \in D, \forall \epsilon &gt; 0, \exists N(\epsilon ,x) &gt; 0, 当n&gt;N(\epsilon ,x)时，有|f_n(x)-f(x)|&lt;\epsilon\)</span><br />
一致收敛：<span class="arithmatex">\(\forall \epsilon &gt; 0, \exists N(\epsilon) &gt; 0(与x无关), 当n&gt;N(\epsilon)时，有|f_n(x)-f(x)|&lt;\epsilon\)</span>，记为<span class="arithmatex">\(f_n \rightrightarrows f\)</span><br />
不一致收敛：<span class="arithmatex">\(\exists \epsilon_0 &gt; 0, \forall N &gt; 0, \exists n&gt;N, 使得|f_n(x)-f(x)| \ge \epsilon_0\)</span>
一致收敛必定点态收敛。</p>
<details class="例">
<summary>例</summary>
<ul>
<li>证明<span class="arithmatex">\(f_n(x) = x^n 在[0,1]\)</span>不一致收敛  <ul>
<li><span class="arithmatex">\(f(x) = \lim_{n \to \infty} x^n = \begin{cases} 0 &amp; x \in [0,1) \\ 1 &amp; x = 1 \end{cases}\)</span></li>
<li>取<span class="arithmatex">\(\epsilon_0 = \frac{1}{2}\)</span>，则<span class="arithmatex">\(\forall N &gt; 0\)</span>, 令<span class="arithmatex">\(n = N+1\)</span>, 令<span class="arithmatex">\(x = \sqrt[n](\frac{1}{2})\)</span></li>
<li>则<span class="arithmatex">\(|f_n(x)-f(x)| = \frac{1}{2} \ge \epsilon_0\)</span></li>
</ul>
</li>
<li>而这个函数在<span class="arithmatex">\([0,1-\delta],\forall \delta \in (0,1)\)</span>上一致收敛<ul>
<li><span class="arithmatex">\(\forall x \in [0,1-\delta], |f_n(x)-f(x)| = x^n \le (1-\delta)^n \le (1-\delta)^N = \epsilon (取N=\frac{\ln \epsilon}{\ln (1-\delta)})\)</span></li>
</ul>
</li>
</ul>
</details>
<h3 id="notes-mathematicsandphysics-analysis-_13">柯西收敛准则（典中典）<a class="headerlink" href="#notes-mathematicsandphysics-analysis-_13" title="Permanent link">&para;</a></h3>
<p>定义：<span class="arithmatex">\(\{f_n\}\)</span>在<span class="arithmatex">\(E\)</span>上一致收敛的充要条件是<span class="arithmatex">\(\forall \epsilon &gt; 0, \exists N(\epsilon) &gt; 0, 当m,n&gt;N(\epsilon)时，有|f_n(x)-f_m(x)|&lt;\epsilon\)</span><br />
由此可推出另一充要条件：记<span class="arithmatex">\(\sup_{x \in E} |f_n(x)-f(x)| = M_{n}\)</span>，则<span class="arithmatex">\(\{f_n\}\)</span>在<span class="arithmatex">\(E\)</span>上一致收敛的充要条件是<span class="arithmatex">\(\lim_{n \to \infty} M_{n} = 0\)</span></p>
<details class="例">
<summary>例</summary>
<ul>
<li>判断<span class="arithmatex">\(f_n(x) = nxe^{-nx^2}\)</span>在<span class="arithmatex">\(R\)</span>上的一致收敛性</li>
<li>（配凑<span class="arithmatex">\(nx^2\)</span>）<span class="arithmatex">\(\lim_{n \to \infty} nxe^{-nx^2} = \frac{1}{x} \lim_{n \to \infty} \frac{nx^2}{e^{nx^2}} = \frac{1}{x} 0 = 0\)</span></li>
<li>因此极限函数<span class="arithmatex">\(f(x) = 0\)</span>,<span class="arithmatex">\(f_n(x)-f(x) = f_n(x)\)</span>  </li>
<li>求导得<span class="arithmatex">\(f_n'(x) = ne^{-nx^2}(1-2nx^2)\)</span>，令<span class="arithmatex">\(f_n'(x) = 0\)</span>得<span class="arithmatex">\(x = \frac{1}{\sqrt{2n}}\)</span>，此为最大值点</li>
<li>则<span class="arithmatex">\(M_n = f_n(\frac{1}{\sqrt{2n}})\)</span>，不趋于0.</li>
</ul>
</details>
<h3 id="notes-mathematicsandphysics-analysis-d-a">D-A判别法<a class="headerlink" href="#notes-mathematicsandphysics-analysis-d-a" title="Permanent link">&para;</a></h3>
<p>函数项级数<span class="arithmatex">\(\sum_{n=1}^{\infty} a_n b_n\)</span>满足以下两个条件之一时，其在<span class="arithmatex">\(E\)</span>上一致收敛：</p>
<ul>
<li><span class="arithmatex">\(\{a_n(x)\}\)</span>对每一固定的<span class="arithmatex">\(x \in E\)</span>关于<span class="arithmatex">\(n\)</span>单调，且在<span class="arithmatex">\(E\)</span>上一致有界，<span class="arithmatex">\(\sum_{n=1}^{\infty}b_n(x)\)</span>在<span class="arithmatex">\(E\)</span>上一致收敛。（Abel判别法）</li>
<li><span class="arithmatex">\(\{a_n(x)\}\)</span>对每一固定的<span class="arithmatex">\(x \in E\)</span>关于<span class="arithmatex">\(n\)</span>单调，且在<span class="arithmatex">\(E\)</span>上一致收敛于0，<span class="arithmatex">\(\sum_{n=1}^{\infty}b_n(x)\)</span>的部分和数列<span class="arithmatex">\(\sum_{k=1}^{n}b_k(x)\)</span>在<span class="arithmatex">\(E\)</span>上一致有界。（Dirichlet判别法）</li>
</ul>
<h2 id="notes-mathematicsandphysics-analysis-_14">幂级数<a class="headerlink" href="#notes-mathematicsandphysics-analysis-_14" title="Permanent link">&para;</a></h2>
<p>定义：形如<span class="arithmatex">\(\sum_{n=0}^{\infty} a_n(x-x_0)^n = a_0 + a_1(x-x_0)+ \cdots\)</span>的函数项级数称为幂级数  </p>
<p>只需研究<span class="arithmatex">\(\sum a_n x\)</span>的性质。</p>
<ul>
<li>Abel第一定理：<ul>
<li>若上述幂级数在点<span class="arithmatex">\(x=\xi\)</span>处收敛，则对于任意<span class="arithmatex">\(|x|&lt;|\xi|\)</span>，幂级数在点<span class="arithmatex">\(x\)</span>处绝对收敛  </li>
</ul>
</li>
</ul>
<p>由此得到收敛半径的定义：</p>
<ul>
<li>令<span class="arithmatex">\(R = \sup \{ |x| \mid \sum_{n=0}^{\infty} a_n x^n 收敛 \}\)</span>，称<span class="arithmatex">\(R\)</span>为幂级数的收敛半径</li>
<li><span class="arithmatex">\((-R,R)\)</span>称为幂级数的收敛区间</li>
<li>定理：若<span class="arithmatex">\(\lim_{n \to \infty} \sqrt[n]{|a_n|} = A\)</span>，则<span class="arithmatex">\(R = \frac{1}{A} = \begin{cases} 0 &amp; A = +\infty \\ +\infty &amp; A = 0 \\ \frac{1}{A} &amp; 0 &lt; A &lt; +\infty \end{cases}\)</span></li>
<li>推论：若<span class="arithmatex">\(\lim_{n \to \infty} \frac{|a_{n+1}|}{|a_n|} = A\)</span>，则<span class="arithmatex">\(R = \frac{1}{A}\)</span></li>
<li>
<p>收敛域：单独探讨<span class="arithmatex">\(x=R\)</span>与<span class="arithmatex">\(x=-R\)</span>的收敛性后加到收敛区间内</p>
</li>
<li>
<p>Abel第二定理：</p>
<ul>
<li>若幂级数<span class="arithmatex">\(\sum_{n=0}^{\infty} a_n x^n\)</span>的收敛半径为<span class="arithmatex">\(R&gt;0\)</span>，则其在<span class="arithmatex">\((-R,R)\)</span>中内闭一致收敛</li>
<li>若其在<span class="arithmatex">\(x=R\)</span>处收敛，则其在<span class="arithmatex">\([0,R]\)</span>上一致收敛；若其在<span class="arithmatex">\(x=-R\)</span>处收敛，则其在<span class="arithmatex">\([-R,0]\)</span>上一致收敛</li>
</ul>
</li>
</ul>
<p>性质：</p>
<ul>
<li>连续性：幂级数在其收敛区间内连续</li>
<li>可积性：<span class="arithmatex">\(\forall [a,b] \subset (-R,R)\)</span>，幂级数的和函数在<span class="arithmatex">\([a,b]\)</span>上可积，且<span class="arithmatex">\(\int_{a}^{b} \sum_{n=0}^{\infty} a_n x^n dx = \sum_{n=0}^{\infty} a_n \int_{a}^{b} x^n dx\)</span><ul>
<li>推论：取<span class="arithmatex">\(a=0\)</span>, <span class="arithmatex">\(b=x\)</span>，得<span class="arithmatex">\(\int_{0}^{x} \sum_{n=0}^{\infty} a_n t^n dt = \sum_{n=0}^{\infty} \frac{a_n}{n+1} x^{n+1}\)</span><ul>
<li>上面这个级数的收敛半径<span class="arithmatex">\(\ge\)</span>原级数的收敛半径</li>
</ul>
</li>
</ul>
</li>
</ul>
<details class="例">
<summary>例</summary>
<p><span class="arithmatex">\(\sum_{n=0}^{\infty} x^n\)</span>的收敛域为<span class="arithmatex">\((-1,1)\)</span><br />
逐项积分得<span class="arithmatex">\(\sum_{n=0}^{\infty} \frac{1}{n+1} x^{n+1}\)</span>的收敛域为<span class="arithmatex">\([-1,1)\)</span></p>
</details>
<ul>
<li>可微性：幂级数的和函数在其收敛区间内可导，且导函数为逐项求导，求导后收敛半径不变<ul>
<li>推论：取<span class="arithmatex">\(a=0\)</span>, <span class="arithmatex">\(b=x\)</span>，得<span class="arithmatex">\(\sum_{n=0}^{\infty} a_n x^n\)</span>的和函数的导函数为<span class="arithmatex">\(\sum_{n=0}^{\infty} a_n n x^{n-1}\)</span></li>
</ul>
</li>
</ul>
<h3 id="notes-mathematicsandphysics-analysis-_15">幂级数展开<a class="headerlink" href="#notes-mathematicsandphysics-analysis-_15" title="Permanent link">&para;</a></h3>
<p>设<span class="arithmatex">\(f\)</span>是<span class="arithmatex">\(\sum a_n (x-x_0)^n\)</span>在(x_0 - r,x_0 + r)上的和函数，则<span class="arithmatex">\(f\)</span>在该区间任意阶可导，且<span class="arithmatex">\(f^{(k)}(x) = n(n-1) \cdots (n-k+1)a_n(x-x_0)^{n-k}\)</span>  <br />
代入<span class="arithmatex">\(x = x_0\)</span>, 得到<span class="arithmatex">\(f^{(k)}(x_0) = k!a_k\)</span>，因此<span class="arithmatex">\(a_k = \frac{f^{(k)}(x_0)}{k!}\)</span>，这说明幂级数各项的系数由和函数在<span class="arithmatex">\(x_0\)</span>的各阶导数决定  </p>
<p>得泰勒级数：<span class="arithmatex">\(f(x) = \sum_{n=0}^{\infty} \frac{f^{(n)}(x_0)}{n!}(x-x_0)^n\)</span>，<span class="arithmatex">\(x_0 = 0\)</span>时称为麦克劳林级数</p>
<ul>
<li>此时有Lagrange余项：<span class="arithmatex">\(R_n(x) = \frac{f^{(n+1)}(\xi)}{(n+1)!}x^{n+1}\)</span>，<span class="arithmatex">\(\xi \in (0,x)\)</span>, </li>
<li>积分型余项：<span class="arithmatex">\(R_n(x) = \int_{0}^{x} \frac{(x-t)^n}{n!}f^{(n+1)}(t)dt\)</span></li>
<li>Cauchy余项：<span class="arithmatex">\(R_n(x) = \frac{1}{n!} f^{(n+1)}(\theta x)(1-\theta)^n x^{n+1}\)</span>，<span class="arithmatex">\(\theta \in (0,1)\)</span></li>
</ul>
<p>定理（判断和函数的存在性）：</p>
<ul>
<li>若<span class="arithmatex">\(\exists M &gt; 0, \forall x \in (x_0 - r,x_0 + r)\)</span>, 当<span class="arithmatex">\(n\)</span>充分大时有<span class="arithmatex">\(|f^{(n)}(x)| \le M\)</span>，则<span class="arithmatex">\(\forall x \in (x_0 - r,x_0 + r)\)</span>, <span class="arithmatex">\(f(x) = \sum_{n=0}^{\infty} \frac{f^{(n)}(x_0)}{n!}(x-x_0)^n\)</span></li>
</ul>
<details class="常见幂级数展开">
<summary>常见幂级数展开</summary>
<ul>
<li><span class="arithmatex">\((1+x)^{\alpha} = 1 + \sum \frac{\alpha(\alpha-1)\cdots(\alpha-n+1)}{n!}x^n\)</span>，<span class="arithmatex">\(|x|&lt;1\)</span></li>
<li>令<span class="arithmatex">\(\alpha = -1\)</span>，得<span class="arithmatex">\(\frac{1}{1+x} = \sum (-1)^n x^n\)</span>，<span class="arithmatex">\(|x|&lt;1\)</span></li>
<li>对上式逐项求积分，得<span class="arithmatex">\(\ln(1+x) = \sum \frac{(-1)^{n}}{n+1}x^{n+1}\)</span>，<span class="arithmatex">\(x \in (-1,1]\)</span></li>
<li>用<span class="arithmatex">\(x^2\)</span>替换<span class="arithmatex">\(x\)</span>，得<span class="arithmatex">\(\frac{1}{1+x^2} = \sum (-1)^n x^{2n}\)</span>，<span class="arithmatex">\(|x|&lt;1\)</span></li>
<li>逐项积分得到<span class="arithmatex">\(\arctan x = \sum \frac{(-1)^n}{2n+1}x^{2n+1}\)</span>，<span class="arithmatex">\(|x| \le 1\)</span></li>
<li>令<span class="arithmatex">\(\alpha = -\frac{1}{2}\)</span>，得<span class="arithmatex">\(\frac{1}{\sqrt{1+x}} = 1+ \sum \frac{(-1)^n(2n-1)!!}{(2n)!!}x^n\)</span>，<span class="arithmatex">\(|x|&lt;1\)</span></li>
<li>用<span class="arithmatex">\(-x^2\)</span>代替<span class="arithmatex">\(x\)</span>，得<span class="arithmatex">\(\frac{1}{\sqrt{1-x^2}} = 1+ \sum \frac{(2n-1)!!}{(2n)!!}x^{2n}\)</span>，<span class="arithmatex">\(|x|&lt;1\)</span></li>
<li>逐项积分得到<span class="arithmatex">\(\arcsin x = \sum \frac{(2n-1)!!}{(2n)!!} \frac{x^{2n+1}}{2n+1}\)</span>，<span class="arithmatex">\(|x| \le 1\)</span></li>
</ul>
</details>
<details class="例">
<summary>例</summary>
<ul>
<li>求<span class="arithmatex">\(f(x) = \frac{1}{x^2}\)</span>在<span class="arithmatex">\(x = 1\)</span>处展开<ul>
<li>注意到与<span class="arithmatex">\(\frac{1}{x}\)</span>的关系</li>
<li><span class="arithmatex">\(\frac{1}{x} = \frac{1}{1+(x-1)} = \sum (-1)^n (x-1)^n\)</span>，<span class="arithmatex">\(|x-1|&lt;1\)</span></li>
<li>求导，<span class="arithmatex">\(\frac{1}{x^2} = \sum_{n=1}^{\infty} (-1)^{n-1} n(x-1)^{n-1}\)</span>，<span class="arithmatex">\(|x-1|&lt;1\)</span></li>
</ul>
</li>
</ul>
</details>
<h2 id="notes-mathematicsandphysics-analysis-fourier">Fourier级数<a class="headerlink" href="#notes-mathematicsandphysics-analysis-fourier" title="Permanent link">&para;</a></h2>
<h3 id="notes-mathematicsandphysics-analysis-_16">三角级数<a class="headerlink" href="#notes-mathematicsandphysics-analysis-_16" title="Permanent link">&para;</a></h3>
<p>定义：形如<span class="arithmatex">\(\frac{a_0}{2} + \sum_{n=1}^{\infty} (a_n \cos nx + b_n \sin nx)\)</span>的级数称为三角级数  </p>
<p>性质：(1)周期性：<span class="arithmatex">\(T = \frac{2\pi}{n}\)</span><br />
(2) 正交性：<span class="arithmatex">\(\int_{-\pi}^{\pi} \cos nx \cos mx dx = \int_{-\pi}^{\pi} \sin nx \sin mx dx = \pi \delta_{nm} (\delta_{nm}=1,n=m;=0,n \ne m)\)</span>  </p>
<h3 id="notes-mathematicsandphysics-analysis-fourier_1">Fourier<a class="headerlink" href="#notes-mathematicsandphysics-analysis-fourier_1" title="Permanent link">&para;</a></h3>
<p>若<span class="arithmatex">\(f\)</span>以<span class="arithmatex">\(2\pi\)</span>为周期，傅里叶系数<span class="arithmatex">\(a_n = \frac{1}{\pi} \int_{-\pi}^{\pi} f(x) \cos nx dx\)</span>，<span class="arithmatex">\(b_n = \frac{1}{\pi} \int_{-\pi}^{\pi} f(x) \sin nx dx\)</span><br />
以<span class="arithmatex">\(a_n,b_n\)</span>为系数的三角级数称为<span class="arithmatex">\(f\)</span>的Fourier级数    </p>
<p>奇函数的<span class="arithmatex">\(a_n = 0\)</span>，偶函数的<span class="arithmatex">\(b_n = 0\)</span></p>
<p>Bessel不等式：<span class="arithmatex">\(\frac{a_0^2}{2} + \sum_{n=1}^{\infty} (a_n^2 + b_n^2) \le \frac{1}{\pi} \int_{-\pi}^{\pi} f^2(x) dx\)</span></p>
<p>一些推论：</p>
<ul>
<li><span class="arithmatex">\(f\)</span>在<span class="arithmatex">\([-\pi,\pi]\)</span>上可积, 则<span class="arithmatex">\(\lim_{n \to \infty} a_n = \lim_{n \to \infty} b_n = 0\)</span></li>
<li><span class="arithmatex">\(f\)</span>在<span class="arithmatex">\([0,\pi]\)</span>上可积，则<span class="arithmatex">\(\lim_{n \to \infty} \int_{0}^{\pi} f(x) \sin (n+\frac{1}{2}) x dx = 0\)</span></li>
</ul>
<h4 id="notes-mathematicsandphysics-analysis-fourier_2">Fourier级数的收敛性<a class="headerlink" href="#notes-mathematicsandphysics-analysis-fourier_2" title="Permanent link">&para;</a></h4>
<p><strong>（最看不懂的一集）</strong> 若<span class="arithmatex">\(f\)</span>在<span class="arithmatex">\([-\pi, \pi]\)</span>按段光滑（有连续导数），则<span class="arithmatex">\(\forall x \in [-\pi, \pi]\)</span>，Fourier级数收敛于<span class="arithmatex">\(\frac{f(x+0)+f(x-0)}{2}\)</span>  </p>
<details class="例">
<summary>例</summary>
<ul>
<li>求<span class="arithmatex">\(f(x) = \begin{cases} 1 &amp; -\pi \le x &lt; 0 \\ 0 &amp; 0 \le x \le \pi \end{cases}\)</span>的Fourier级数与其和<ul>
<li><span class="arithmatex">\(a_n = \frac{1}{\pi} \int_{-\pi}^{\pi} f(x) \cos nx dx = \frac{1}{\pi} \int_{-\pi}^{0} \cos nx dx = \begin{cases} 0 &amp; n \ge 1 \\ 1 &amp; n = 0 \end{cases}\)</span></li>
<li><span class="arithmatex">\(b_n = \frac{1}{\pi} \int_{-\pi}^{\pi} f(x) \sin nx dx = \frac{(-1)^{n} - 1}{n \pi}\)</span></li>
<li>于是<span class="arithmatex">\(f \sim \frac{1}{2} + \sum_{n=1}^{\infty} \frac{(-1)^{n} - 1}{n \pi} \sin nx\)</span></li>
<li>由于<span class="arithmatex">\(f\)</span>在<span class="arithmatex">\([-\pi,\pi]\)</span>上按段光滑，因此<span class="arithmatex">\(x \in (-\pi, 0)\)</span>时级数收敛于1，<span class="arithmatex">\(x \in (0, \pi)\)</span>时级数收敛于0，<span class="arithmatex">\(x = 0, \pm \pi\)</span>时级数收敛于<span class="arithmatex">\(\frac{f(x+0)+f(x-0)}{2} = 0\)</span></li>
</ul>
</li>
</ul>
</details>
<h4 id="notes-mathematicsandphysics-analysis-_17">变式<a class="headerlink" href="#notes-mathematicsandphysics-analysis-_17" title="Permanent link">&para;</a></h4>
<p>对于周期为<span class="arithmatex">\(2T\)</span>的函数，令<span class="arithmatex">\(x = \frac{T}{\pi} t\)</span>, 则<span class="arithmatex">\(a_n = \frac{1}{T} \int_{-T}^{T} f(x) \cos \frac{n \pi}{T} x dx\)</span>，<span class="arithmatex">\(b_n = \frac{1}{T} \int_{-T}^{T} f(x) \sin \frac{n \pi}{T} x dx\)</span><br />
<span class="arithmatex">\(a_0 = \frac{1}{T} \int_{-T}^{T} f(x) dx\)</span>，<span class="arithmatex">\(f(x) \sim \frac{a_0}{2} + \sum_{n=1}^{\infty} (a_n \cos \frac{n \pi}{T} x + b_n \sin \frac{n \pi}{T} x)\)</span></p>
<p>性质：<span class="arithmatex">\(\frac{a_0}{2} + \sum_{n=1}^{\infty} (a_n \cos \frac{n \pi}{T} x + b_n \sin \frac{n \pi}{T} x)\)</span>是某个在<span class="arithmatex">\([-T,T]\)</span>上可积函数的Fourier级数的必要条件是<span class="arithmatex">\(\sum_{n=1}^{\infty} (a_n^2 + b_n^2)\)</span>收敛</p>
<h2 id="notes-mathematicsandphysics-analysis-_18">内积空间<a class="headerlink" href="#notes-mathematicsandphysics-analysis-_18" title="Permanent link">&para;</a></h2>
<p>定义：<span class="arithmatex">\(x\)</span>是<span class="arithmatex">\(E\)</span>的</p>
<ul>
<li>内点：<span class="arithmatex">\(\exists \delta &gt; 0, s.t. U(x,\delta) \subset E\)</span>, 内点必属于E</li>
<li>外点：<span class="arithmatex">\(\exists \delta &gt; 0, s.t. U(x,\delta) \cap E = \emptyset\)</span>, 外点必不属于E</li>
<li>边界点：<span class="arithmatex">\(\forall \delta &gt; 0, U(x,\delta) \cap E \ne \emptyset, U(x,\delta) \cap E^c \ne \emptyset\)</span>, 边界点可能属于E，可能不属于E</li>
<li>聚点：<span class="arithmatex">\(\forall \delta &gt; 0, \mathring{U}(x,\delta) \cap E \ne \emptyset\)</span>(<span class="arithmatex">\(U(x,\delta)\)</span>中有E的无穷个点), 聚点可能属于E，可能不属于E</li>
<li>孤立点：<span class="arithmatex">\(\exists \delta &gt; 0, s.t. U(x,\delta) \cap E = \{x\}\)</span>, 孤立点必属于E且不是聚点</li>
</ul>
<p><span class="arithmatex">\(E\)</span>的内点集记为<span class="arithmatex">\(E^{\circ}\)</span>(E的<strong>内部</strong>)，边界点集记为<span class="arithmatex">\(\partial E\)</span>(E的<strong>边界</strong>)，聚点集记为<span class="arithmatex">\(E'\)</span>，<span class="arithmatex">\(E\)</span>的闭包记为<span class="arithmatex">\(\bar{E}\)</span>，<span class="arithmatex">\(E\)</span>的补集记为<span class="arithmatex">\(E^c\)</span></p>
<details class="例">
<summary>例</summary>
<ul>
<li>在<span class="arithmatex">\(R\)</span>上探讨<span class="arithmatex">\(E = [0,1)\)</span>的各种点集<ul>
<li><span class="arithmatex">\(E^{\circ} = (0,1)\)</span>，<span class="arithmatex">\(\partial E = \{0,1\}\)</span>，<span class="arithmatex">\(E' = [0,1]\)</span></li>
</ul>
</li>
</ul>
</details>
<p>开集：<span class="arithmatex">\(E\)</span>的每一点都是<span class="arithmatex">\(E\)</span>的内点，即<span class="arithmatex">\(E = E^{\circ}\)</span><br />
闭集：<span class="arithmatex">\(E\)</span>的每一个聚点都属于<span class="arithmatex">\(E\)</span>，即<span class="arithmatex">\(E = \bar{E}\)</span><br />
闭包：<span class="arithmatex">\(E\)</span>与其边界的并集，即<span class="arithmatex">\(\bar{E} = E \cup \partial E\)</span></p>
<p>定理：</p>
<ul>
<li><span class="arithmatex">\(E\)</span>是闭集的充要条件是<span class="arithmatex">\(E^c\)</span>是开集</li>
<li><span class="arithmatex">\(R^n\)</span>中任意邻域均为开集</li>
<li>满足既为开集又为闭集的<span class="arithmatex">\(R^n\)</span>子集有且仅有<span class="arithmatex">\(R^n\)</span>和空集</li>
<li>任意多个开集的并集是开集，任意有限个开集的交集是开集</li>
<li>任意多个闭集的交集是闭集，任意有限个闭集的并集是闭集</li>
</ul>
<p>闭区域套定理：若<span class="arithmatex">\(\{E_m\}\)</span>是<span class="arithmatex">\(R^n\)</span>中的一列闭集，且满足以下两个条件，则<span class="arithmatex">\(\exists ! x_0 \in R^n, s.t. x_0 \in \bigcap_{m=1}^{\infty} E_m\)</span></p>
<ul>
<li><span class="arithmatex">\(\forall m \ge 1, E_{m+1} \subset E_m\)</span></li>
<li><span class="arithmatex">\(\lim_{m \to \infty} \text{diam} E_m = 0\)</span>(<span class="arithmatex">\(\text{diam} E_m = \sup \{ |x-y| \mid x,y \in E_m \}\)</span>)</li>
</ul>
<p>开覆盖：若<span class="arithmatex">\(E\)</span>的每一点都在开集的并集中，则称开集的并集为<span class="arithmatex">\(E\)</span>的开覆盖<br />
紧集：若<span class="arithmatex">\(E\)</span>的任意开覆盖都有有限子覆盖，则称<span class="arithmatex">\(E\)</span>为紧集</p>
<h2 id="notes-mathematicsandphysics-analysis-_19">多元函数<a class="headerlink" href="#notes-mathematicsandphysics-analysis-_19" title="Permanent link">&para;</a></h2>
<p>重极限：类似极限，此时点<span class="arithmatex">\(x\)</span>落在点<span class="arithmatex">\(x_0\)</span>附近的邻域内，每个分量都在各个方向上对应分量的邻域内</p>
<details class="例">
<summary>例</summary>
<ul>
<li>试证<span class="arithmatex">\(f(x,y) = \begin{cases} \frac{xy(x^2 - y^2)}{x^2+y^2} &amp; (x,y) \ne (0,0) \\ 0 &amp; (x,y) = (0,0) \end{cases}\)</span>在<span class="arithmatex">\((0,0)\)</span>处极限为0<ul>
<li><span class="arithmatex">\(|f(x,y)-0| \le |xy| \le \frac{x^2+y^2}{2}\)</span></li>
<li>因此取<span class="arithmatex">\(\delta = \sqrt{\epsilon}\)</span>即可</li>
</ul>
</li>
</ul>
</details>
<h3 id="notes-mathematicsandphysics-analysis-_20">全微分<a class="headerlink" href="#notes-mathematicsandphysics-analysis-_20" title="Permanent link">&para;</a></h3>
<p><span class="arithmatex">\(f(x_0 + \Delta x, y_0 + \Delta y) - f(x_0, y_0) = A \Delta x + B \Delta y + o(\sqrt{\Delta x^2 + \Delta y^2}), (\Delta x,\Delta y) \to (0,0)\)</span><br />
<span class="arithmatex">\(A \Delta x + B \Delta y\)</span>称为<span class="arithmatex">\(f\)</span>在<span class="arithmatex">\((x_0,y_0)\)</span>处的全微分，记为<span class="arithmatex">\(df(x_0,y_0)\)</span>，<span class="arithmatex">\(A\)</span>称为<span class="arithmatex">\(f\)</span>在<span class="arithmatex">\((x_0,y_0)\)</span>处的偏导数<span class="arithmatex">\(\frac{\partial f}{\partial x}\)</span>，<span class="arithmatex">\(B\)</span>称为<span class="arithmatex">\(f\)</span>在<span class="arithmatex">\((x_0,y_0)\)</span>处的偏导数<span class="arithmatex">\(\frac{\partial f}{\partial y}\)</span>  </p>
<ul>
<li><span class="arithmatex">\(\frac{\partial f}{\partial x} = \lim_{\Delta x \to 0} \frac{f(x_0 + \Delta x, y_0) - f(x_0, y_0)}{\Delta x}\)</span></li>
<li><span class="arithmatex">\(\frac{\partial f}{\partial y} = \lim_{\Delta y \to 0} \frac{f(x_0, y_0 + \Delta y) - f(x_0, y_0)}{\Delta y}\)</span>  </li>
<li>可微必要条件：<span class="arithmatex">\(f\)</span>在<span class="arithmatex">\((x_0,y_0)\)</span>处可微，则<span class="arithmatex">\(f\)</span>在<span class="arithmatex">\((x_0,y_0)\)</span>处连续</li>
<li>可微充分条件：<span class="arithmatex">\(f\)</span>在<span class="arithmatex">\((x_0,y_0)\)</span>处偏导数存在且连续，则<span class="arithmatex">\(f\)</span>在<span class="arithmatex">\((x_0,y_0)\)</span>处可微</li>
</ul>
<p>复合函数链式求导：<span class="arithmatex">\(\frac{\partial z}{\partial x} = \frac{\partial z}{\partial u} \frac{\partial u}{\partial x} + \frac{\partial z}{\partial v} \frac{\partial v}{\partial x}\)</span>，<span class="arithmatex">\(\frac{\partial z}{\partial y} = \frac{\partial z}{\partial u} \frac{\partial u}{\partial y} + \frac{\partial z}{\partial v} \frac{\partial v}{\partial y}\)</span></p>
<details class="例">
<summary>例</summary>
<ul>
<li><span class="arithmatex">\(z = \arctan (xy), y = e^{x}\)</span>, 求<span class="arithmatex">\(\frac{dz}{dx}\)</span><ul>
<li><span class="arithmatex">\(\frac{dz}{dx} = \frac{\partial z}{\partial x} \frac{dx}{dx} + \frac{\partial z}{\partial y} \frac{dy}{dx}\)</span></li>
</ul>
</li>
</ul>
</details>
<h3 id="notes-mathematicsandphysics-analysis-taylor">Taylor公式<a class="headerlink" href="#notes-mathematicsandphysics-analysis-taylor" title="Permanent link">&para;</a></h3>
<p>命<span class="arithmatex">\(\rho = \sqrt{(\Delta x)^2 + (\Delta y)^2}\)</span>，则<span class="arithmatex">\(f(x,y) = f(x_0,y_0) + (\Delta x \frac{\partial}{\partial x} + \Delta y \frac{\partial}{\partial y})f(x_0,y_0) + \frac{1}{2!} (\Delta x \frac{\partial}{\partial x} + \Delta y \frac{\partial}{\partial y})^2 f(x_0,y_0) + \cdots + \frac{1}{n!} (\Delta x \frac{\partial}{\partial x} + \Delta y \frac{\partial}{\partial y})^n f(x_0,y_0) + 0(\rho^n)\)</span></p>
<h3 id="notes-mathematicsandphysics-analysis-_21">中值定理<a class="headerlink" href="#notes-mathematicsandphysics-analysis-_21" title="Permanent link">&para;</a></h3>
<p><span class="arithmatex">\(f(x_0 + h, y_0 + k) - f(x_0, y_0) = h \frac{\partial f}{\partial x} (x_0 + \theta h, y_0 + \theta k) + k \frac{\partial f}{\partial y} (x_0 + \theta h, y_0 + \theta k)\)</span>，<span class="arithmatex">\(\theta \in (0,1)\)</span></p>
<h3 id="notes-mathematicsandphysics-analysis-_22">方向导数<a class="headerlink" href="#notes-mathematicsandphysics-analysis-_22" title="Permanent link">&para;</a></h3>
<p>若<span class="arithmatex">\(\vec{v}\)</span>为单位向量，<span class="arithmatex">\(\vec{v}=(v_1,v_2)\)</span>, 定义<span class="arithmatex">\(f\)</span>在<span class="arithmatex">\((x_0,y_0)\)</span>处沿<span class="arithmatex">\(\vec{v}\)</span>方向的方向导数为<span class="arithmatex">\(\frac{\partial f}{\partial \vec{v}} = \lim_{t \to 0+} \frac{f(x_0 + tv_1, y_0 + tv_2) - f(x_0,y_0)}{t}\)</span></p>
<p>对于<span class="arithmatex">\(\forall \vec{v} = (v_1,v_2) \ne (0,0)\)</span>，对其进行单位化，得到<span class="arithmatex">\(\vec{v'} = \frac{\vec{v}}{|\vec{v}|} = (v_1',v_2')\)</span>，则<span class="arithmatex">\(\frac{\partial f}{\partial \vec{v}} = \frac{\partial f}{\partial x} v_1' + \frac{\partial f}{\partial y} v_2'\)</span></p>
<p>注意到上述表达式<span class="arithmatex">\(\frac{\partial f}{\partial \vec{v}} = (f_x (x_0,y_0), f_y (x_0,y_0)) \cdot (v_1,v_2) = (f_x (x_0, y_0), f_y (x_0, y_0) \cdot \vec{v})\)</span>，记向量<span class="arithmatex">\((f_x (x_0, y_0), f_y (x_0, y_0))\)</span>为<span class="arithmatex">\(f\)</span>在该点的<strong>梯度</strong> <span class="arithmatex">\((\text{grad} f(x_0, y_0))\)</span></p>
<h3 id="notes-mathematicsandphysics-analysis-_23">计算极值/最值<a class="headerlink" href="#notes-mathematicsandphysics-analysis-_23" title="Permanent link">&para;</a></h3>
<ol>
<li>先求驻点：<span class="arithmatex">\(\frac{\partial f}{\partial x} = 0, \frac{\partial f}{\partial y} = 0\)</span></li>
<li>求二阶导数矩阵：<span class="arithmatex">\(H = \begin{bmatrix} f_{xx} &amp; f_{xy} \\ f_{xy} &amp; f_{yy} \end{bmatrix}\)</span></li>
<li>代入各个驻点的<span class="arithmatex">\(x\)</span>, <span class="arithmatex">\(y\)</span>，求<span class="arithmatex">\(det H = f_{xx} f_{yy} - f_{xy} f_{xy}\)</span></li>
<li>若<span class="arithmatex">\(det H &gt; 0\)</span>，<span class="arithmatex">\(f_{xx} &gt; 0\)</span>，则为极小值</li>
<li>若<span class="arithmatex">\(det H &gt; 0\)</span>，<span class="arithmatex">\(f_{xx} &lt; 0\)</span>，则为极大值</li>
<li>若<span class="arithmatex">\(det H &lt; 0\)</span>，则不为极值点</li>
<li>若<span class="arithmatex">\(det H = 0\)</span>，则无法判断，需要令某个变量固定于某点或某条直线，对驻点周围的函数值正负进行分析</li>
<li>若要求最值，还需考虑边界上的取值，此时一般化为单元函数</li>
<li>若<span class="arithmatex">\(f\)</span>在<span class="arithmatex">\(D\)</span>上连续，<span class="arithmatex">\(D\)</span>为闭区域，<span class="arithmatex">\(f\)</span>在<span class="arithmatex">\(D\)</span>上有界，则<span class="arithmatex">\(f\)</span>在<span class="arithmatex">\(D\)</span>上有最大值和最小值</li>
</ol>
<h3 id="notes-mathematicsandphysics-analysis-_24">隐函数<a class="headerlink" href="#notes-mathematicsandphysics-analysis-_24" title="Permanent link">&para;</a></h3>
<p>存在定理：<span class="arithmatex">\(F(x_0,y_0) = 0\)</span>，<span class="arithmatex">\(F_x, F_y\)</span>连续，<span class="arithmatex">\(F_y(x_0,y_0) \neq 0\)</span>，则在<span class="arithmatex">\((x_0,y_0)\)</span>的小邻域内，有<span class="arithmatex">\(y=f(x)\)</span>，且<span class="arithmatex">\(\frac{dy}{dx} = -\frac{F_x}{F_y}\)</span>  </p>
<div class="admonition note">
<p class="admonition-title"><span class="arithmatex">\(dy/dx\)</span>和<span class="arithmatex">\(\partial y / \partial x\)</span>的区别</p>
<p>前者表示y的自变量只有x，后者对应多元函数</p>
</div>
<details class="例">
<summary>例</summary>
<ul>
<li>有方程组<span class="arithmatex">\(\begin{cases} u = f(ux, v+y) \\ v = g(u-x, v^{2}y) \end{cases}\)</span>，求其确定的隐函数的偏导<span class="arithmatex">\(\frac{\partial u}{\partial x}\)</span>, <span class="arithmatex">\(\frac{\partial v}{\partial x}\)</span><ul>
<li>在两个方程两侧对<span class="arithmatex">\(x\)</span>求导，得到<span class="arithmatex">\(\frac{\partial u}{\partial x} = f_1 (\frac{\partial u}{\partial x} x + u) + f_2 (\frac{\partial v}{\partial x})\)</span>, <span class="arithmatex">\(\frac{\partial v}{\partial x} = g_1 (\frac{\partial u}{\partial x} - 1) + g_2 (2vy \frac{\partial v}{\partial x})\)</span></li>
<li>解方程组得到<span class="arithmatex">\(\frac{\partial u}{\partial x}\)</span>, <span class="arithmatex">\(\frac{\partial v}{\partial x}\)</span></li>
</ul>
</li>
</ul>
</details>
<h3 id="notes-mathematicsandphysics-analysis-_25">隐函数在几何中的运用<a class="headerlink" href="#notes-mathematicsandphysics-analysis-_25" title="Permanent link">&para;</a></h3>
<h4 id="notes-mathematicsandphysics-analysis-_26">曲线<a class="headerlink" href="#notes-mathematicsandphysics-analysis-_26" title="Permanent link">&para;</a></h4>
<p>曲线<span class="arithmatex">\(\begin{cases} F(x,y,z) = 0 \\ G(x,y,z) = 0 \end{cases}\)</span>在<span class="arithmatex">\(P_0 = (x_0, y_0, z_0)\)</span>处的切线为<span class="arithmatex">\(\frac{x-x_0}{\frac{\partial (F, G)}{\partial (y,z)}(P_0)} = \frac{y-y_0}{\frac{\partial (F, G)}{\partial (z,x)}(P_0)} = \frac{z-z_0}{\frac{\partial (F, G)}{\partial (x,y)}(P_0)}\)</span>, 其中<span class="arithmatex">\(\frac{\partial (F, G)}{\partial (y,z)} = \left |\begin{array}{cccc}
\frac{\partial F}{\partial y} &amp; \frac{\partial F}{\partial z} \\
\frac{\partial G}{\partial y} &amp; \frac{\partial G}{\partial z} \\
\end{array}\right|\)</span>，若某个行列式为0，则单独有一方程令其对应位置的变量为<span class="arithmatex">\(i_0, i = x,y,z\)</span>即可</p>
<p>法平面方程为<span class="arithmatex">\((x-x_0) \frac{\partial (F, G)}{\partial (y,z)}(P_0) + (y-y_0) \frac{\partial (F, G)}{\partial (z,x)}(P_0) + (z-z_0) \frac{\partial (F, G)}{\partial (x,y)}(P_0) = 0\)</span></p>
<p>对于平面曲线<span class="arithmatex">\(F(x,y) = 0\)</span>，切向量为<span class="arithmatex">\((F_y (x_0, y_0), -F_x (x_0, y_0))\)</span>，外侧法向量为<span class="arithmatex">\((F_x (x_0, y_0), F_y (x_0, y_0))\)</span>，内侧在两个分量前加负号  </p>
<p>切线为<span class="arithmatex">\(F_x (x_0, y_0) (x-x_0) + F_y (x_0, y_0) (y-y_0) = 0\)</span>，
法线方程为<span class="arithmatex">\(F_y (x_0, y_0) (x-x_0) - F_x (x_0, y_0) (y-y_0) = 0\)</span></p>
<p>特别的，若曲线可被表示为<span class="arithmatex">\(\begin{cases} y = y(x) \\ z = z(x) \end{cases}\)</span>，则切向量为<span class="arithmatex">\((1, y'(x), z'(x))\)</span>，切线为<span class="arithmatex">\(\frac{x-x_0}{1} = \frac{y-y_0}{y'(x_0)} = \frac{z-z_0}{z'(x_0)}\)</span>，法平面方程为<span class="arithmatex">\((x-x_0) + (y-y_0) y'(x_0) + (z-z_0) z'(x_0) = 0\)</span></p>
<h4 id="notes-mathematicsandphysics-analysis-_27">曲面<a class="headerlink" href="#notes-mathematicsandphysics-analysis-_27" title="Permanent link">&para;</a></h4>
<p>曲面<span class="arithmatex">\(F(x,y,z)=0\)</span>在<span class="arithmatex">\(P_0 = (x_0, y_0, z_0)\)</span>处的</p>
<ul>
<li>切平面：<span class="arithmatex">\(F_x (x_0, y_0, z_0) (x-x_0) + F_y (x_0, y_0, z_0) (y-y_0) + F_z (x_0, y_0, z_0) (z-z_0) = 0\)</span></li>
<li>法向量：<span class="arithmatex">\(\lambda = (F_x (x_0, y_0, z_0), F_y (x_0, y_0, z_0), F_z (x_0, y_0, z_0)) = grad F(x_0, y_0, z_0)\)</span></li>
<li>法线方程：<span class="arithmatex">\(\frac{x-x_0}{F_x (x_0, y_0, z_0)} = \frac{y-y_0}{F_y (x_0, y_0, z_0)} = \frac{z-z_0}{F_z (x_0, y_0, z_0)}\)</span><ul>
<li>若<span class="arithmatex">\(F_i (P_0) = 0\)</span>,<span class="arithmatex">\(i = x,y,z\)</span>，则单独有一方程<span class="arithmatex">\(i = i_0\)</span></li>
</ul>
</li>
</ul>
<h2 id="notes-mathematicsandphysics-analysis-_28">重积分<a class="headerlink" href="#notes-mathematicsandphysics-analysis-_28" title="Permanent link">&para;</a></h2>
<div class="admonition note">
<p class="admonition-title">积分中值定理</p>
<p><img alt="" src="../notes/MathematicsAndPhysics/assets/Ana1.png" /></p>
</div>
<p>使用累次积分计算：<span class="arithmatex">\(\iint_{D} f(x,y) dxdy = \int_{a}^{b} (\int_{c}^{d} f(x,y) dy) dx\)</span><br />
也就是先对<span class="arithmatex">\(y\)</span>积分，再对<span class="arithmatex">\(x\)</span>积分，次序可以颠倒</p>
<ul>
<li>推论：一元函数<span class="arithmatex">\(f(x), g(y)\)</span>分别在<span class="arithmatex">\([a, b]\)</span>, <span class="arithmatex">\([c,d]\)</span>可积，则<span class="arithmatex">\(\iint_{[a,b]\times [c,d]} f(x)g(y) dxdy = \int_{a}^{b} f(x) dx \cdot \int_{c}^{d} g(y) dy\)</span></li>
</ul>
<details class="例">
<summary>例</summary>
<p><img alt="" src="../notes/MathematicsAndPhysics/assets/Ana2.png" /><br />
<span class="arithmatex">\(\Omega\)</span>为球体<span class="arithmatex">\(x^2 + y^2 + z^2 \le R^2\)</span>，<span class="arithmatex">\(x^2 + y^2 + z^2 \le 2Rz\)</span>的公共部分，求<span class="arithmatex">\(\iiint_{\Omega} z^2 dxdydz\)</span><br />
先对与<span class="arithmatex">\(xy\)</span>平面平行的圆积分，得到原式等于<span class="arithmatex">\(\int_{0}^{R} z^2 dz \iint_{\Omega_{z}} dxdy\)</span>，其中<span class="arithmatex">\(\Omega_{z}\)</span>为交集部分被平行于<span class="arithmatex">\(xy\)</span>的平面所截的圆<br />
由于<span class="arithmatex">\(\Omega_{z}\)</span>为圆，因此<span class="arithmatex">\(\iint_{\Omega_{z}} dxdy = \pi (x^2 + y^2)\)</span>，在<span class="arithmatex">\(z \in [0,\frac{R}{2}]\)</span>时，<span class="arithmatex">\(x^2 + y^2 \le 2Rz - z^2\)</span>，在<span class="arithmatex">\(z \in [\frac{R}{2}, R]\)</span>时，<span class="arithmatex">\(x^2 + y^2 \le R^2 - z^2\)</span>，因此<span class="arithmatex">\(\int_{0}^{R} z^2 dz \iint_{\Omega_{z}} dxdy = \int_{0}^{\frac{R}{2}} z^2 \pi (2Rz - z^2) dz + \int_{\frac{R}{2}}^{R} z^2 \pi (R^2 - z^2) dz\)</span></p>
</details>
<p>因此对更高维度的积分，可以先对某一维度积分，再对下一维度积分，以此类推，并且视简便情况调整积分次序  </p>
<ul>
<li>Lebesgue定理（弱化ver. : <span class="arithmatex">\(f\)</span>是<span class="arithmatex">\([a,b]\times [c,d]\)</span>上的有界函数，<span class="arithmatex">\(f\)</span>的间断点集的面积为0，则<span class="arithmatex">\(f\)</span>在<span class="arithmatex">\([a,b]\times [c,d]\)</span>上可积）</li>
</ul>
<h3 id="notes-mathematicsandphysics-analysis-_29">二重积分的换元<a class="headerlink" href="#notes-mathematicsandphysics-analysis-_29" title="Permanent link">&para;</a></h3>
<p><span class="arithmatex">\(D\)</span>为<span class="arithmatex">\(uv\)</span>平面上的区域，<span class="arithmatex">\(D^*\)</span>为<span class="arithmatex">\(xy\)</span>平面上的区域，<span class="arithmatex">\(x = \varphi(u,v)\)</span>, <span class="arithmatex">\(y = \psi(u,v)\)</span>，则<span class="arithmatex">\(\iint_{D^*} f(x,y) dxdy = \iint_{D} f(\varphi(u,v), \psi(u,v)) |\frac{\partial (x,y)}{\partial (u,v)}| dudv\)</span> （注意这里Jacobi行列式外面套了层绝对值）</p>
<p>特别的，命<span class="arithmatex">\(x = r \cos \theta\)</span>, <span class="arithmatex">\(y = r \sin \theta\)</span>，则<span class="arithmatex">\(\iint_{D^*} f(x,y) dxdy = \iint_{D} f(r \cos \theta, r \sin \theta) r dr d\theta\)</span></p>
<details class="例">
<summary>例</summary>
<ul>
<li>求<span class="arithmatex">\(\iint_{D} (x+y) dxdy\)</span>，其中<span class="arithmatex">\(D\)</span>为<span class="arithmatex">\(x^2 + y^2 = x + y\)</span>的内部<ul>
<li>圆心为<span class="arithmatex">\((\frac{1}{2}, \frac{1}{2})\)</span>，半径为<span class="arithmatex">\(\frac{\sqrt{2}}{2}\)</span>，因此令<span class="arithmatex">\(x = \frac{1}{2} + r \cos \theta\)</span>, <span class="arithmatex">\(y = \frac{1}{2} + r \sin \theta\)</span>, <span class="arithmatex">\(r \in [0, \frac{\sqrt{2}}{2}]\)</span>, <span class="arithmatex">\(\theta \in [0, 2\pi]\)</span></li>
<li>原式 <span class="arithmatex">\(= \int_{0}^{2\pi} d \theta \int_{0}^{\frac{\sqrt{2}}{2}} (1 + r \cos \theta +r \sin \theta) r dr\)</span></li>
</ul>
</li>
</ul>
</details>
<div class="admonition note">
<p class="admonition-title">球坐标变换</p>
<p>球坐标：<span class="arithmatex">\(\begin{cases} x = r \sin \varphi \cos \theta \\ y = r \sin \varphi \sin \theta \\ z = r \cos \varphi \end{cases}\)</span>，<span class="arithmatex">\(r \in [0, +\infty)\)</span>, <span class="arithmatex">\(\theta \in [0, 2\pi]\)</span>, <span class="arithmatex">\(\varphi \in [0, \pi]\)</span><br />
此时<span class="arithmatex">\(dx dy dz = r^2 \sin \varphi dr d\varphi d\theta\)</span>（总是先对<span class="arithmatex">\(r\)</span>积分，再对<span class="arithmatex">\(\varphi\)</span>积分，最后对<span class="arithmatex">\(\theta\)</span>积分）</p>
</div>
<div class="admonition note">
<p class="admonition-title">柱坐标变换</p>
<p>柱坐标：<span class="arithmatex">\(\begin{cases} x = r \cos \theta \\ y = r \sin \theta \\ z = z \end{cases}\)</span>，<span class="arithmatex">\(r \in [0, +\infty)\)</span>, <span class="arithmatex">\(\theta \in [0, 2\pi]\)</span>, <span class="arithmatex">\(z \in (-\infty, +\infty)\)</span><br />
此时<span class="arithmatex">\(dx dy dz = r dr d\theta dz\)</span>（总是先对<span class="arithmatex">\(r\)</span>积分，再对<span class="arithmatex">\(\theta\)</span>积分，最后对<span class="arithmatex">\(z\)</span>积分）</p>
</div>
<h2 id="notes-mathematicsandphysics-analysis-_30">曲线积分（快速补天）<a class="headerlink" href="#notes-mathematicsandphysics-analysis-_30" title="Permanent link">&para;</a></h2>
<p>第一类曲线积分（对弧长积分）：形如<span class="arithmatex">\(\int_{L} f(x,y) ds\)</span>，若<span class="arithmatex">\(f(x,y)=1\)</span>，则为曲线的长度<br />
弧微分<span class="arithmatex">\(ds = \sqrt{dx^2 + dy^2} = \sqrt{1 + y'(x)^2} dx\)</span><br />
第二类曲线积分（对坐标积分）：形如<span class="arithmatex">\(\int_{L} P(x,y,z) dx + Q(x,y,z) dy + R(x,y,z) dz\)</span>  </p>
<h3 id="notes-mathematicsandphysics-analysis-_31">第一类<a class="headerlink" href="#notes-mathematicsandphysics-analysis-_31" title="Permanent link">&para;</a></h3>
<ul>
<li>参数方程：<span class="arithmatex">\(x = x(t), y = y(t), z = z(t)\)</span>，<span class="arithmatex">\(a \le t \le b\)</span>，则<span class="arithmatex">\(\int_{L} f(x,y,z) ds = \int_{a}^{b} f(x(t), y(t), z(t)) \sqrt{x'(t)^2 + y'(t)^2 + z'(t)^2} dt\)</span> （先参数化后划为定积分）</li>
<li>平面曲线<span class="arithmatex">\(y=y(x)\)</span>，<span class="arithmatex">\(a \le x \le b\)</span> ：<span class="arithmatex">\(\int_{L} f(x,y) ds = \int_{a}^{b} f(x, y(x)) \sqrt{1 + y'(x)^2} dx\)</span>,要求<span class="arithmatex">\(y(x)\)</span>在<span class="arithmatex">\([a,b]\)</span>连续可导</li>
<li>平面曲线<span class="arithmatex">\(r = r(\theta)\)</span>，<span class="arithmatex">\(\alpha \le \theta \le \beta\)</span>：<span class="arithmatex">\(\int_{L} f(x,y) ds = \int_{\alpha}^{\beta} f(r(\theta) \cos \theta, r(\theta) \sin \theta) \sqrt{r'(\theta)^2 + r(\theta)^2} d\theta\)</span></li>
<li>对称性与轮换性</li>
</ul>
<h3 id="notes-mathematicsandphysics-analysis-_32">第二类<a class="headerlink" href="#notes-mathematicsandphysics-analysis-_32" title="Permanent link">&para;</a></h3>
<p>对向量值函数在曲线某一方向上的积分（ref：变力做功）（因此被积函数是向量，积分变元也是向量）,形如<span class="arithmatex">\(\int_{C} \overrightarrow{A} d \overrightarrow{s}\)</span>，其中<span class="arithmatex">\(\overrightarrow{A} = P \overrightarrow{i} + Q \overrightarrow{j} + R \overrightarrow{k}\)</span></p>
<ul>
<li>与第一类的关系：<span class="arithmatex">\(| \int_{C} \overrightarrow{A} d \overrightarrow{s} | = | \int_{C} \overrightarrow{A} \cdot \overrightarrow{T} ds |\)</span>，其中<span class="arithmatex">\(\overrightarrow{T}\)</span>为曲线的单位切向量</li>
<li><img alt="" src="../notes/MathematicsAndPhysics/assets/Ana3.png" /></li>
<li>在<span class="arithmatex">\(d\)</span>谁的时候，就把前面式子里所有其他的变量都换成用谁表示的形式，然后分段定积分，对应上下界为谁的起点和终点</li>
<li>Green公式：<span class="arithmatex">\(P(x,y),Q(x,y)\)</span>在<span class="arithmatex">\(D\)</span>上<strong>有一阶连续偏导数</strong>，则<span class="arithmatex">\(\int_{C} Pdx + Qdy = \iint_{D} (\frac{\partial Q}{\partial x} - \frac{\partial P}{\partial y}) dxdy\)</span>，<span class="arithmatex">\(C\)</span>为<span class="arithmatex">\(D\)</span>的边界，方向为正向<ul>
<li>定义正向：沿边界行走时，区域在左侧，对于一般的类多边形区域，为逆时针</li>
</ul>
</li>
<li>曲线积分与路径无关：<img alt="" src="../notes/MathematicsAndPhysics/assets/Ana4.png" /></li>
<li>若与路径无关，则有Newton-Leibniz公式：<span class="arithmatex">\(\int_{C} Pdx + Qdy = u(B) - u(A)\)</span>，其中<span class="arithmatex">\(u\)</span>为<span class="arithmatex">\(P\)</span>的一个原函数，积分为第二类曲线积分</li>
</ul>
<h2 id="notes-mathematicsandphysics-analysis-_33">曲面积分<a class="headerlink" href="#notes-mathematicsandphysics-analysis-_33" title="Permanent link">&para;</a></h2>
<p>第一类曲面积分：形如<span class="arithmatex">\(\iint_{\Sigma} f(x,y,z) dS\)</span>，<span class="arithmatex">\(f=1\)</span>时为曲面的面积<br />
第二类曲面积分：形如<span class="arithmatex">\(\iint_{\Sigma} P(x,y,z) dydz + Q(x,y,z) dzdx + R(x,y,z) dxdy\)</span></p>
<h3 id="notes-mathematicsandphysics-analysis-_34">第一类<a class="headerlink" href="#notes-mathematicsandphysics-analysis-_34" title="Permanent link">&para;</a></h3>
<p>光滑曲面<span class="arithmatex">\(\Sigma\)</span>由参数方程<span class="arithmatex">\(\overrightarrow{r}(u,v) = (x(u,v), y(u,v), z(u,v))\)</span>定义</p>
<ul>
<li>若<span class="arithmatex">\(f\)</span>在<span class="arithmatex">\(\Omega\)</span>连续，则<span class="arithmatex">\(\iint_{\Sigma} f(x,y,z) dS = \iint_{D} f(x(u,v), y(u,v), z(u,v)) |\overrightarrow{r}_u \times \overrightarrow{r}_v| dudv\)</span>，注意等号后面这个积分是二重积分，在<span class="arithmatex">\(uv\)</span>平面上</li>
<li>若<span class="arithmatex">\(\Sigma\)</span>由<span class="arithmatex">\(z = z(x,y)\)</span>定义，则<span class="arithmatex">\(\iint_{\Sigma} f(x,y,z) dS = \iint_{D} f(x,y,z(x,y)) \sqrt{1 + z_x^2 + z_y^2} dxdy\)</span><ul>
<li><span class="arithmatex">\(D\)</span>为<span class="arithmatex">\(\Sigma\)</span>在<span class="arithmatex">\(xy\)</span>平面上的投影区域</li>
</ul>
</li>
</ul>
<details class="例">
<summary>例</summary>
<ul>
<li>求<span class="arithmatex">\(\iint_{\Sigma} \sqrt{\frac{x^2}{a^4} + \frac{y^2}{b^4} +\frac{z^2}{c^4}} dS\)</span>, <span class="arithmatex">\(\Sigma\)</span>为<span class="arithmatex">\(\frac{x^2}{a^2} + \frac{y^2}{b^2} + \frac{z^2}{c^2} = 1\)</span><ul>
<li>利用球坐标变换，<span class="arithmatex">\(x = a \sin \varphi \cos \theta\)</span>, <span class="arithmatex">\(y = b \sin \varphi \sin \theta\)</span>, <span class="arithmatex">\(z = c \cos \varphi\)</span>，<span class="arithmatex">\(0 \le \varphi \le \pi\)</span>, <span class="arithmatex">\(0 \le \theta \le 2\pi\)</span></li>
<li><span class="arithmatex">\(\overrightarrow{r_{\varphi}} \times \overrightarrow{r_{\theta}} = \bigg| \begin{array}{ccc} \overrightarrow{i} &amp; \overrightarrow{j} &amp; \overrightarrow{k} \\ a \cos \varphi \cos \theta &amp; b \cos \varphi \sin \theta &amp; -c \sin \varphi \\ -a \sin \varphi \sin \theta &amp; b \sin \varphi \cos \theta &amp; 0 \end{array} \bigg| = abc \sin \varphi \sqrt{\frac{\cos^2 \theta \sin^2 \varphi}{a^2} + \frac{\sin^2 \theta \sin^2 \varphi}{b^2} + \frac{\cos^2 \varphi}{c^2}}\)</span></li>
<li>原式 <span class="arithmatex">\(= \int_{0}^{2\pi} d \theta \int_{0}^{\pi} abc \sin \varphi \sqrt{\frac{\cos^2 \theta \sin^2 \varphi}{a^2} + \frac{\sin^2 \theta \sin^2 \varphi}{b^2} + \frac{\cos^2 \varphi}{c^2}} d \varphi\)</span></li>
</ul>
</li>
</ul>
</details>
<h3 id="notes-mathematicsandphysics-analysis-_35">第二类<a class="headerlink" href="#notes-mathematicsandphysics-analysis-_35" title="Permanent link">&para;</a></h3>
<p>曲面<span class="arithmatex">\(\Sigma : z = z(x,y)\)</span>单位化后的法向量（向上）为<span class="arithmatex">\(\overrightarrow{n} = \frac{(-z_x, -z_y, 1)}{\sqrt{1 + z_x^2 + z_y^2}}\)</span>，向下则取负</p>
<p>法向量的三个分量记作<span class="arithmatex">\(\cos \alpha, \cos \beta, \cos \gamma\)</span><br />
得计算公式：<span class="arithmatex">\(\iint_{\Sigma} Pdydz + Qdzdx + Rdxdy = \iint_{\Sigma} (P \cos \alpha + Q \cos \beta + R \cos \gamma) dS\)</span>，等号右侧为第一类曲面积分</p>
<p>球面外法向量为<span class="arithmatex">\(\overrightarrow{n} = (\frac{x}{r}, \frac{y}{r}, \frac{z}{r})\)</span></p>
<details class="例">
<summary>例</summary>
<p>计算<span class="arithmatex">\(\iint_{\Sigma} xdydz + ydzdx + zdxdy\)</span>，其中<span class="arithmatex">\(\Sigma : x^2 + y^2 + z^2 = a^2 (a &gt; 0)\)</span>方向向外<br />
外法向量为<span class="arithmatex">\(\overrightarrow{n} = (\frac{x}{a}, \frac{y}{a}, \frac{z}{a})\)</span>，则<span class="arithmatex">\(\cos \alpha = \frac{x}{a}, \cos \beta = \frac{y}{a},\cos \gamma = \frac{z}{a}\)</span>，原式 <span class="arithmatex">\(= \frac{1}{a}\iint_{\Sigma} (x^2 + y^2 + z^2) dS = \frac{1}{a} \iint_{\Sigma} a^2 dS = a \iint_{\Sigma} dS = a \cdot 4 \pi a^2 = 4 \pi a^3\)</span></p>
</details>
<p>对形如<span class="arithmatex">\(\iint_{\Sigma} R(x,y,z)dxdy\)</span>的第二类曲面积分（<span class="arithmatex">\(\Sigma : z = z(x,y)\)</span>），可投影到xy平面上积分，即<span class="arithmatex">\(\iint_{\Sigma} R(x,y,z)dxdy = \pm \iint_{D_{xy}} R(x,y,z(x,y)) dxdy\)</span>，<span class="arithmatex">\(\Sigma\)</span>为上侧时取正，下侧时取负</p>
<p>同理，投到zx平面时，取右侧为正，左侧为负，投到yz平面时，取前侧为正，后侧为负</p>
<p>参数平面：<img alt="" src="../notes/MathematicsAndPhysics/assets/Ana5.png" /></p>
<p>转为单面积：<img alt="" src="../notes/MathematicsAndPhysics/assets/Ana6.png" /></p>
<p>Stokes公式：<img alt="" src="../notes/MathematicsAndPhysics/assets/Ana7.png" /><br />
<img alt="" src="../notes/MathematicsAndPhysics/assets/Ana8.png" />
等号左侧为第二类曲面积分，右侧为第二类曲线积分</p>
<p>Gauss公式：空间闭区域<span class="arithmatex">\(\Omega\)</span>由分片光滑的闭曲面<span class="arithmatex">\(\Sigma\)</span>围成，<span class="arithmatex">\(\Sigma\)</span>取外侧，函数<span class="arithmatex">\(P(x,y,z),Q(x,y,z),R(x,y,z)\)</span>在<span class="arithmatex">\(\Omega\)</span>上有连续一阶偏导，则有<br />
<span class="arithmatex">\(\iint_{\Sigma} Pdydz + Qdzdx + Rdxdy = \iiint_{\Omega} (\frac{\partial P}{\partial x} + \frac{\partial Q}{\partial y} + \frac{\partial R}{\partial z}) dxdydz\)</span></p></section><section class="print-page" id="notes-mathematicsandphysics-physics1" heading-number="4.4.2"><nav class='md-tags'><span class='md-tag'>大一下笔记</span></nav><blockquote>
<p>谁拉这了</p>
</blockquote>
<h1 id="notes-mathematicsandphysics-physics1-ih">普通物理学Ⅰ（H）<a class="headerlink" href="#notes-mathematicsandphysics-physics1-ih" title="Permanent link">&para;</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 1886 个字 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 17H7V3h14m0-2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2M3 5H1v16a2 2 0 0 0 2 2h16v-2H3m12.96-10.71-2.75 3.54-1.96-2.36L8.5 15h11z"/></svg></span> 5 张图片 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 5 分钟</p>
</div>
<blockquote>
<p>任课教师：路欣</p>
</blockquote>
<h2 id="notes-mathematicsandphysics-physics1-solving-problems-in-the-view-of-vectors">Solving problems in the view of <strong>vectors</strong><a class="headerlink" href="#notes-mathematicsandphysics-physics1-solving-problems-in-the-view-of-vectors" title="Permanent link">&para;</a></h2>
<h3 id="notes-mathematicsandphysics-physics1-dimension">Dimension<a class="headerlink" href="#notes-mathematicsandphysics-physics1-dimension" title="Permanent link">&para;</a></h3>
<p>类似单位，但是以具体的量表述，如<span class="arithmatex">\(m(米) \rightarrow [length]\)</span>,<span class="arithmatex">\(s(秒) \rightarrow [time]\)</span>,<span class="arithmatex">\(kg(千克) \rightarrow [mass]\)</span>  </p>
<div class="admonition warning">
<p class="admonition-title">向量的单位/Dimension</p>
<p>向量的单位/Dimension就是其对应标量（module）的单位/Dimension。<br />
因此单位向量的Dimension等于一般向量的Dimension除以其module的单位，也就是1<br />
<a href="https://physics.stackexchange.com/questions/172829/is-a-vector-and-a-unit-vector-dimensionless">So unit vectors are <strong>dimensionless</strong>.</a>  </p>
</div>
<h2 id="notes-mathematicsandphysics-physics1-work-kinetic-energymomentum-principle">Work-Kinetic Energy/Momentum Principle<a class="headerlink" href="#notes-mathematicsandphysics-physics1-work-kinetic-energymomentum-principle" title="Permanent link">&para;</a></h2>
<h3 id="notes-mathematicsandphysics-physics1-conservative-force">Conservative Force<a class="headerlink" href="#notes-mathematicsandphysics-physics1-conservative-force" title="Permanent link">&para;</a></h3>
<p>保守力：做功大小与路径/过程无关，只与初末位置/状态有关的力，如重力、弹力、电场力。<br />
保守力的做功等于对应势能的增量，即<span class="arithmatex">\(W = -\Delta U\)</span></p>
<h3 id="notes-mathematicsandphysics-physics1-center-of-masscm">Center of Mass(CM)<a class="headerlink" href="#notes-mathematicsandphysics-physics1-center-of-masscm" title="Permanent link">&para;</a></h3>
<p><span class="arithmatex">\(x_{cm} = \frac{m_1x_1 + m_2x_2 + \cdots + m_nx_n}{m_1 + m_2 + \cdots + m_n}\)</span><br />
<img alt="" src="../notes/MathematicsAndPhysics/assets/Physics11.png" />
对于含有大量微粒的系统，其质心由求和转变为积分<br />
<span class="arithmatex">\(x_{cm} = \lim_{\Delta m \to 0} \frac{\sum x_i \Delta m_i}{M} = \frac{\int xdm}{M}\)</span></p>
<h3 id="notes-mathematicsandphysics-physics1-cm-frame">CM Frame(质心系)<a class="headerlink" href="#notes-mathematicsandphysics-physics1-cm-frame" title="Permanent link">&para;</a></h3>
<p>质心系是一个特殊的惯性系，质心系中的物体的总动量为0。质心可视为虚拟的质点。质心的质量为质点系所有质点质量之和。<br />
<span class="arithmatex">\(\vec{v}_{cm} = \frac{\sum m_i\vec{v}_i}{\sum m_i}\)</span><br />
<span class="arithmatex">\(\vec{a}_{cm} = \frac{\sum m_i\vec{a}_i}{\sum m_i}\)</span></p>
<h4 id="notes-mathematicsandphysics-physics1-_1">质心动量<a class="headerlink" href="#notes-mathematicsandphysics-physics1-_1" title="Permanent link">&para;</a></h4>
<p>质点系总动量等于质心动量，即<span class="arithmatex">\(\sum m_i\vec{v}_i = (\sum m_i)\frac{\sum m_i\vec{v}_i}{\sum m_i} = (\sum m_i)\vec{v}_{cm}\)</span><br />
因此质心动量的改变量等于质点系合外力的冲量。</p>
<h4 id="notes-mathematicsandphysics-physics1-_2">质心动能<a class="headerlink" href="#notes-mathematicsandphysics-physics1-_2" title="Permanent link">&para;</a></h4>
<p>柯尼希定理：质点系的动能等于质心动能加上每个质点<strong>相对</strong>质心的动能之和，即<span class="arithmatex">\(E = E_{cm} + \sum E_{k,i-cm}\)</span></p>
<h2 id="notes-mathematicsandphysics-physics1-rotational-motion">Rotational Motion<a class="headerlink" href="#notes-mathematicsandphysics-physics1-rotational-motion" title="Permanent link">&para;</a></h2>
<p><span class="arithmatex">\(\tau = I\alpha\)</span>(类比<span class="arithmatex">\(F = ma\)</span>)<br />
其中<span class="arithmatex">\(\tau\)</span>为力矩，<span class="arithmatex">\(I\)</span>为转动惯量，<span class="arithmatex">\(\alpha\)</span>为角加速度<br />
<span class="arithmatex">\(I = \sum m_i r_i^2 = \int r^2 dm\)</span>, 与物体旋转轴的位置有关<br />
将刚体看作许多质点集合  </p>
<details class="常见几何体转动惯量">
<summary>常见几何体转动惯量</summary>
<p><img alt="" src="../notes/MathematicsAndPhysics/assets/Physics14.png" /></p>
</details>
<p>由此可表示转动物体的动能：<span class="arithmatex">\(E_k = \frac{1}{2}I\omega^2\)</span>(<span class="arithmatex">\(\omega\)</span>为角速度)<br />
与动能定理：<span class="arithmatex">\(\sum W = \int_{\theta_i}^{\theta_f} \sum \tau d\theta = \int_{\omega_i}^{\omega_f} I\omega d\omega = \frac{1}{2}I\omega_f^2 - \frac{1}{2}I\omega_i^2\)</span>  </p>
<p>平行轴定理：<span class="arithmatex">\(I = I_{cm} + Mh^2\)</span>，其中<span class="arithmatex">\(I_{cm}\)</span>为以质心为轴的转动惯量，<span class="arithmatex">\(h\)</span>为质心到新转轴的距离</p>
<h3 id="notes-mathematicsandphysics-physics1-_3">角动量<a class="headerlink" href="#notes-mathematicsandphysics-physics1-_3" title="Permanent link">&para;</a></h3>
<p><span class="arithmatex">\(L = I\omega = r \times p\)</span><br />
<img alt="" src="../notes/MathematicsAndPhysics/assets/Physics12.png" /><br />
角动量守恒：要求外力矩为0，即<span class="arithmatex">\(\tau_{\text{ext}} = 0\)</span></p>
<h2 id="notes-mathematicsandphysics-physics1-_4">简谐运动<a class="headerlink" href="#notes-mathematicsandphysics-physics1-_4" title="Permanent link">&para;</a></h2>
<p>定义<span class="arithmatex">\(\omega = \sqrt{\frac{k}{m}}\)</span>，其中<span class="arithmatex">\(k\)</span>为弹簧的劲度系数</p>
<p>则<span class="arithmatex">\(x = Acos(\omega t + \phi)\)</span><br />
<span class="arithmatex">\(v = -A\omega sin(\omega t + \phi)\)</span> 
<span class="arithmatex">\(a = -A\omega^2 cos(\omega t + \phi)\)</span></p>
<h3 id="notes-mathematicsandphysics-physics1-_5">阻尼振动<a class="headerlink" href="#notes-mathematicsandphysics-physics1-_5" title="Permanent link">&para;</a></h3>
<p><span class="arithmatex">\(F_{\text{damping}} = -bv\)</span><br />
<span class="arithmatex">\(x = Ae^{-\frac{b}{2m}t}cos(\omega t + \phi)\)</span>
<span class="arithmatex">\(\omega = \sqrt{\frac{k}{m} - \frac{b^2}{4m^2}}\)</span>  </p>
<h3 id="notes-mathematicsandphysics-physics1-_6">受迫振动<a class="headerlink" href="#notes-mathematicsandphysics-physics1-_6" title="Permanent link">&para;</a></h3>
<p><span class="arithmatex">\(x = A'e^{-\frac{b}{2m}t}cos(\omega' t + \phi') + Acos(\omega t + \phi)\)</span></p>
<h2 id="notes-mathematicsandphysics-physics1-_7">波动<a class="headerlink" href="#notes-mathematicsandphysics-physics1-_7" title="Permanent link">&para;</a></h2>
<ul>
<li>横波：波动方向与波传播方向垂直</li>
<li>纵波：波动方向与波传播方向平行</li>
</ul>
<p>透射与反射：<img alt="" src="../notes/MathematicsAndPhysics/assets/Physics13.png" /></p>
<p>Destructive Interference: <span class="arithmatex">\(\Delta x = (n + \frac{1}{2})\lambda\)</span><br />
Constructive Interference: <span class="arithmatex">\(\Delta x = n\lambda\)</span><br />
（<span class="arithmatex">\(\Delta x\)</span>为定点到两波源的距离差）</p>
<p><span class="arithmatex">\(f(x,t) = f(x-vt)\)</span>或<span class="arithmatex">\(f(x,t) = f(x+vt)\)</span>，正号代表波向左传播，负号代表波向右传播
波动方程：<span class="arithmatex">\(\frac{\partial^2 u}{\partial t^2} = v^2\frac{\partial^2 u}{\partial x^2}\)</span>，其中<span class="arithmatex">\(v\)</span>为波速，<span class="arithmatex">\(u\)</span>为波函数，<span class="arithmatex">\(x\)</span>为波传播方向，<span class="arithmatex">\(t\)</span>为时间  </p>
<p>通解为<span class="arithmatex">\(y(x,t) = Acos(kx - \omega t + \phi)\)</span>，其中<span class="arithmatex">\(k = \frac{2\pi}{\lambda}\)</span>，<span class="arithmatex">\(\omega = 2\pi f\)</span>，<span class="arithmatex">\(\phi\)</span>为初相位</p>
<p>波速：<span class="arithmatex">\(v = \frac{\lambda}{T} = \lambda f = \sqrt{\frac{F}{\sigma}}\)</span>(<span class="arithmatex">\(\lambda\)</span>为波长，<span class="arithmatex">\(T\)</span>为周期，<span class="arithmatex">\(f\)</span>为频率，<span class="arithmatex">\(F\)</span>为张力，<span class="arithmatex">\(\sigma\)</span>为线密度（单位长度的质量）)  </p>
<p>驻波：两个波源频率相同，波长相同，波速相同，波源间距为半波长的整数倍</p>
<h3 id="notes-mathematicsandphysics-physics1-_8">声波<a class="headerlink" href="#notes-mathematicsandphysics-physics1-_8" title="Permanent link">&para;</a></h3>
<p><span class="arithmatex">\(I = \frac{P}{A} = \frac{1}{2}\rho v (\omega s_{max})^2\)</span>(<span class="arithmatex">\(\rho\)</span>为介质密度，<span class="arithmatex">\(v\)</span>为声速，<span class="arithmatex">\(\omega\)</span>为角频率，<span class="arithmatex">\(s_{max}\)</span>为最大位移<br />
<span class="arithmatex">\(I\)</span>为声强，<span class="arithmatex">\(P\)</span>为声功率，<span class="arithmatex">\(A\)</span>为声波通过的面积</p>
<h4 id="notes-mathematicsandphysics-physics1-_9">多普勒效应<a class="headerlink" href="#notes-mathematicsandphysics-physics1-_9" title="Permanent link">&para;</a></h4>
<p>观测者靠近声源，频率增大；远离声源，频率减小</p>
<ul>
<li>声源运动，观测者静止：<span class="arithmatex">\(f = \frac{f_0}{1 \pm \frac{v_s}{v}}\)</span>，其中<span class="arithmatex">\(f\)</span>为观测到的频率，<span class="arithmatex">\(f_0\)</span>为声源发出的频率，<span class="arithmatex">\(v_s\)</span>为声源速度，<span class="arithmatex">\(v\)</span>为声速</li>
<li>声源静止，观测者运动：<span class="arithmatex">\(f = f_0(1 \pm \frac{v_o}{v})\)</span>，其中<span class="arithmatex">\(v_o\)</span>为观测者速度</li>
</ul>
<h2 id="notes-mathematicsandphysics-physics1-_10">相对论<a class="headerlink" href="#notes-mathematicsandphysics-physics1-_10" title="Permanent link">&para;</a></h2>
<h3 id="notes-mathematicsandphysics-physics1-lorentz-transformation">Lorentz Transformation<a class="headerlink" href="#notes-mathematicsandphysics-physics1-lorentz-transformation" title="Permanent link">&para;</a></h3>
<p>B关于A的速度为<span class="arithmatex">\(v\)</span>.对于某个事件，A系中的坐标为<span class="arithmatex">\((x,t)\)</span>，B系中的坐标为<span class="arithmatex">\((x',t')\)</span><br />
则<span class="arithmatex">\(x' = \frac{x-vt}{\sqrt{1-\frac{v^2}{c^2}}}\)</span>,<span class="arithmatex">\(t' = \frac{t-\frac{v}{c^2}x}{\sqrt{1-\frac{v^2}{c^2}}}\)</span><br />
注意到当<span class="arithmatex">\(v \ll c\)</span>时，Lorentz Transformation 退化为 Galilean Transformation: <span class="arithmatex">\(x' = x - vt\)</span>,<span class="arithmatex">\(t' = t\)</span></p>
<h3 id="notes-mathematicsandphysics-physics1-_11">速度变换<a class="headerlink" href="#notes-mathematicsandphysics-physics1-_11" title="Permanent link">&para;</a></h3>
<p>令<span class="arithmatex">\(\Delta x = x_2 - x_1\)</span>,<span class="arithmatex">\(\Delta t = t_2 - t_1\)</span><br />
则<span class="arithmatex">\(\Delta x' = \frac{\Delta x - v\Delta t}{\sqrt{1-\frac{v^2}{c^2}}}\)</span>,<span class="arithmatex">\(\Delta t' = \frac{\Delta t - \frac{v}{c^2}\Delta x}{\sqrt{1-\frac{v^2}{c^2}}}\)</span><br />
定义</p>
<ul>
<li><span class="arithmatex">\(v = \frac{\Delta x}{\Delta t}\)</span> 为物体在A系中的速度</li>
<li><span class="arithmatex">\(w = \frac{\Delta x'}{\Delta t'}\)</span> 为物体在B系中的速度</li>
<li><span class="arithmatex">\(u\)</span> 为B相对于A的速度  </li>
</ul>
<p>则<span class="arithmatex">\(\frac{\Delta x'}{\Delta t'} = \frac{\Delta x - v\Delta t}{\Delta t - \frac{v}{c^2}\Delta x} \underrightarrow{\Delta t \to 0} \frac{dx}{dt} = w = \frac{v - u}{1 - \frac{uv}{c^2}}\)</span></p>
<p>则也可得到<span class="arithmatex">\(v = \frac{u + w}{1 + \frac{uw}{c^2}}\)</span></p>
<p>长度收缩：<span class="arithmatex">\(L' = L_0 \sqrt{(1-\frac{u^2}{c^2})}\)</span></p>
<p>时间膨胀：<span class="arithmatex">\(\Delta t' = \frac{\Delta t_0}{\sqrt{(1-\frac{u^2}{c^2})}}\)</span></p>
<h4 id="notes-mathematicsandphysics-physics1-_12">能量与动量<a class="headerlink" href="#notes-mathematicsandphysics-physics1-_12" title="Permanent link">&para;</a></h4>
<p>质速关系：<span class="arithmatex">\(m = \frac{m_0}{\sqrt{1-\frac{v^2}{c^2}}}\)</span></p>
<p><span class="arithmatex">\(K = \frac{mc^2}{\sqrt{1-\frac{v^2}{c^2}}} - mc^2\)</span>（动能）</p>
<p><span class="arithmatex">\(K_1 = m_0 c^2\)</span> （静止能量）  </p>
<p>总能量：<span class="arithmatex">\(E = K + K_1 = \frac{m_0c^2}{\sqrt{1-\frac{v^2}{c^2}}} = mc^2\)</span></p>
<p><span class="arithmatex">\(p = \frac{m_0 u}{\sqrt{1-\frac{u^2}{c^2}}}\)</span></p>
<h2 id="notes-mathematicsandphysics-physics1-_13">热<a class="headerlink" href="#notes-mathematicsandphysics-physics1-_13" title="Permanent link">&para;</a></h2>
<p>均方根速率：<span class="arithmatex">\(v_{rms} = \sqrt{\frac{3kT}{m}}\)</span>，其中<span class="arithmatex">\(k\)</span>为玻尔兹曼常数，<span class="arithmatex">\(T\)</span>为温度，<span class="arithmatex">\(m\)</span>为质量</p>
<p>最概然速率：<span class="arithmatex">\(v_{mp} = \sqrt{\frac{2kT}{m}}\)</span></p>
<p>平均速率：<span class="arithmatex">\(v_{avg} = \sqrt{\frac{8kT}{\pi m}}\)</span></p>
<p><span class="arithmatex">\(R = 8.31J/(mol \cdot K)\)</span></p>
<p><span class="arithmatex">\(k_B = \frac{R}{N_A} = 1.38 \times 10^{-23} J/K\)</span><br />
于是<span class="arithmatex">\(PV = nRT = Nk_BT\)</span></p>
<p>线性膨胀：<span class="arithmatex">\(\Delta L = \alpha L \Delta T\)</span><br />
体积膨胀：<span class="arithmatex">\(\Delta V = \beta V \Delta T\)</span><br />
<span class="arithmatex">\(\beta = 3\alpha\)</span></p>
<p>对于真实情况下的气体，van der Waals方程：<span class="arithmatex">\((P + \frac{aN^2}{V^2})(V - Nb) = Nk_BT\)</span>，其中<span class="arithmatex">\(a\)</span>为分子间吸引力系数，<span class="arithmatex">\(b\)</span>为分子体积</p>
<p>两个温度分别为T1，T2的热库通过截面积为S的细杆热传递（T1&gt;T2），热传递速率<span class="arithmatex">\(\frac{dQ}{dT} = -kS \frac{T1-T2}{L}\)</span>，<span class="arithmatex">\(k\)</span>为杆材料的热传导率，<span class="arithmatex">\(T1 \rightarrow T2\)</span>时有<span class="arithmatex">\(\frac{dQ}{dT} = -kS \frac{dT}{dx}\)</span></p>
<p>分子动能<span class="arithmatex">\(E_k = \frac{1}{2} m v^2 = \frac{3}{2} k_B T\)</span>，对于大量处于某一温度的分子（宏观上已被视为气体），其速度不全为v，而是服从麦克斯韦-玻尔兹曼分布：<span class="arithmatex">\(f(v) = 4\pi (\frac{m}{2\pi k_B T})^{3/2} v^2 e^{-\frac{mv^2}{2k_B T}}\)</span></p>
<p>平均碰撞次数：<span class="arithmatex">\(z = n_v \pi d^2 vt\)</span><br />
平均自由程：<span class="arithmatex">\(l = \frac{k_B T}{\sqrt{2} \pi d^2 p}\)</span></p>
<h3 id="notes-mathematicsandphysics-physics1-_14">热力学第一定律<a class="headerlink" href="#notes-mathematicsandphysics-physics1-_14" title="Permanent link">&para;</a></h3>
<p><span class="arithmatex">\(dU = \Delta Q - PdV\)</span></p>
<p>功：<span class="arithmatex">\(W = \int_{V_i}^{V_f} PdV\)</span>  <br />
气体从<span class="arithmatex">\((P_1, V_1)\)</span>到<span class="arithmatex">\((P_2, V_2)\)</span>的功（等温）：<span class="arithmatex">\(W = \int_{V_1}^{V_2} PdV = \int_{V_1}^{V_2} \frac{nRT}{V}dV = nRTln\frac{V_2}{V_1}\)</span></p>
<p>定义<span class="arithmatex">\(c = \frac{dQ}{dT}\)</span><br />
等容摩尔热容：<span class="arithmatex">\(C_v = \frac{i}{2}R\)</span>，其中<span class="arithmatex">\(i\)</span>为自由度<br />
等压摩尔热容：<span class="arithmatex">\(C_p = C_v + R\)</span><br />
则定义：<span class="arithmatex">\(\gamma = \frac{C_p}{C_v} = \frac{i+2}{i}\)</span></p>
<p>绝热过程中：<span class="arithmatex">\(PV^{\gamma} = C\)</span>，<span class="arithmatex">\(W_{A\rightarrow B} = \frac{P_A V_A - P_B V_B}{\gamma - 1}\)</span></p>
<p>卡诺热机效率：<span class="arithmatex">\(\eta = 1 - \frac{T_2}{T_1}\)</span>，其中<span class="arithmatex">\(T_1\)</span>为高温，<span class="arithmatex">\(T_2\)</span>为低温<br />
制冷系数：<span class="arithmatex">\(\frac{1}{\eta} - e = 1\)</span></p>
<p><img alt="" src="../notes/MathematicsAndPhysics/assets/Physics15.png" /></p>
<h3 id="notes-mathematicsandphysics-physics1-entropy">Entropy<a class="headerlink" href="#notes-mathematicsandphysics-physics1-entropy" title="Permanent link">&para;</a></h3>
<p><span class="arithmatex">\(ds = \frac{dQ}{T}\)</span>，要求<span class="arithmatex">\(Q\)</span>是可逆过程中的热量</p>
<p>等温过程<span class="arithmatex">\(S_2 - S_1 = nR \ln \frac{V_2}{V_1}\)</span></p></section><section class="print-page" id="notes-mathematicsandphysics-ode" heading-number="4.4.3"><nav class='md-tags'><span class='md-tag'>大一下笔记</span></nav><h1 id="_1">常微分方程<a class="headerlink" href="#notes-mathematicsandphysics-ode-_1" title="Permanent link">&para;</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 4917 个字 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 17H7V3h14m0-2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2M3 5H1v16a2 2 0 0 0 2 2h16v-2H3m12.96-10.71-2.75 3.54-1.96-2.36L8.5 15h11z"/></svg></span> 11 张图片 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 14 分钟</p>
</div>
<blockquote>
<p>任课教师：王伟<br />
<del>这课讲的很浅，好像难度也不大</del><br />
疑似小测后开始上强度了（  </p>
</blockquote>
<div class="admonition note">
<p class="admonition-title">UsefulLinks</p>
<p><a href="https://note.xecades.xyz/math/ma/cheatsheet/">Cheatsheet by Xecades</a><br />
<a href="https://github.com/16-39/Mathematics/blob/main/ODE%20review.pdf">jhc学长的笔记</a></p>
</div>
<div class="admonition abstract">
<p class="admonition-title">成绩组成</p>
<ul>
<li>平时成绩：50%，包括作业30%和小测20%</li>
<li>期末考试：50%</li>
</ul>
</div>
<h2 id="notes-mathematicsandphysics-ode-_2">基本概念<a class="headerlink" href="#notes-mathematicsandphysics-ode-_2" title="Permanent link">&para;</a></h2>
<p>含有<strong>未知数、所求的未知函数、未知函数的导数</strong>的方程，称为微分方程。<br />
最高阶导数的阶数称为微分方程的阶数。  </p>
<p>n阶微分方程的一般形式：<span class="arithmatex">\(F(x, y, y', y'', \cdots, y^{(n)}) = 0\)</span>  </p>
<ul>
<li>其中<span class="arithmatex">\(y^{(n)}\)</span>必须出现，其他变量不要求。如 <span class="arithmatex">\(y^{(n)} = 1\)</span>  </li>
</ul>
<p>使微分方程成为恒等式的<span class="arithmatex">\(y = y(x)\)</span>称为微分方程的解，这就是定义中的“未知函数”。<br />
若解中含有任意常数且常数的个数与方程阶数相等，则称为微分方程的通解，不含有常数则为特解。  </p>
<p>为了求解方程的特解，需要提供一些初始条件，如<span class="arithmatex">\(y(x_0) = y_0, y'(x_0) = y_0'\)</span>等。  </p>
<h2 id="notes-mathematicsandphysics-ode-ode">一阶ode<a class="headerlink" href="#notes-mathematicsandphysics-ode-ode" title="Permanent link">&para;</a></h2>
<p>一般形式：<span class="arithmatex">\(f(x, y) = \frac{dy}{dx}\)</span>  </p>
<h3 id="notes-mathematicsandphysics-ode-ode_1">可分离变量的ode解法<a class="headerlink" href="#notes-mathematicsandphysics-ode-ode_1" title="Permanent link">&para;</a></h3>
<p>即可化为<span class="arithmatex">\(\frac{dy}{dx} = \varphi (x)\psi (y)\)</span>的形式。<br />
解法：分离变量，两边积分。  </p>
<details class="例">
<summary>例</summary>
<ul>
<li>求解<span class="arithmatex">\(\frac{dy}{dx} = 2xy\)</span>  <ul>
<li>分离变量，得<span class="arithmatex">\(\frac{dy}{y} = 2xdx\)</span>  </li>
<li>两边积分，得<span class="arithmatex">\(\ln |y| = x^2 + C\)</span>  </li>
<li>代回<span class="arithmatex">\(x\)</span>,<span class="arithmatex">\(y\)</span>,得<span class="arithmatex">\(y = Ce^{x^2}\)</span></li>
</ul>
</li>
<li>求解略复杂的可分离形式的ode:<span class="arithmatex">\(\frac{dy}{dx} = \sin ^2 (x-y+1)\)</span>  <ul>
<li>(想办法取出sin中的东西)令<span class="arithmatex">\(u=x-y+1\)</span>,则<span class="arithmatex">\(\frac{du}{dx} = 1-\frac{dy}{dx}\)</span>  </li>
<li>代入原式，得<span class="arithmatex">\(\frac{du}{dx} = 1 - \sin ^2 u = \cos ^2 u\)</span>  </li>
<li>分离变量，得<span class="arithmatex">\(\frac{du}{\cos ^2 u} = dx\)</span></li>
<li>两边积分，得<span class="arithmatex">\(\tan u = x + C\)</span></li>
<li>代回<span class="arithmatex">\(x\)</span>,<span class="arithmatex">\(y\)</span>,得<span class="arithmatex">\(\tan (x-y+1) = x + C\)</span>  </li>
</ul>
</li>
</ul>
</details>
<h3 id="notes-mathematicsandphysics-ode-ode_2">未知量齐次ode解法<a class="headerlink" href="#notes-mathematicsandphysics-ode-ode_2" title="Permanent link">&para;</a></h3>
<p>即可由一般形式化为<span class="arithmatex">\(\frac{dy}{dx} = \varphi (\frac{y}{x})\)</span>的形式。 
只要注意到等号两侧<span class="arithmatex">\(y\)</span>与<span class="arithmatex">\(x\)</span>的次数相同，就可以尝试变形后用<span class="arithmatex">\(u = \frac{y}{x}或\frac{x}{y}\)</span>的形式进行变换。</p>
<p>解法：令<span class="arithmatex">\(y = ux\)</span>,则<span class="arithmatex">\(\frac{dy}{dx} = u + x\frac{du}{dx}\)</span>，再代入原方程。  </p>
<details class="例">
<summary>例</summary>
<ul>
<li>求解齐次ode:<span class="arithmatex">\((y^2-2xy)dx+x^{2}dy=0\)</span>（注意<span class="arithmatex">\(x\)</span>,<span class="arithmatex">\(y\)</span>的次数相同）  <ul>
<li>先变形，得<span class="arithmatex">\(\frac{dy}{dx} = 2\frac{y}{x} - (\frac{y}{x})^2\)</span></li>
<li>令<span class="arithmatex">\(u = \frac{y}{x}\)</span>,则<span class="arithmatex">\(y = ux\)</span>,<span class="arithmatex">\(\frac{dy}{dx} = u + x\frac{du}{dx}\)</span>  </li>
<li>代入原方程，得<span class="arithmatex">\(u + x\frac{du}{dx} = 2u - u^2\)</span></li>
<li>分离变量，得<span class="arithmatex">\(\frac{du}{u(1-u)} = \frac{dx}{x}\)</span></li>
<li>两边积分，得<span class="arithmatex">\(\ln |u| - \ln |1-u| = \ln |x| + C\)</span></li>
</ul>
</li>
</ul>
</details>
<h3 id="notes-mathematicsandphysics-ode-ode_3">一阶线性ode解法<a class="headerlink" href="#notes-mathematicsandphysics-ode-ode_3" title="Permanent link">&para;</a></h3>
<p>一般形式：<span class="arithmatex">\(\frac{dy}{dx} + P(x)y = Q(x)\)</span><br />
当<span class="arithmatex">\(Q(x) = 0\)</span>时，称为齐次线性方程；否则称为非齐次线性方程。  </p>
<p>解法：类似于线性代数中（非）齐次线性方程组的解法  </p>
<ul>
<li>Step 1: 求齐次线性方程的通解（分离变量）  <ul>
<li><span class="arithmatex">\(\frac{dy}{dx} + P(x)y = 0\)</span></li>
<li><span class="arithmatex">\(\Rightarrow \frac{dy}{y} = -P(x)dx\)</span>  </li>
<li><span class="arithmatex">\(\Rightarrow \ln |y| = -\int P(x)dx + C\)</span></li>
<li><span class="arithmatex">\(\Rightarrow y = Ce^{-\int P(x)dx}\)</span></li>
</ul>
</li>
<li>Step 2: 常数变易法求非齐次线性方程的通解<ul>
<li><span class="arithmatex">\(C\)</span>为常数时，<span class="arithmatex">\(y = Ce^{-\int P(x)dx}\)</span>是齐次线性方程的通解  </li>
<li><span class="arithmatex">\(C = u(x)\)</span>时，假设<span class="arithmatex">\(y = u(x)e^{-\int P(x)dx}\)</span>是非齐次线性方程的通解  </li>
<li>代入<span class="arithmatex">\(\frac{dy}{dx} + P(x)y = Q(x)\)</span></li>
<li>得<span class="arithmatex">\(u'(x)e^{-\int P(x)dx} = Q(x)\)</span>  </li>
<li>由此得<span class="arithmatex">\(u(x) = \int Q(x)e^{\int P(x)dx}dx + C\)</span>  </li>
<li>因此非齐次线性方程的通解为<span class="arithmatex">\(y = e^{-\int P(x)dx}(\int Q(x)e^{\int P(x)dx}dx + C)\)</span></li>
</ul>
</li>
</ul>
<details class="例">
<summary>例</summary>
<ul>
<li>求解非齐次线性ode:<span class="arithmatex">\(\frac{dy}{dx} = \frac{1}{x+y}\)</span><ul>
<li>解法1: 取倒数化为非齐次一般形式<ul>
<li><span class="arithmatex">\(\frac{dx}{dy} = x+y\)</span></li>
<li>将<span class="arithmatex">\(x\)</span>看作因变量: <span class="arithmatex">\(\frac{dx}{dy} - x = y\)</span></li>
<li>代入公式，于是<span class="arithmatex">\(P(y) = -1\)</span>, <span class="arithmatex">\(Q(y) = y\)</span></li>
<li>得<span class="arithmatex">\(x = e^{y}(\int y e^{-\int dy}dy + C)\)</span></li>
<li>积分化简得<span class="arithmatex">\(x = Ce^{y} - y - 1\)</span></li>
</ul>
</li>
<li>解法2: 也可以用未知量齐次的换元+分离方法<ul>
<li>令<span class="arithmatex">\(u = x+y\)</span>,则<span class="arithmatex">\(\frac{dy}{dx} = \frac{du}{dx} - 1\)</span></li>
<li>代回方程得<span class="arithmatex">\(\frac{du}{dx} - 1 = \frac{1}{u}\)</span></li>
<li>分离变量得<span class="arithmatex">\(\frac{du}{1+\frac{1}{u}} = dx\)</span></li>
<li>两边积分得<span class="arithmatex">\(u - ln|u+1| = x + C\)</span></li>
<li>代回<span class="arithmatex">\(u = x+y\)</span>,得<span class="arithmatex">\(y - ln|x+y+1| + C = 0\)</span></li>
</ul>
</li>
</ul>
</li>
</ul>
</details>
<h3 id="notes-mathematicsandphysics-ode-_3">伯努利方程<a class="headerlink" href="#notes-mathematicsandphysics-ode-_3" title="Permanent link">&para;</a></h3>
<p>形式：<span class="arithmatex">\(\frac{dy}{dx} + P(x)y = Q(x)y^n\)</span>  </p>
<p>解法: 两边同时除以<span class="arithmatex">\(y^n\)</span>，既得<span class="arithmatex">\(\frac{1}{y^n}\frac{dy}{dx} + P(x)y^{1-n} = Q(x)\)</span>，<br />
观察到第一项恰好等于<span class="arithmatex">\(\frac{d(y^{1-n})}{(1-n)dx}\)</span>， 
于是令<span class="arithmatex">\(z = y^{1-n}\)</span>，则<span class="arithmatex">\(\frac{dz}{dx} + (1-n)P(x)z = (1-n)Q(x)\)</span><br />
这就化为了一阶线性ode，套用公式解出<span class="arithmatex">\(z\)</span>，再代回<span class="arithmatex">\(y\)</span>即可。</p>
<details class="例">
<summary>例</summary>
<ul>
<li>求解伯努利方程:<span class="arithmatex">\(\frac{dy}{dx} + \frac{y}{x} = a(\ln x)y^2\)</span><ul>
<li>令<span class="arithmatex">\(z = y^{1-2} = y^{-1}\)</span>,则<span class="arithmatex">\(\frac{dz}{dx} - \frac{z}{x} = -a\ln x\)</span></li>
<li>于是<span class="arithmatex">\(P(x) = -\frac{1}{x}\)</span>, <span class="arithmatex">\(Q(x) = -a\ln x\)</span></li>
<li>代入公式得<span class="arithmatex">\(z = e^{\int \frac{1}{x}dx}(-\int a\ln x e^{-\int \frac{1}{x}dx}dx + C)\)</span></li>
<li>积分化简后得到<span class="arithmatex">\(z = -\frac{1}{2} ax(\ln x)^2 + Cx\)</span></li>
<li>代回,得<span class="arithmatex">\(y = \frac{1}{-\frac{1}{2} ax(\ln x)^2 + Cx}\)</span></li>
</ul>
</li>
</ul>
</details>
<h2 id="notes-mathematicsandphysics-ode-_4">全微分方程<a class="headerlink" href="#notes-mathematicsandphysics-ode-_4" title="Permanent link">&para;</a></h2>
<p>（我没看懂，很多都是多元函数和偏导的东西，可能会在数分上讲到）  </p>
<p>将微分方程化为<span class="arithmatex">\(M(x,y)dx + N(x,y)dy = 0\)</span>的形式，若<span class="arithmatex">\(\exists u(x,y)\)</span>使得<span class="arithmatex">\(du(x,y) = M(x,y)dx + N(x,y)dy\)</span>，则称为全微分方程。<br />
则<span class="arithmatex">\(u(x,y) = C\)</span>即为微分方程的通解。  </p>
<p>例如 <span class="arithmatex">\(xdx+ydy = 0\)</span>，等号左侧为 <span class="arithmatex">\(d(\frac{1}{2}x^2 + \frac{1}{2}y^2)\)</span>，因此<span class="arithmatex">\(\frac{1}{2}x^2 + \frac{1}{2}y^2 = C\)</span> 即为通解。  </p>
<p><span class="arithmatex">\(M(x,y)dx + N(x,y)dy = 0\)</span>是全微分方程 <span class="arithmatex">\(\leftrightarrow \frac{\partial M(x,y)}{\partial y} = \frac{\partial N(x,y)}{\partial x}\)</span><br />
(dx的系数对y求导 = dy的系数对x求导) 
而<span class="arithmatex">\(u(x,y) = \int_{(0,0)}^{(x,y)} M(x,y)dx + N(x,y)dy\)</span>即为微分方程的特解。  </p>
<ul>
<li>解法1：<ul>
<li>求解<span class="arithmatex">\(u(x,y)\)</span>: 从<span class="arithmatex">\((0,0)\)</span>先积分到<span class="arithmatex">\((x,0)\)</span>, 再从<span class="arithmatex">\((x,0)\)</span>积分到<span class="arithmatex">\((x,y)\)</span></li>
<li>(路径积分)</li>
</ul>
</li>
<li>解法2:<ul>
<li>凑全微分（技巧性较强）</li>
</ul>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">凑全微分</p>
<p>我估计不久后会搬到数分Ⅱ笔记里
<img alt="" src="../notes/MathematicsAndPhysics/assets/ODE1.png" /></p>
</div>
<details class="例">
<summary>例</summary>
<ul>
<li>求解<span class="arithmatex">\((3x^{2}+6xy^{2})dx + (6x^{2}y+4y^{3})dy = 0\)</span><ul>
<li>解法1: 直接求解<ul>
<li>此处<span class="arithmatex">\(M = 3x^{2}+6xy^{2}\)</span>, <span class="arithmatex">\(N = 6x^{2}y+4y^{3}\)</span></li>
<li>而<span class="arithmatex">\(\frac{\partial M}{\partial y} = 12xy = \frac{\partial N}{\partial x}\)</span>, 因此为全微分方程</li>
<li><span class="arithmatex">\(u(x,y) = \int_{(0,0)}^{(x,y)} (3x^{2}+6xy^{2})dx + (6x^{2}y+4y^{3})dy\)</span> </li>
<li><span class="arithmatex">\(= \int_{0}^{x} 3t^{2}dt + \int_{0}^{y} (6x^{2}s+4s^{3})ds\)</span></li>
<li><span class="arithmatex">\(= x^{3} + 3x^{2}y^{2} + y^{4}\)</span></li>
<li>通解就是<span class="arithmatex">\(u(x,y) = C\)</span>, 即<span class="arithmatex">\(x^{3} + 3x^{2}y^{2} + y^{4} = C\)</span></li>
</ul>
</li>
<li>解法2: 凑全微分<ul>
<li>改写方程为<span class="arithmatex">\(3x^{2}dx + 4y^{3}dy + 6xy(ydx + xdy) = 0\)</span></li>
<li>凑微分得<span class="arithmatex">\(d(x^{3} + y^{4}) + 6xyd(xy) = 0\)</span></li>
<li>也就是<span class="arithmatex">\(d(x^{3} + y^{4} + 3x^{2}y^{2}) = 0\)</span></li>
<li>得通解<span class="arithmatex">\(x^{3} + y^{4} + 3x^{2}y^{2} = C\)</span></li>
</ul>
</li>
</ul>
</li>
<li>求解<span class="arithmatex">\((\cos x + \frac{1}{y})dx + (\frac{1}{y} - \frac{x}{y^{2}})dy = 0\)</span><ul>
<li>分离一下，得<span class="arithmatex">\(\cos x dx + \frac{1}{y}dy + \frac{ydx-xdy}{y^{2}} = 0\)</span></li>
<li>凑微分得<span class="arithmatex">\(d(\sin x + \ln |y| - \frac{x}{y}) = 0\)</span></li>
<li>得通解<span class="arithmatex">\(\sin x + \ln |y| - \frac{x}{y} = C\)</span></li>
</ul>
</li>
</ul>
</details>
<ul>
<li>解法3: 积分因子<ul>
<li>若微分方程不是全微分方程，可以乘以一个函数<span class="arithmatex">\(\mu(x,y)\)</span>，使得<span class="arithmatex">\(\mu(x,y)M(x,y)dx + \mu(x,y)N(x,y)dy = 0\)</span>是全微分方程</li>
<li>之后在按照解全微分方程的方法来解<ul>
<li>若<span class="arithmatex">\(M(x,y)dx + N(x,y)dy = 0\)</span>满足<span class="arithmatex">\(\frac{1}{N} (\frac{\partial M}{\partial y} - \frac{\partial N}{\partial x}) = f(x)\)</span>(只和x有关)</li>
<li>则积分因子<span class="arithmatex">\(\mu(x) = e^{\int f(x)dx}\)</span></li>
<li>若<span class="arithmatex">\(M(x,y)dx + N(x,y)dy = 0\)</span>满足<span class="arithmatex">\(\frac{1}{M} (\frac{\partial N}{\partial x} - \frac{\partial M}{\partial y}) = g(y)\)</span></li>
<li>则积分因子<span class="arithmatex">\(\mu(y) = e^{\int g(y)dy}\)</span></li>
</ul>
</li>
</ul>
</li>
</ul>
<details class="例">
<summary>例</summary>
<ul>
<li>求解<span class="arithmatex">\(ydx+(x+x^2 y^2 )dy = 0\)</span></li>
<li>改写为<span class="arithmatex">\(ydx+xdy+x^2 y^2 dy = 0\)</span></li>
<li>两边同乘<span class="arithmatex">\(\mu(x,y) = (xy)^{-2}\)</span>（我不到怎么发现的）</li>
<li>得<span class="arithmatex">\(\frac{d(xy)}{(xy)^2} + dy = 0\)</span></li>
<li><span class="arithmatex">\(\rightarrow d(-\frac{1}{xy} + y) = 0\)</span></li>
</ul>
</details>
<h2 id="notes-mathematicsandphysics-ode-ode_4">高阶ode<a class="headerlink" href="#notes-mathematicsandphysics-ode-ode_4" title="Permanent link">&para;</a></h2>
<h3 id="notes-mathematicsandphysics-ode-ode_5">可降阶的二阶ode<a class="headerlink" href="#notes-mathematicsandphysics-ode-ode_5" title="Permanent link">&para;</a></h3>
<ol>
<li><span class="arithmatex">\(y^n = f(x)\)</span></li>
</ol>
<ul>
<li>解法：直接积分n次</li>
<li>较为简单，注意每次积分都要加上常数</li>
</ul>
<ol start="2">
<li><span class="arithmatex">\(y'' = f(x,y')\)</span> (无<span class="arithmatex">\(y\)</span>)</li>
</ol>
<ul>
<li>解法：令<span class="arithmatex">\(y' = p\)</span>, 则<span class="arithmatex">\(y'' = p'\)</span>, 于是原方程化为一阶方程<span class="arithmatex">\(p' = f(x,p)\)</span></li>
<li>注意这里的p仍然是x的函数，即<span class="arithmatex">\(p' = \frac{dp}{dx}\)</span></li>
</ul>
<details class="例">
<summary>例</summary>
<ul>
<li>求解<span class="arithmatex">\((1+x^2)y'' = 2xy'\)</span>  <ul>
<li>令<span class="arithmatex">\(y' = p\)</span>, 则<span class="arithmatex">\(y'' = p'\)</span>, 于是原方程化为一阶方程<span class="arithmatex">\(p' = \frac{2xp}{1+x^2}\)</span></li>
<li>分离变量得<span class="arithmatex">\(\frac{dp}{p} = \frac{2xdx}{1+x^2}\)</span></li>
<li>两边积分得<span class="arithmatex">\(\ln |p| = \ln |1+x^2| + C\)</span></li>
<li>代回得<span class="arithmatex">\(p = C(1+x^2)\)</span></li>
<li>再<strong>对x积分</strong>一次得<span class="arithmatex">\(y = C_1(x+\frac{1}{3} x^3) + C_2\)</span></li>
</ul>
</li>
</ul>
</details>
<ol start="3">
<li><span class="arithmatex">\(y'' = f(y,y')\)</span> (无<span class="arithmatex">\(x\)</span>)</li>
</ol>
<ul>
<li>解法：令<span class="arithmatex">\(y' = p\)</span>, 则<span class="arithmatex">\(y'' = \frac{dp}{dx} = \frac{dp}{dy} \frac{dy}{dx} = p\frac{dp}{dy}\)</span>, 于是原方程化为一阶方程<span class="arithmatex">\(p\frac{dp}{dy} = f(y,p)\)</span></li>
<li>这里将p看作y的函数，也即自变量是y，因变量是p</li>
</ul>
<details class="例">
<summary>例</summary>
<ul>
<li>求解<span class="arithmatex">\(yy'' - (y')^2 = 0\)</span><ul>
<li>令<span class="arithmatex">\(y' = p\)</span>, 则<span class="arithmatex">\(y'' = p \frac{dp}{dy}\)</span></li>
<li>原方程化为<span class="arithmatex">\(yp \frac{dp}{dy} - p^2 = 0\)</span></li>
<li>分离变量得<span class="arithmatex">\(\frac{dp}{p} = \frac{dy}{y}\)</span></li>
<li>两边积分得<span class="arithmatex">\(\ln |p| = \ln |y| + C\)</span></li>
<li>代回得<span class="arithmatex">\(p = y' = \frac{dy}{dx} = C_1 y\)</span></li>
<li>注意这个是关于<span class="arithmatex">\(y\)</span>和<span class="arithmatex">\(x\)</span>的ode，分离变量得<span class="arithmatex">\(\frac{dy}{y} = C_1 dx\)</span></li>
<li>积分化简得到<span class="arithmatex">\(y=C_2 e^{C_1 x}\)</span></li>
</ul>
</li>
</ul>
</details>
<h3 id="notes-mathematicsandphysics-ode-ode_6">二阶线性ode<a class="headerlink" href="#notes-mathematicsandphysics-ode-ode_6" title="Permanent link">&para;</a></h3>
<p>定义函数的线性相关性：<br />
若存在不全为零的常数<span class="arithmatex">\(k_1,k_2,\cdots,k_n\)</span>使得<span class="arithmatex">\(k_1y_1(x) + k_2y_2(x) + \cdots + k_ny_n(x) = 0\)</span>，则称<span class="arithmatex">\(y_1,y_2,\cdots,y_n\)</span>线性相关。<br />
n = 2时，若<span class="arithmatex">\(\frac{y_2(x)}{y_1(x)}\)</span>是常数，则线性相关。  </p>
<p>一般形式：<span class="arithmatex">\(y'' + P(x)y' + Q(x)y = f(x)\)</span>（<span class="arithmatex">\(f(x)=0\)</span>时为齐次，否则为非齐次）<br />
有如下性质：</p>
<ol>
<li>若<span class="arithmatex">\(y_1(x),y_2(x)\)</span>是齐次方程的两个解，则<span class="arithmatex">\(C_1y_1(x) + C_2y_2(x)\)</span>也是齐次方程的解</li>
<li>若<span class="arithmatex">\(y_1(x),y_2(x)\)</span>是齐次方程的两个特解，且线性无关，则齐次方程的通解为<span class="arithmatex">\(y = C_1y_1(x) + C_2y_2(x)\)</span><ol>
<li>推论：n阶齐次线性ode的n个特解的线性组合是通解</li>
</ol>
</li>
</ol>
<details class="例">
<summary>例</summary>
<p><span class="arithmatex">\(y'' + y = 0\)</span>的特解为<span class="arithmatex">\(y_1 = \sin x, y_2 = \cos x\)</span><br />
则<span class="arithmatex">\(y = C_1\sin x + C_2\cos x\)</span>是通解</p>
</details>
<ol start="3">
<li>若<span class="arithmatex">\(y^* (x)\)</span>是（非齐次）<span class="arithmatex">\(y'' + P(x)y' + Q(x)y = f(x)\)</span>的一个特解，<span class="arithmatex">\(Y(x)\)</span>是（对应的齐次方程）<span class="arithmatex">\(y'' + P(x)y' + Q(x)y = 0\)</span>的通解，则<span class="arithmatex">\(y = Y(x) + y^* (x)\)</span>是非齐次方程的通解</li>
</ol>
<details class="例">
<summary>例</summary>
<p><span class="arithmatex">\(y''+y=x\)</span>特解为<span class="arithmatex">\(y^* = x\)</span>, 而<span class="arithmatex">\(Y = C_1\sin x + C_2\cos x\)</span><br />
则<span class="arithmatex">\(y = C_1\sin x + C_2\cos x + x\)</span>是通解</p>
</details>
<ol start="4">
<li>(叠加原理) <span class="arithmatex">\(y_1^{*}\)</span>和<span class="arithmatex">\(y_2^{*}\)</span>是<span class="arithmatex">\(y'' + P(x)y' + Q(x)y = f_1(x)\)</span>和<span class="arithmatex">\(y'' + P(x)y' + Q(x)y = f_2(x)\)</span>的特解，则<span class="arithmatex">\(y_1^{*} + y_2^{*}\)</span>是<span class="arithmatex">\(y'' + P(x)y' + Q(x)y = f_1(x) + f_2(x)\)</span>的特解</li>
</ol>
<h4 id="notes-mathematicsandphysics-ode-_5">常系数齐次解法<a class="headerlink" href="#notes-mathematicsandphysics-ode-_5" title="Permanent link">&para;</a></h4>
<p>一般形式：<span class="arithmatex">\(y'' + py' + qy = 0\)</span>(p,q为常数)<br />
注意到这表示<span class="arithmatex">\(y,y',y''\)</span>的线性组合为0，考虑指数函数<span class="arithmatex">\(y = e^{rx}\)</span>，代入方程得<span class="arithmatex">\(r^2 + pr + q = 0\)</span>，即对应的特征方程，只需取满足该方程的r.  </p>
<ol>
<li><span class="arithmatex">\(p^2 - 4q&gt;0\)</span> 时，有两根<span class="arithmatex">\(r_1 \neq r_2\)</span><ol>
<li>则两特解<span class="arithmatex">\(y_1 = e^{r_1 x}, y_2 = e^{r_2 x}\)</span></li>
<li>通解为<span class="arithmatex">\(y = C_1 e^{r_1 x} + C_2 e^{r_2 x}\)</span></li>
</ol>
</li>
<li><span class="arithmatex">\(p^2 - 4q = 0\)</span> 时，有两根<span class="arithmatex">\(r_1 = r_2 = r\)</span><ol>
<li>通解为<span class="arithmatex">\(y = (C_1 + C_2 x) e^{r x}\)</span></li>
</ol>
</li>
<li><span class="arithmatex">\(p^2 - 4q &lt; 0\)</span> 时，有两复根<span class="arithmatex">\(r_{1,2} = \alpha \pm i\beta\)</span><ol>
<li>通解为<span class="arithmatex">\(y = e^{\alpha x}(C_1 \cos \beta x + C_2 \sin \beta x)\)</span></li>
</ol>
</li>
<li>推论：<span class="arithmatex">\(y^{(n)} + p_1 y^{(n-1)} + \cdots + p_n y = 0\)</span>的特征方程为<span class="arithmatex">\(r^n + p_1 r^{n-1} + \cdots + p_n = 0\)</span><ol>
<li>在复数范围内有n个根，把下面的几个对应通解加起来</li>
<li><span class="arithmatex">\(k\)</span>重实根<span class="arithmatex">\(r\)</span>对应<span class="arithmatex">\(e^{rx} (C_0 + C_1 x + \cdots + C_{k-1} x^{k-1})\)</span></li>
<li><span class="arithmatex">\(k\)</span>对虚根<span class="arithmatex">\(\alpha \pm \beta i\)</span>对应<span class="arithmatex">\([(a_0 + a_1 x + \cdots + a_{k-1} x^{k-1})\cos \beta x + (b_0 + b_1 x + \cdots + b_{k-1} x^{k-1})\sin \beta x]e^{\alpha x}\)</span></li>
<li>上述<span class="arithmatex">\(a_i, b_i, C_i\)</span>为任意常数</li>
</ol>
</li>
</ol>
<details class="例">
<summary>例</summary>
<ul>
<li>求解<span class="arithmatex">\(y'' - 2y' - 3y = 0\)</span><ul>
<li>特征方程为<span class="arithmatex">\(r^2 - 2r - 3 = 0\)</span>, 解得<span class="arithmatex">\(r_1 = 3, r_2 = -1\)</span></li>
<li>通解为<span class="arithmatex">\(y = C_1 e^{3x} + C_2 e^{-x}\)</span></li>
</ul>
</li>
<li>求解<span class="arithmatex">\(y'' - 4y' + 4y = 0\)</span><ul>
<li>特征方程为<span class="arithmatex">\(r^2 - 4r + 4 = 0\)</span>, 解得<span class="arithmatex">\(r = 2\)</span></li>
<li>通解为<span class="arithmatex">\(y = (C_1 + C_2 x) e^{2x}\)</span></li>
</ul>
</li>
<li>求解<span class="arithmatex">\(y^{(4)} - 2y''' + 5y'' = 0\)</span><ul>
<li>特征方程为<span class="arithmatex">\(r^4 - 2r^3 + 5r^2 = 0\)</span>, 解得<span class="arithmatex">\(r = 0, 0, 1 \pm 2i\)</span></li>
<li>通解为<span class="arithmatex">\(y = C_1 + C_2 x + e^x(C_3 \cos 2x + C_4 \sin 2x)\)</span></li>
</ul>
</li>
</ul>
</details>
<h4 id="notes-mathematicsandphysics-ode-_6">常系数非齐次解法<a class="headerlink" href="#notes-mathematicsandphysics-ode-_6" title="Permanent link">&para;</a></h4>
<p>非齐次通解 = 齐次通解 + 非齐次特解<br />
一般形式：<span class="arithmatex">\(y'' + py' + qy = f(x)\)</span>, 特征方程依旧是<span class="arithmatex">\(r^2 + pr + q = 0\)</span><br />
探讨如下两类<span class="arithmatex">\(f(x)\)</span>  </p>
<ol>
<li><span class="arithmatex">\(f(x) = e^{\lambda x} P_m(x)\)</span>, <span class="arithmatex">\(P_m(x)\)</span>是m次多项式<ol>
<li><span class="arithmatex">\(\lambda\)</span>不是特征根时，<span class="arithmatex">\(Q(x)\)</span>为m次多项式，特解为<span class="arithmatex">\(y^* = e^{\lambda x} q_m(x)\)</span></li>
<li><span class="arithmatex">\(\lambda\)</span>为特征方程的单根，<span class="arithmatex">\(Q(x)\)</span>为<span class="arithmatex">\((m+1)\)</span>次多项式，特解为<span class="arithmatex">\(y^* = xe^{\lambda x} q_m(x)\)</span></li>
<li><span class="arithmatex">\(\lambda\)</span>为特征方程的重根，<span class="arithmatex">\(Q(x)\)</span>为<span class="arithmatex">\((m+2)\)</span>次多项式，特解为<span class="arithmatex">\(y^* = x^2 e^{\lambda x} q_m(x)\)</span></li>
</ol>
</li>
</ol>
<details class="例">
<summary>例</summary>
<ul>
<li>求<span class="arithmatex">\(y'' + 4y' +3y = x\)</span>的一个特解  <ul>
<li>特征方程为<span class="arithmatex">\(r^2 + 4r + 3 = 0\)</span>, 解得<span class="arithmatex">\(r_1 = -1, r_2 = -3\)</span>  </li>
<li>此时<span class="arithmatex">\(f(x) = x = xe^{0x}\)</span>, 即<span class="arithmatex">\(P_m(x) = x, \lambda = 0\)</span></li>
<li><span class="arithmatex">\(\lambda\)</span>不是特征根，<span class="arithmatex">\(Q(x)\)</span>为一次多项式（与<span class="arithmatex">\(P_m(x)\)</span>次数一样），设<span class="arithmatex">\(y^* = b_0 x + b_1\)</span></li>
<li>代入方程得<span class="arithmatex">\(4b_0 + 3b_0 x + 3b_1 = x\)</span>, 比较系数有<span class="arithmatex">\(b_0 = \frac{1}{3}, b_1 = -\frac{4}{9}\)</span></li>
<li>因此特解为<span class="arithmatex">\(y^* = \frac{1}{3} x - \frac{4}{9}\)</span></li>
</ul>
</li>
<li>求解<span class="arithmatex">\(y'' -4y' +4y = (6x-2)e^{2x}\)</span><ul>
<li>特征方程为<span class="arithmatex">\(r^2 - 4r + 4 = 0\)</span>, 解得<span class="arithmatex">\(r = 2\)</span></li>
<li>于是齐次方程通解为<span class="arithmatex">\(Y = (C_1 + C_2 x) e^{2x}\)</span></li>
<li>此时<span class="arithmatex">\(f(x) = (6x-2)e^{2x}\)</span>, <span class="arithmatex">\(P_m(x) = 6x-2, \lambda = 2\)</span></li>
<li><span class="arithmatex">\(\lambda\)</span>是二重根，<span class="arithmatex">\(Q(x)\)</span>次数比<span class="arithmatex">\(f(x)\)</span>高两次，设特解为<span class="arithmatex">\(y^* = x^2 (b_0 + b_1 x)e^{2x}\)</span></li>
<li>代入原方程化简得<span class="arithmatex">\(6b_0 x + 2b_1 = 6x-2\)</span>, 比较系数得<span class="arithmatex">\(b_0 = 1, b_1 = -1\)</span></li>
<li>特解为<span class="arithmatex">\(y^* = x^2 (x - 1)e^{2x}\)</span></li>
<li>于是通解为<span class="arithmatex">\(y = （C_1 + C_2 x）e^{2x} + x^2 (x - 1)e^{2x}\)</span></li>
</ul>
</li>
</ul>
</details>
<ol start="2">
<li><span class="arithmatex">\(f(x) = e^{\lambda x}[P_l (x) \cos \omega x + P_n (x) \sin \omega x]\)</span><ol>
<li>设特解为<span class="arithmatex">\(y^* = x^k e^{\lambda x}[Q_m (x) \cos \omega x + R_m (x) \sin \omega x]\)</span>(推导过程略)</li>
<li>其中<span class="arithmatex">\(m = \max(l,n)\)</span></li>
<li>若<span class="arithmatex">\(\lambda \pm i\omega\)</span>不是特征根, 则<span class="arithmatex">\(k = 0\)</span></li>
<li>若<span class="arithmatex">\(\lambda \pm i\omega\)</span>是(一对)特征根, 则<span class="arithmatex">\(k = 1\)</span></li>
</ol>
</li>
</ol>
<details class="例">
<summary>例</summary>
<ul>
<li>求<span class="arithmatex">\(y'' - y = 10e^{2x} \cos x\)</span>的一个特解<ul>
<li>则<span class="arithmatex">\(P_l (x) = 10, P_n (x) = 0, \lambda = 2, \omega = 1, m = \max(l,n) = 0\)</span></li>
<li>且<span class="arithmatex">\(\lambda \pm i\omega = 2 \pm i\)</span>显然不是特征根，因此<span class="arithmatex">\(k = 0\)</span></li>
<li>设特解为<span class="arithmatex">\(y^* = e^{2x} (a \ cos x + b \ sin x)\)</span></li>
<li>代入原方程化简得<span class="arithmatex">\((2a+4b) \ cos x + (2b-4a) \ sin x = 10 \ cos x\)</span>, 比较系数得<span class="arithmatex">\(a = 1, b = 2\)</span></li>
<li>特解为<span class="arithmatex">\(y^* = e^{2x} (cos x + 2 sin x)\)</span></li>
</ul>
</li>
<li>求<span class="arithmatex">\(y'' + y = x \cos 2x\)</span>的一个特解<ul>
<li>则<span class="arithmatex">\(P_l (x) = x, P_n (x) = 0, \lambda = 0, \omega = 2, m = \max(l,n) = 1\)</span></li>
<li>且<span class="arithmatex">\(\lambda \pm i\omega = \pm 2i\)</span>显然不是特征根，因此<span class="arithmatex">\(k = 0\)</span></li>
<li>设特解为<span class="arithmatex">\(y^* = (ax + b)\cos 2x + (cx + d)\sin 2x\)</span></li>
<li>代入原方程化简得<span class="arithmatex">\((-3ax-3b+4c) \cos 2x + (-3cx-3d-4a) \sin 2x = x \cos 2x\)</span>, 比较系数得<span class="arithmatex">\(a = -\frac{1}{3}, b = c = 0, d = \frac{4}{9}\)</span></li>
<li>则特解为<span class="arithmatex">\(y^* = -\frac{1}{3} x \cos 2x + \frac{4}{9} \sin 2x\)</span></li>
</ul>
</li>
</ul>
</details>
<h3 id="notes-mathematicsandphysics-ode-euler">Euler方程<a class="headerlink" href="#notes-mathematicsandphysics-ode-euler" title="Permanent link">&para;</a></h3>
<p>形式：<span class="arithmatex">\(x^n y^{(n)} + p_1 x^{n-1} y^{(n-1)} + \cdots + p_{n-1} x y' + p_n y = f(x)\)</span><br />
解法：令<span class="arithmatex">\(x = e^t\)</span>，<span class="arithmatex">\(D=\frac{d}{dt}\)</span>，可得<span class="arithmatex">\(x^k y^{(k)} = D(D-1)\cdots(D-k+1)y\)</span>, 代入原方程化为常系数线性ode  </p>
<details class="例">
<summary>例</summary>
<ul>
<li>求解<span class="arithmatex">\(x^2 y'' - 2xy' + 2y = \ln^2 x -2\ln x\)</span><ul>
<li>令<span class="arithmatex">\(x = e^t\)</span>, 方程化为<span class="arithmatex">\(D(D-1)y-2Dy+2y = t^2 - 2t\)</span></li>
<li>即<span class="arithmatex">\(D^2 y - 3Dy + 2y = t^2 - 2t\)</span></li>
<li>即<span class="arithmatex">\(\frac{d^2y}{dt^2} - 3\frac{dy}{dt} + 2y = t^2 - 2t\)</span></li>
<li>特征方程为<span class="arithmatex">\(r^2 - 3r + 2 = 0\)</span>, 解得<span class="arithmatex">\(r = 1, 2\)</span></li>
<li>齐次方程通解为<span class="arithmatex">\(y = C_1 e^t + C_2 e^{2t}\)</span></li>
<li><span class="arithmatex">\(\lambda = 0\)</span>不是特征根，设特解为<span class="arithmatex">\(y^* = at^2 + bt + c\)</span></li>
<li>代入原方程对比系数得<span class="arithmatex">\(a = b =\frac{1}{2}\)</span>,<span class="arithmatex">\(c = \frac{1}{4}\)</span></li>
<li>特解为<span class="arithmatex">\(y^* = \frac{1}{2} t^2 + \frac{1}{2} t + \frac{1}{4}\)</span></li>
<li>原方程通解为<span class="arithmatex">\(y = C_1 e^t + C_2 e^{2t} + \frac{1}{2} t^2 + \frac{1}{2} t + \frac{1}{4}\)</span></li>
<li>代回<span class="arithmatex">\(t = \ln x\)</span>得<span class="arithmatex">\(y = C_1 x + C_2 x^2 + \frac{1}{2} (\ln x)^2 + \frac{1}{2} \ln x + \frac{1}{4}\)</span></li>
</ul>
</li>
<li>求解<span class="arithmatex">\(y'' -\frac{y'}{x}+\frac{y}{x^2} = \frac{2}{x}\)</span><ul>
<li>化为Euler方程<span class="arithmatex">\(x^2 y'' - xy' + y = 2x\)</span></li>
<li>令<span class="arithmatex">\(x = e^t\)</span>, 方程化为<span class="arithmatex">\((D^2 - 2D + 1)y = 2e^t\)</span></li>
<li>特征方程为<span class="arithmatex">\(r^2 - 2r + 1 = 0\)</span>, 解得<span class="arithmatex">\(r = 1\)</span></li>
<li>齐次方程通解为<span class="arithmatex">\(y = C_1 e^t + C_2 te^t\)</span></li>
<li><span class="arithmatex">\(\lambda = 1\)</span>是二重特征根，设特解为<span class="arithmatex">\(y^* = At^2 e^t\)</span></li>
</ul>
</li>
</ul>
</details>
<h2 id="notes-mathematicsandphysics-ode-_7">常数变易法<a class="headerlink" href="#notes-mathematicsandphysics-ode-_7" title="Permanent link">&para;</a></h2>
<ol>
<li>已知齐次方程通解求非齐次方程通解  <ul>
<li>设<span class="arithmatex">\(Y = C_1 y_1 + C_2 y_2\)</span>是<span class="arithmatex">\(y'' + py' + qy = 0\)</span>的通解  </li>
<li>令<span class="arithmatex">\(y = v_1 y_1 + v_2 y_2\)</span>是<span class="arithmatex">\(y'' + py' + qy = f(x)\)</span>的通解</li>
<li>有<span class="arithmatex">\(y' = v_1' y_1 + v_2' y_2 + v_1 y_1' + v_2 y_2'\)</span>, 令<span class="arithmatex">\(v_1' y_1 + v_2' y_2 = 0\)</span></li>
<li>于是<span class="arithmatex">\(y' = v_1 y_1' + v_2 y_2'\)</span></li>
<li>有<span class="arithmatex">\(y'' = v_1' y_1' + v_2' y_2' + v_1 y_1'' + v_2 y_2''\)</span></li>
<li>于是<span class="arithmatex">\(y'' + py' + qy = v_1' y_1' + v_2' y_2' + (y_1'' + py_1' + qy_1)v_1 + (y_2'' + py_2' + qy_2)v_2 = f(x)\)</span></li>
<li>由于<span class="arithmatex">\(y_1,y_2\)</span>是通解，因此等号左边后两项为0，于是<span class="arithmatex">\(v_1' y_1' + v_2' y_2' = f(x)\)</span></li>
<li>得到方程组<span class="arithmatex">\(\begin{cases} v_1' y_1 + v_2' y_2 = 0 \\ v_1' y_1' + v_2' y_2' = f(x) \end{cases}\)</span></li>
<li>Wronsky行列式<span class="arithmatex">\(W = \begin{vmatrix} y_1 &amp; y_2 \\ y_1' &amp; y_2' \end{vmatrix} = y_1 y_2' - y_2 y_1' \neq 0\)</span></li>
<li>由克莱姆法则解得<span class="arithmatex">\(v_1' = -\frac{y_2 f(x)}{W}, v_2' = \frac{y_1 f(x)}{W}\)</span></li>
<li>再积分就能得到<span class="arithmatex">\(v_1, v_2\)</span>，从而得到<span class="arithmatex">\(y\)</span></li>
</ul>
</li>
</ol>
<details class="例">
<summary>例</summary>
<ul>
<li>已知<span class="arithmatex">\((x-1)y'' - xy' + y = 0\)</span>的通解为<span class="arithmatex">\(y = C_1 x + C_2 e^x\)</span>，求<span class="arithmatex">\((x-1)y'' - xy' + y =(x-1)^2\)</span>的通解<ul>
<li>待解方程化为<span class="arithmatex">\(y'' - \frac{xy'}{x-1} + \frac{y}{x-1} = x-1\)</span></li>
<li>设<span class="arithmatex">\(y = v_1 x + v_2 e^x\)</span>是通解</li>
<li>得到方程组<span class="arithmatex">\(\begin{cases} v_1' x + v_2' e^x = 0 \\ v_1' + v_2' e^x = x-1 \end{cases}\)</span></li>
<li>解得<span class="arithmatex">\(v_1' = -1, v_2' = x e^{-x}\)</span> </li>
<li>则<span class="arithmatex">\(v_1 = -x+C_1, v_2 = -e^{-x} (x+1)+C_2\)</span></li>
<li>于是通解<span class="arithmatex">\(y = (-x+C_1)x + (-e^{-x} (x+1)+C_2)e^x\)</span></li>
</ul>
</li>
</ul>
</details>
<ol start="2">
<li>已知齐次方程的一个特解求非齐次方程的通解<ul>
<li>设<span class="arithmatex">\(y_1(x)\)</span>是<span class="arithmatex">\(y'' + py' + qy = 0\)</span>的一个非0特解</li>
<li>求<span class="arithmatex">\(y'' + py' + qy = f(x)\)</span>的通解</li>
<li>设<span class="arithmatex">\(y = uy_1\)</span>是通解</li>
<li>有<span class="arithmatex">\(y' = u'y_1 + uy_1'\)</span>, <span class="arithmatex">\(y'' = u''y_1 + 2u'y_1' + uy_1''\)</span></li>
<li>代入原方程得<span class="arithmatex">\(u''y_1 + (2y_1' + py_1)u' + (y_1'' + py_1' + qy_1)u = f(x)\)</span></li>
<li>由于<span class="arithmatex">\(y_1\)</span>为特解，等号左边最后一项为0，得到<span class="arithmatex">\(u'' + \frac{2y_1' + py_1}{y_1}u' = \frac{f(x)}{y_1}\)</span></li>
<li>这就化为了关于<span class="arithmatex">\(u'\)</span>的一阶线性ode，解出<span class="arithmatex">\(u\)</span>再乘上<span class="arithmatex">\(y_1\)</span>即可</li>
</ul>
</li>
</ol>
<details class="例">
<summary>例</summary>
<ul>
<li>求<span class="arithmatex">\(x^2 y'' - (x+2)(xy' - y) = x^4\)</span>的通解<ul>
<li>齐次方程为<span class="arithmatex">\(x^2 y'' - (x+2)(xy' - y) = 0\)</span></li>
<li><strong>观察知</strong>特解为<span class="arithmatex">\(y_1 = x\)</span></li>
<li>设<span class="arithmatex">\(y = ux\)</span>是通解</li>
<li>则<span class="arithmatex">\(y' = u'x + u\)</span>, <span class="arithmatex">\(y'' = u''x + 2u'\)</span></li>
<li>代入原方程并化简得<span class="arithmatex">\(u'' - u' = x\)</span></li>
<li>令<span class="arithmatex">\(u' = p\)</span>, 则<span class="arithmatex">\(u'' = p'\)</span></li>
<li>即<span class="arithmatex">\(p' - p = x\)</span></li>
<li>代入公式解得<span class="arithmatex">\(p = C_1 e^x - x - 1\)</span></li>
<li>代回得<span class="arithmatex">\(u = -\frac{1}{2} x^2 - x + C_1 e^x + C_2\)</span></li>
<li><span class="arithmatex">\(y = ux = -\frac{1}{2} x^3 - x^2 + C_1 x e^x + C_2 x\)</span></li>
</ul>
</li>
</ul>
</details>
<h3 id="notes-mathematicsandphysics-ode-_8">一种特殊方程<a class="headerlink" href="#notes-mathematicsandphysics-ode-_8" title="Permanent link">&para;</a></h3>
<p><img alt="" src="../notes/MathematicsAndPhysics/assets/ODE2.png" /><br />
<img alt="" src="../notes/MathematicsAndPhysics/assets/ODE3.png" /></p>
<details class="例">
<summary>例</summary>
<p><img alt="" src="../notes/MathematicsAndPhysics/assets/ODE4.png" /></p>
</details>
<h2 id="notes-mathematicsandphysics-ode-ode_7">常系数线性ode组<a class="headerlink" href="#notes-mathematicsandphysics-ode-ode_7" title="Permanent link">&para;</a></h2>
<h3 id="notes-mathematicsandphysics-ode-_9">消元法<a class="headerlink" href="#notes-mathematicsandphysics-ode-_9" title="Permanent link">&para;</a></h3>
<details class="例">
<summary>例</summary>
<ul>
<li>求解<span class="arithmatex">\(\begin{cases} \frac{dy}{dx} = 3y-2z ① \\ \frac{dz}{dx} = 2y-z ② \end{cases}\)</span><ul>
<li>由②得<span class="arithmatex">\(y = \frac{1}{2}(\frac{dz}{dx} + z)\)</span></li>
<li>代入①消去y得<span class="arithmatex">\(\frac{1}{2} (\frac{d^2z}{dx^2} + \frac{dz}{dx}) = \frac{3}{2}(\frac{dz}{dx} + z) - 2z\)</span></li>
<li>化简得<span class="arithmatex">\(\frac{d^2z}{dx^2} - 2\frac{dz}{dx} + z = 0\)</span></li>
<li>特征方程为<span class="arithmatex">\(r^2 - 2r + 1 = 0\)</span>, 解得<span class="arithmatex">\(r = 1\)</span></li>
<li>通解为<span class="arithmatex">\(z = C_1 e^x + C_2 x e^x\)</span></li>
<li>代回②得<span class="arithmatex">\(y = \frac{1}{2}(\frac{dz}{dx} + z) = \frac{1}{2}C_2 e^x + C_1 e^x + C_2 x e^x\)</span></li>
<li>注意最后代入时只能代入②, 不能代入①，否则会引入新的不确定常数</li>
</ul>
</li>
</ul>
</details>
<h3 id="notes-mathematicsandphysics-ode-_10">特征根<a class="headerlink" href="#notes-mathematicsandphysics-ode-_10" title="Permanent link">&para;</a></h3>
<p>一般形式：<span class="arithmatex">\(\frac{d\bold{x}}{dt} = A\bold{x}\)</span>, 其中<span class="arithmatex">\(\bold{x} = \begin{bmatrix} x_1 \\ x_2 \\ \vdots \\ x_n \end{bmatrix}\)</span>, <span class="arithmatex">\(A\)</span>为<span class="arithmatex">\(n \times n\)</span>矩阵<br />
特征方程为<span class="arithmatex">\(|A - \lambda I| = 0\)</span>，解得<span class="arithmatex">\(\lambda_1, \lambda_2, \cdots, \lambda_n\)</span><br />
而<span class="arithmatex">\((A - \lambda_i I)\bold{x_i} = \bold{0}\)</span>, 解得<span class="arithmatex">\(\bold{x_1}, \bold{x_2}, \cdots, \bold{x_n}\)</span>
则<span class="arithmatex">\(\bold{x} = C_1 \bold{x_1} e^{\lambda_1 t} + C_2 \bold{x_2} e^{\lambda_2 t} + \cdots + C_n \bold{x_n} e^{\lambda_n t}\)</span>是通解</p>
<details class="例">
<summary>例</summary>
<p><img alt="" src="../notes/MathematicsAndPhysics/assets/ODE6.png" />
<img alt="" src="../notes/MathematicsAndPhysics/assets/ODE7.png" />
<img alt="" src="../notes/MathematicsAndPhysics/assets/ODE8.png" /></p>
</details>
<div class="admonition 若特征根为复数">
<p class="admonition-title">若特征根为复数</p>
<p>Euler公式：<span class="arithmatex">\(e^{i\theta} = \cos \theta + i \sin \theta\)</span>
<img alt="" src="../notes/MathematicsAndPhysics/assets/ODE5.png" /></p>
</div>
<details class="例">
<summary>例</summary>
<p><img alt="" src="../notes/MathematicsAndPhysics/assets/ODE9.png" />
<img alt="" src="../notes/MathematicsAndPhysics/assets/ODE10.png" />
<img alt="" src="../notes/MathematicsAndPhysics/assets/ODE11.png" /></p>
</details>
<h3 id="notes-mathematicsandphysics-ode-_11">定理<a class="headerlink" href="#notes-mathematicsandphysics-ode-_11" title="Permanent link">&para;</a></h3>
<p>设<span class="arithmatex">\(\bold{x_1}(t), \bold{x_2}(t), \cdots, \bold{x_n}(t)\)</span>是齐次线性方程组<span class="arithmatex">\(\frac{d\bold{x}}{dt} = A\bold{x}\)</span>的解，则<span class="arithmatex">\(\bold{x}(t) = \sum_{i=1}^{n} C_i \bold{x_i}(t)\)</span>是通解</p></section><section class="print-page" id="notes-mathematicsandphysics-discretemath" heading-number="4.4.4"><nav class='md-tags'><span class='md-tag'>大一下笔记</span></nav><h1 id="_1">离散数学理论基础<a class="headerlink" href="#notes-mathematicsandphysics-discretemath-_1" title="Permanent link">&para;</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 6649 个字 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6m80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3l89.3 89.4-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3"/></svg></span> 4 行代码 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 17H7V3h14m0-2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2M3 5H1v16a2 2 0 0 0 2 2h16v-2H3m12.96-10.71-2.75 3.54-1.96-2.36L8.5 15h11z"/></svg></span> 22 张图片 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 19 分钟</p>
</div>
<blockquote>
<p>任课教师：郑文庭</p>
</blockquote>
<div class="admonition abstract">
<p class="admonition-title">Overview</p>
<ul>
<li>数学推理<ul>
<li>数理逻辑与证明</li>
<li>归纳法</li>
</ul>
</li>
<li>数论基础</li>
<li>组合分析<ul>
<li>计数方法</li>
</ul>
</li>
<li>离散结构<ul>
<li>基本结构</li>
<li>关系</li>
<li>图</li>
<li>树</li>
</ul>
</li>
<li>算法思维<ul>
<li>算法</li>
<li>递归  </li>
</ul>
</li>
</ul>
</div>
<h2 id="notes-mathematicsandphysics-discretemath-_2">逻辑<a class="headerlink" href="#notes-mathematicsandphysics-discretemath-_2" title="Permanent link">&para;</a></h2>
<p>逻辑运算符优先级<br />
<img alt="" src="../img/dmop.png" /><br />
taulogy: 恒真，如<code>p∨¬p</code><br />
contradiction: 恒假，如<code>p∧¬p</code><br />
contingency: “可能发生的”，既非taulogy又非contradiction，如<code>p</code> <br />
dual（对偶）: 将逻辑表达式中的<code>∧</code>和<code>∨</code>互换，<code>T</code>和<code>F</code>互换，<code>¬</code>不变  </p>
<ul>
<li>s与t等价，当且仅当s的dual与t的dual等价    </li>
</ul>
<h3 id="notes-mathematicsandphysics-discretemath-de-morgans-law">De Morgan's Law:<a class="headerlink" href="#notes-mathematicsandphysics-discretemath-de-morgans-law" title="Permanent link">&para;</a></h3>
<ul>
<li><code>¬(p∧q)</code> = <code>¬p∨¬q</code></li>
<li><code>¬(p∨q)</code> = <code>¬p∧¬q</code></li>
</ul>
<h3 id="notes-mathematicsandphysics-discretemath-other-laws">Other laws:<a class="headerlink" href="#notes-mathematicsandphysics-discretemath-other-laws" title="Permanent link">&para;</a></h3>
<ul>
<li>交换律：<code>p∧q</code> = <code>q∧p</code>，<code>p∨q</code> = <code>q∨p</code>  </li>
<li>结合律：<code>p∧(q∧r)</code> = <code>(p∧q)∧r</code>，<code>p∨(q∨r)</code> = <code>(p∨q)∨r</code>  </li>
<li>分配律：<code>p∧(q∨r)</code> = <code>(p∧q)∨(p∧r)</code>，<code>p∨(q∧r)</code> = <code>(p∨q)∧(p∨r)</code>  </li>
<li>吸收律：<code>p∧(p∨q)</code> = <code>p</code>，<code>p∨(p∧q)</code> = <code>p</code>  </li>
</ul>
<h3 id="notes-mathematicsandphysics-discretemath-_3">逻辑恒等式：<a class="headerlink" href="#notes-mathematicsandphysics-discretemath-_3" title="Permanent link">&para;</a></h3>
<p><span class="arithmatex">\(p \leftrightarrow q \equiv (p \rightarrow q) \wedge (q \rightarrow p) \equiv (p \wedge q) \vee (\neg p \wedge \neg q)\)</span><br />
<img alt="" src="../img/dmlog1.png" /></p>
<details class="例">
<summary>例</summary>
<p>对数独方框进行坐标划分</p>
<ul>
<li>共9列9行，每个格子可填1-9的数字  </li>
<li>以<span class="arithmatex">\(p(i,j,n)\)</span>表示第i行第j列的格子中填入数字n  </li>
<li>假设在第3行第4列的格子中填入数字5，则<span class="arithmatex">\(p(3,4,5)\)</span>为真，<span class="arithmatex">\(\forall 1 \le j \le 3 以及5\le j\le 9，p(3,j,5)\)</span>为假  </li>
<li>于是检索每行：<span class="arithmatex">\(\bigwedge_{i=1}^9 \bigwedge_{n=1}^9 \bigvee_{j=1}^9 p(i,j,n)\)</span>  </li>
<li>检索每列：<span class="arithmatex">\(\bigwedge_{j=1}^9 \bigwedge_{n=1}^9 \bigvee_{i=1}^9 p(i,j,n)\)</span></li>
</ul>
</details>
<p>p NOR(<span class="arithmatex">\(\downarrow\)</span>) q: 或非，都假时为真，其余情况为假（对 <span class="arithmatex">\(\vee\)</span> 取反）<br />
p NAND(<span class="arithmatex">\(\mid\)</span>) q: 与非，有假时为假，其余情况为真（对 <span class="arithmatex">\(\wedge\)</span> 取反）<br />
即<span class="arithmatex">\(p\downarrow q \equiv \neg(p\vee q)\)</span>，<span class="arithmatex">\(p\mid q \equiv \neg(p\wedge q)\)</span><br />
由真值表有<span class="arithmatex">\(p \mid p \equiv \neg p\)</span>，<span class="arithmatex">\(p \downarrow p \equiv \neg p\)</span></p>
<h3 id="notes-mathematicsandphysics-discretemath-_4">范式<a class="headerlink" href="#notes-mathematicsandphysics-discretemath-_4" title="Permanent link">&para;</a></h3>
<ul>
<li>析取范式(Disjunctive Form)：将一个命题公式写成若干个(有限项)合取式的析取式，如<span class="arithmatex">\((p∧q)∨(¬p∧q)∨(p∧¬q)∨(¬p∧¬q)\)</span>  </li>
<li>合取范式(Conjunctive Form)：将一个命题公式写成若干个(有限项)析取式的合取式，如<span class="arithmatex">\((p∨q)∧(¬p∨q)∧(p∨¬q)∧(¬p∨¬q)\)</span></li>
<li>
<p>最小项(minterm):所有逻辑变量在各个表达式中出现且只出现一次，再合取</p>
<ul>
<li>Each minterm is true for exactly <strong>one</strong> assignment.</li>
<li>性质: <ul>
<li><span class="arithmatex">\(m_1∨m_2∨···∨m_n = True\)</span></li>
<li><span class="arithmatex">\(\forall i,j, m_i \wedge m_j = False\)</span></li>
<li>给定<span class="arithmatex">\(x,y,z\)</span>三个变量，<span class="arithmatex">\(j\)</span>为<span class="arithmatex">\(m_j\)</span>对应的下标（十进制），二进制记为<span class="arithmatex">\(b_j\)</span>，则<span class="arithmatex">\(b_j\)</span>中的1对应的位置不变，0对应的位置取反，最后合取即可得到<span class="arithmatex">\(m_j\)</span>
    <img alt="" src="../notes/MathematicsAndPhysics/assets/DM2.png" />（梗来源：系统1）</li>
</ul>
</li>
</ul>
</li>
<li>
<p>最大项(maxterm):所有逻辑变量在各个表达式中都出现且只出现一次，再析取</p>
<ul>
<li>Each maxterm is false for exactly <strong>one</strong> assignment.</li>
<li>性质: <ul>
<li><span class="arithmatex">\(M_1∧M_2∧···∧M_n = False\)</span></li>
<li><span class="arithmatex">\(\forall i,j, M_i \vee M_j = True\)</span></li>
<li>类似的，这里是1对应的位置取反，0对应的位置不变，最后析取即可得到<span class="arithmatex">\(M_j\)</span>
    <img alt="" src="../notes/MathematicsAndPhysics/assets/DM3.png" />（梗来源：系统1）</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="notes-mathematicsandphysics-discretemath-propositional-functions">Propositional Functions<a class="headerlink" href="#notes-mathematicsandphysics-discretemath-propositional-functions" title="Permanent link">&para;</a></h2>
<ul>
<li>The statement <span class="arithmatex">\(P(x)\)</span> is the value of the<strong> Propositional Function</strong> <span class="arithmatex">\(P\)</span> at <span class="arithmatex">\(x\)</span>.<ul>
<li>e.g. P(x)表示<span class="arithmatex">\(x&gt;0\)</span>, 则<span class="arithmatex">\(P(1)\)</span>为<span class="arithmatex">\(T\)</span>，<span class="arithmatex">\(P(-1)\)</span>为<span class="arithmatex">\(F\)</span>, <span class="arithmatex">\(P(10) \rightarrow P(-1)\)</span>为<span class="arithmatex">\(T\)</span></li>
</ul>
</li>
</ul>
<h3 id="notes-mathematicsandphysics-discretemath-quantifiers">Quantifiers<a class="headerlink" href="#notes-mathematicsandphysics-discretemath-quantifiers" title="Permanent link">&para;</a></h3>
<p><span class="arithmatex">\(\forall x P(x)\)</span>: for all x in the domain, P(x) is true.<br />
<span class="arithmatex">\(\exists x P(x)\)</span>: there exists an x in the domain such that P(x) is true.  </p>
<ul>
<li>If <span class="arithmatex">\(P(x)\)</span> denotes the statement <span class="arithmatex">\(x&gt;0\)</span> and the domain <span class="arithmatex">\(U\)</span> is all integers, then <span class="arithmatex">\(\forall x P(x)\)</span> is false, but <span class="arithmatex">\(\exists x P(x)\)</span> is true.</li>
<li>Given the domain as <span class="arithmatex">\(\{x_1, x_2, x_3, \cdots, x_n\}\)</span><ul>
<li><span class="arithmatex">\(\forall x P(x) = P(x_1) \wedge P(x_2) \wedge P(x_3) \wedge \cdots \wedge P(x_n)\)</span></li>
<li><span class="arithmatex">\(\exists x P(x) = P(x_1) \vee P(x_2) \vee P(x_3) \vee \cdots \vee P(x_n)\)</span></li>
</ul>
</li>
</ul>
<p>两个量词的优先级高过其他逻辑运算符，如<span class="arithmatex">\(\forall x P(x) \rightarrow Q(x)\)</span>表示<span class="arithmatex">\(\forall x (P(x) \rightarrow Q(x))\)</span>  </p>
<p><span class="arithmatex">\(\neg \forall x P(x) \equiv \exists x \neg P(x)\)</span><br />
<span class="arithmatex">\(\neg \exists x P(x) \equiv \forall x \neg P(x)\)</span></p>
<h2 id="notes-mathematicsandphysics-discretemath-0-1">0-1矩阵<a class="headerlink" href="#notes-mathematicsandphysics-discretemath-0-1" title="Permanent link">&para;</a></h2>
<p>对0-1矩阵(只含0,1的矩阵)A,B，有如下定义<br />
矩阵并/交：要求大小一样，得到矩阵的每一元素都是A和B中对应位置元素的并/交<br />
矩阵的Boolean product: <span class="arithmatex">\(A \odot B = \{c_{ij}\}\)</span>  </p>
<ul>
<li>其中要求A的列数等于B的行数（和矩阵乘法一样）</li>
<li>假设<span class="arithmatex">\(A_{m \times k} = \{a_{ij}\}，B_{k \times n} = \{b_{ij}\}，则C_{m \times n} = \{c_{ij}\}\)</span></li>
<li><span class="arithmatex">\(c_{ij} = (a_{i1} \wedge b_{1j}) \vee (a_{i2} \wedge b_{2j}) \vee \cdots \vee (a_{ik} \wedge b_{kj})\)</span></li>
</ul>
<p>Boolean power: <span class="arithmatex">\(A^{[k]} = A \odot A \odot \cdots \odot A\)</span><br />
定义：<span class="arithmatex">\(A^{[0]} = E\)</span></p>
<h2 id="notes-mathematicsandphysics-discretemath-_5">集合论<a class="headerlink" href="#notes-mathematicsandphysics-discretemath-_5" title="Permanent link">&para;</a></h2>
<p><span class="arithmatex">\(X\)</span>和<span class="arithmatex">\(Y\)</span>的异或<span class="arithmatex">\(X \oplus Y\)</span>是这种元素组成的集合：要么属于<span class="arithmatex">\(X\)</span>, 要么属于<span class="arithmatex">\(Y\)</span>，但不同时属于<span class="arithmatex">\(X\)</span>和<span class="arithmatex">\(Y\)</span></p>
<h2 id="notes-mathematicsandphysics-discretemath-_6">算法<a class="headerlink" href="#notes-mathematicsandphysics-discretemath-_6" title="Permanent link">&para;</a></h2>
<p><a href="https://www.zhihu.com/question/20081359">停机程序(Halting Problem)：判断一个程序是否会停机</a>  </p>
<ul>
<li>大O: <span class="arithmatex">\(f = O(g)\)</span>, 则<span class="arithmatex">\(f&lt;kg\)</span> (kg为f上限（最差情况）)</li>
<li>大<span class="arithmatex">\(\Omega\)</span>: <span class="arithmatex">\(f = \Omega(g)\)</span>, 则<span class="arithmatex">\(f&gt;kg\)</span> (kg为f下限（最好情况）)</li>
</ul>
<h2 id="notes-mathematicsandphysics-discretemath-_7">数论<a class="headerlink" href="#notes-mathematicsandphysics-discretemath-_7" title="Permanent link">&para;</a></h2>
<h3 id="notes-mathematicsandphysics-discretemath-_8">同余<a class="headerlink" href="#notes-mathematicsandphysics-discretemath-_8" title="Permanent link">&para;</a></h3>
<p><span class="arithmatex">\(a \equiv b \pmod{m} \Leftrightarrow m|(a-b) \Leftarrow \exists k \in \mathbb{Z}, a-b=mk\)</span><br />
(不带括号的mod) <span class="arithmatex">\(a \mod b =\)</span> a除以b的余数<br />
于是有</p>
<ul>
<li><span class="arithmatex">\(a \equiv b \pmod{m} \Leftrightarrow a \mod m = b \mod m\)</span></li>
<li>若<span class="arithmatex">\(a \equiv b \pmod{m}\)</span>，则<span class="arithmatex">\(a^k \equiv b^k \pmod{m}\)</span></li>
</ul>
<h4 id="notes-mathematicsandphysics-discretemath-_9">线性同余方程<a class="headerlink" href="#notes-mathematicsandphysics-discretemath-_9" title="Permanent link">&para;</a></h4>
<p><span class="arithmatex">\(ax \equiv b \pmod{m}\)</span><br />
定义 inverse of a modulo m: <span class="arithmatex">\(\overline{a} a \equiv 1 \pmod{m}\)</span>，则<span class="arithmatex">\(\overline{a}\)</span> is the inverse of a modulo m  </p>
<ul>
<li>若<span class="arithmatex">\(a\)</span>与<span class="arithmatex">\(m\)</span>互质且<span class="arithmatex">\(m&gt;1\)</span>，则<span class="arithmatex">\(a\)</span>模<span class="arithmatex">\(m\)</span>的逆元存在</li>
</ul>
<details class="note">
<summary>例(Finding inverses)</summary>
<ul>
<li>Find an inverse of 7 modulo 234 <ul>
<li><span class="arithmatex">\(234 = 33 \times 7 + 3\)</span></li>
<li><span class="arithmatex">\(7 = 2 \times 3 + 1\)</span></li>
<li><span class="arithmatex">\(1 = 7 - 2 \times 3 = 7 - 2 \times (234 - 33 \times 7) = 67 \times 7 - 2 \times 234\)</span>(这一步要把所有出现过的余数用上一行式子带进去，把1表示为7和234的线性组合)</li>
<li>则上一步中7的裴蜀系数<span class="arithmatex">\(67\)</span>即为7模234的逆元</li>
<li>与此同时所有与67模234同余的数都是7的逆元，如<span class="arithmatex">\(67+234k\)</span></li>
</ul>
</li>
</ul>
</details>
<p>求解方程<span class="arithmatex">\(ax \equiv b \pmod{m}\)</span></p>
<ul>
<li>若<span class="arithmatex">\(d = gcd(a,m)\)</span>不整除<span class="arithmatex">\(b\)</span>，则无解</li>
<li>First find an inverse of <span class="arithmatex">\(a\)</span> modulo <span class="arithmatex">\(m\)</span> (using the Euclidean algorithm)</li>
<li>等式两边乘上该逆元，得到<span class="arithmatex">\(x \equiv \overline{a}b \pmod{m}\)</span></li>
</ul>
<details class="note">
<summary>例(Solving linear congruences)</summary>
<ul>
<li>解<span class="arithmatex">\(4x \equiv 5 \pmod{9}\)</span><ul>
<li>Find inverse of 4 modulo 9:<ul>
<li><span class="arithmatex">\(9 = 2 \times 4 + 1\)</span></li>
<li><span class="arithmatex">\(1 = 9 - 2 \times 4\)</span></li>
<li>因此逆元为-2</li>
</ul>
</li>
<li>Solve the equation:<ul>
<li><span class="arithmatex">\(-2 \times 4x \equiv -2 \times 5 \pmod{9}\)</span></li>
<li><span class="arithmatex">\(x \equiv -10 \pmod{9}\)</span></li>
</ul>
</li>
</ul>
</li>
</ul>
</details>
<ol>
<li>
<p>中国剩余定理(CRT)：若<span class="arithmatex">\(m_1, m_2, \cdots, m_k\)</span>两两互质，则同余方程组<span class="arithmatex">\(x \equiv a_1 \pmod{m_1}, x \equiv a_2 \pmod{m_2}, \cdots, x \equiv a_k \pmod{m_k}\)</span>有唯一解</p>
<details class="例">
<summary>例</summary>
<ul>
<li>Solve the system of congruences:<ul>
<li><span class="arithmatex">\(x \equiv 1 \pmod{5}\)</span></li>
<li><span class="arithmatex">\(x \equiv 2 \pmod{6}\)</span></li>
<li><span class="arithmatex">\(x \equiv 3 \pmod{7}\)</span></li>
</ul>
</li>
<li>首先有<span class="arithmatex">\(x = 5k+1\)</span></li>
<li>则<span class="arithmatex">\(5k+1 = 2 \pmod{6}\)</span></li>
<li>两边加4，<span class="arithmatex">\(5k+5 = 0 \pmod{6}\)</span></li>
<li>于是<span class="arithmatex">\(k = -1 \pmod{6} = 6j-1\)</span></li>
<li>代入<span class="arithmatex">\(x = 5(6j-1)+1 = 30j-4 = 3 \pmod{7}\)</span></li>
<li>则<span class="arithmatex">\(30j = 0 \pmod{7}\)</span>, <span class="arithmatex">\(j =  7r\)</span></li>
<li>代入得<span class="arithmatex">\(x = 30(7r)-4 = 210r-4\)</span></li>
<li>即<span class="arithmatex">\(x \equiv -4 \pmod{210}\)</span></li>
</ul>
</details>
</li>
<li>
<p>费马小定理：若<span class="arithmatex">\(p\)</span>为素数，<span class="arithmatex">\(a\)</span>与<span class="arithmatex">\(p\)</span>互质，则<span class="arithmatex">\(a^{p-1} \equiv 1 \pmod{p}\)</span></p>
<ol>
<li>更进一步，<span class="arithmatex">\(\forall a \in \mathbb{Z}, a^p \equiv a \pmod{p}\)</span> </li>
</ol>
</li>
<li>伪素数：若一个合数<span class="arithmatex">\(n\)</span>满足<span class="arithmatex">\(a^{n-1} \equiv 1 \pmod{n}\)</span>，则称<span class="arithmatex">\(n\)</span>为伪素数</li>
</ol>
<h3 id="notes-mathematicsandphysics-discretemath-_10">进制转换<a class="headerlink" href="#notes-mathematicsandphysics-discretemath-_10" title="Permanent link">&para;</a></h3>
<ul>
<li>十进制转n进制：除n取余数，商再除以n，直到商为0，然后逆序排列余数</li>
<li>n进制转十进制：<span class="arithmatex">\(a_na_{n-1} \cdots a_1a_0 = a_n \times n^n + a_{n-1} \times n^{n-1} + \cdots + a_1 \times n + a_0\)</span></li>
<li>八进制转二进制：将每一位八进制数转化为三位的二进制数，然后拼接就行<ul>
<li>如: <span class="arithmatex">\(3_8 = 011_2\)</span>,<span class="arithmatex">\((276)_8 = (010 \space 111 \space 110)_2\)</span></li>
</ul>
</li>
<li>十六进制转二进制：将每一位十六进制数转化为四位的二进制数，然后拼接就行<ul>
<li>如: <span class="arithmatex">\(A_{16} = 1010_2\)</span>,<span class="arithmatex">\((A7F)_{16} = (1010 \space 0111 \space 1111)_2\)</span></li>
</ul>
</li>
<li>二进制转八进制：从右起三位三位分段，最左端不足三位在左边补0，接着拼接对应的八进制数<ul>
<li>如: <span class="arithmatex">\((1001111111)_2 = (001 \space 001 \space 111 \space 111)_2 = (1177)_8\)</span></li>
</ul>
</li>
<li>二进制转十六进制：与上面类似，不过要分段为4位<ul>
<li>如: <span class="arithmatex">\((10101110100)_2 = (0101 \space 0111 \space 0100)_2 = (574)_{16}\)</span></li>
</ul>
</li>
</ul>
<h3 id="notes-mathematicsandphysics-discretemath-gcd">GCD(最大公约数)<a class="headerlink" href="#notes-mathematicsandphysics-discretemath-gcd" title="Permanent link">&para;</a></h3>
<p><img alt="" src="../notes/MathematicsAndPhysics/assets/DM1.png" /><br />
<span class="arithmatex">\(ab = gcd(a,b) \times lcm(a,b)\)</span><br />
辗转相除法：<span class="arithmatex">\(gcd(a,b) = gcd(b,a \mod b)\)</span>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#notes-mathematicsandphysics-discretemath-__codelineno-0-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">gcd</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#notes-mathematicsandphysics-discretemath-__codelineno-0-2"></a>    <span class="k">while</span> <span class="n">b</span><span class="p">:</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#notes-mathematicsandphysics-discretemath-__codelineno-0-3"></a>        <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">%</span> <span class="n">b</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#notes-mathematicsandphysics-discretemath-__codelineno-0-4"></a>    <span class="k">return</span> <span class="n">a</span>
</code></pre></div></p>
<details class="例">
<summary>例</summary>
<ul>
<li>Find the gcd of 252 and 105<ul>
<li><span class="arithmatex">\(252 = 2 \times 105 + 42\)</span></li>
<li><span class="arithmatex">\(105 = 2 \times 42 + 21\)</span></li>
<li><span class="arithmatex">\(42 = 2 \times 21 + 0\)</span></li>
<li>So, gcd(252, 105) = 21</li>
</ul>
</li>
</ul>
</details>
<h2 id="notes-mathematicsandphysics-discretemath-_11">计数方法<a class="headerlink" href="#notes-mathematicsandphysics-discretemath-_11" title="Permanent link">&para;</a></h2>
<h3 id="notes-mathematicsandphysics-discretemath-_12">鸽巢原理<a class="headerlink" href="#notes-mathematicsandphysics-discretemath-_12" title="Permanent link">&para;</a></h3>
<ul>
<li>如果n个物品放入m个盒子，且<span class="arithmatex">\(n&gt;m\)</span>，则至少有一个盒子中至少有两个物品</li>
<li>Generalized Pigeonhole Principle: 如果n个物品放入k个盒子，至少有一个盒子中至少有<span class="arithmatex">\(\lceil \frac{n}{k} \rceil\)</span>个物品</li>
</ul>
<h3 id="notes-mathematicsandphysics-discretemath-_13">排列组合<a class="headerlink" href="#notes-mathematicsandphysics-discretemath-_13" title="Permanent link">&para;</a></h3>
<ul>
<li>排列(permutation): 从n个元素中取r个元素，有<span class="arithmatex">\(P(n,r) = \frac{n!}{(n-r)!}\)</span>种排列</li>
<li>组合(combination): 从n个元素中取r个元素，有<span class="arithmatex">\(C(n,r) = \frac{n!}{r!(n-r)!}\)</span>种组合</li>
</ul>
<p>Pascal's Identity: <span class="arithmatex">\(C(n,k) = C(n-1,k-1) + C(n-1,k)\)</span></p>
<details class="note">
<summary>find the next greater permutation of a string</summary>
<ol>
<li>Find the greatest index i such that s[i] &lt; s[i+1]. If no such index exists, the permutation is the last permutation.</li>
<li>Find the greatest index j &gt; i such that s[j] &gt; s[i]. Such a j must exist, since i+1 is such an index.</li>
<li>Swap s[i] with s[j].</li>
<li>Reverse the order of all of the elements after index i (not including i) till the last element.<br />
<a href="https://stackoverflow.com/questions/1622532/algorithm-to-find-next-greater-permutation-of-a-given-string/">https://stackoverflow.com/questions/1622532/algorithm-to-find-next-greater-permutation-of-a-given-string/</a><br />
<a href="https://math.stackexchange.com/questions/4421688/what-is-the-next-permutation-of-1342">https://math.stackexchange.com/questions/4421688/what-is-the-next-permutation-of-1342</a></li>
</ol>
</details>
<details class="note">
<summary>find the next greater r-permutation</summary>
<p>给定的原集合和r-permutation从小到大排列，从r-permutation的尾部开始向前找，找到第一个与原集合对应位置数不等的位置，把位置上的数加1，后面每个位置的数依次加一。<br />
如：给定集合{1,2,3,4,5,6,7,8,9,10}，7-permutation为{1,2,3,4,6,9,10}，从后往前对应，10=10, 9=9, 6!=8，因此6+1得7，填入原位置，后面跟上8, 9即得{1,2,3,4,7,8,9}。
(Credit to Hehe &amp; Way2Hungry)</p>
</details>
<h2 id="notes-mathematicsandphysics-discretemath-advanced-counting-techniques">Advanced Counting Techniques<a class="headerlink" href="#notes-mathematicsandphysics-discretemath-advanced-counting-techniques" title="Permanent link">&para;</a></h2>
<h3 id="notes-mathematicsandphysics-discretemath-_14">特征根法求解递推序列<a class="headerlink" href="#notes-mathematicsandphysics-discretemath-_14" title="Permanent link">&para;</a></h3>
<p>（类似<a href="https://shrike505.cc/notes/MathematicsAndPhysics/ODE/#ode_6">高阶线性齐次常微分方程</a>）</p>
<h4 id="notes-mathematicsandphysics-discretemath-_15">一阶齐次<a class="headerlink" href="#notes-mathematicsandphysics-discretemath-_15" title="Permanent link">&para;</a></h4>
<p><span class="arithmatex">\(a_n = c_1 a_{n-1} + \cdots + c_k a_{n-k}\)</span>  </p>
<ul>
<li>求解特征方程<img alt="" src="../notes/MathematicsAndPhysics/assets/DM8.png" />  </li>
<li>单根<span class="arithmatex">\(r_1, r_2, \cdots, r_k\)</span>，则通解中含有<span class="arithmatex">\(\alpha_1 r_1^n + \cdots + \alpha_k r_k^n\)</span>, <span class="arithmatex">\(\alpha_1, \cdots, \alpha_k\)</span>由初始条件决定(任意常数)</li>
<li>k重根<span class="arithmatex">\(r\)</span>，则通解中含有<span class="arithmatex">\(\alpha_1 r^n + \alpha_2 n r^n + \cdots + \alpha_k n^{k-1} r^n\)</span>, <span class="arithmatex">\(\alpha_1, \cdots, \alpha_k\)</span>由初始条件决定(任意常数)</li>
</ul>
<h4 id="notes-mathematicsandphysics-discretemath-_16">一阶非齐次<a class="headerlink" href="#notes-mathematicsandphysics-discretemath-_16" title="Permanent link">&para;</a></h4>
<p><span class="arithmatex">\(a_n = c_1 a_{n-1} + \cdots + c_k a_{n-k} + f(n)\)</span></p>
<ul>
<li>求解齐次版本的特征方程，求出齐次通解，再求出（猜出）一个特解，通解就是齐次通解加上特解</li>
<li>特解的形式与<span class="arithmatex">\(f(n)\)</span>有关，如下是两种特别的</li>
<li><img alt="" src="../notes/MathematicsAndPhysics/assets/DM20.png" /></li>
</ul>
<h3 id="notes-mathematicsandphysics-discretemath-_17">生成函数<a class="headerlink" href="#notes-mathematicsandphysics-discretemath-_17" title="Permanent link">&para;</a></h3>
<p><span class="arithmatex">\({a_0, a_1, a_2, \cdots}\)</span>的生成函数为<span class="arithmatex">\(f(x) = a_0 + a_1x + a_2x^2 + \cdots = \sum_{i=0}^{\infty} a_ix^i\)</span><br />
<span class="arithmatex">\({a_0, a_1, a_2, \cdots , a_n}\)</span>的生成函数为<span class="arithmatex">\(f(x) = a_0 + a_1x + a_2x^2 + \cdots + a_nx^n\)</span> (记<span class="arithmatex">\(a_{n+1} = a_{n+2} = \cdots = 0\)</span>)</p>
<details class="常见生成函数">
<summary>常见生成函数</summary>
<p><img alt="" src="../notes/MathematicsAndPhysics/assets/DM4.png" /><br />
<img alt="" src="../notes/MathematicsAndPhysics/assets/DM5.png" /></p>
</details>
<details class="利用生成函数解决问题">
<summary>利用生成函数解决问题</summary>
<p><img alt="" src="../notes/MathematicsAndPhysics/assets/DM6.png" /><br />
<img alt="" src="../notes/MathematicsAndPhysics/assets/DM7.png" /></p>
</details>
<h3 id="notes-mathematicsandphysics-discretemath-inclusion-exclusion-principle">Inclusion-Exclusion Principle<a class="headerlink" href="#notes-mathematicsandphysics-discretemath-inclusion-exclusion-principle" title="Permanent link">&para;</a></h3>
<p><span class="arithmatex">\(|A_1 \cup A_2 \cup \cdots \cup A_n| = \sum_{i=1}^{n} |A_i| - \sum_{1 \le i &lt; j \le n} |A_i \cap A_j| + \sum_{1 \le i &lt; j &lt; k \le n} |A_i \cap A_j \cap A_k| - \cdots + (-1)^{n-1} |A_1 \cap A_2 \cap \cdots \cap A_n|\)</span></p>
<div class="admonition eg">
<p class="admonition-title">常用：k=2, 3</p>
<ul>
<li><span class="arithmatex">\(|A \cup B| = |A| + |B| - |A \cap B|\)</span></li>
<li><span class="arithmatex">\(|A \cup B \cup C| = |A| + |B| + |C| - |A \cap B| - |A \cap C| - |B \cap C| + |A \cap B \cap C|\)</span></li>
</ul>
</div>
<h2 id="notes-mathematicsandphysics-discretemath-relations">Relations<a class="headerlink" href="#notes-mathematicsandphysics-discretemath-relations" title="Permanent link">&para;</a></h2>
<h3 id="notes-mathematicsandphysics-discretemath-_18">二元关系<a class="headerlink" href="#notes-mathematicsandphysics-discretemath-_18" title="Permanent link">&para;</a></h3>
<p>集合A上有<span class="arithmatex">\(2^{|A|^2}\)</span>个二元关系</p>
<details class="note">
<summary>一道逆天小测/作业</summary>
<p><img alt="" src="../notes/MathematicsAndPhysics/assets/DM9.png" /><br />
<img alt="" src="../notes/MathematicsAndPhysics/assets/DM10.png" /></p>
</details>
<ul>
<li>Reflexive: <span class="arithmatex">\(\forall a \in A, (a,a) \in R\)</span><ul>
<li>e.g. <span class="arithmatex">\(R_1 = \{(a, b)|a \le b\}\)</span>, <span class="arithmatex">\(R_2 = \{(a, b)|a = b\}\)</span></li>
</ul>
</li>
<li>Symmetric: <span class="arithmatex">\(\forall a, b \in A, (a, b) \in R \rightarrow (b, a) \in R\)</span><ul>
<li>e.g. <span class="arithmatex">\(R_1 = \{(a, b)|a + b \le 3\}\)</span>, <span class="arithmatex">\(R_2 = \{(a, b)|a = b\}\)</span></li>
</ul>
</li>
<li>Antisymmetric: <span class="arithmatex">\(\forall a, b \in A, (a, b) \in R \wedge (b, a) \in R \rightarrow a = b\)</span><ul>
<li>e.g. <span class="arithmatex">\(R_1 = \{(a, b)|a \le b\}\)</span>, <span class="arithmatex">\(R_2 = \{(a, b)|a = b\}\)</span></li>
</ul>
</li>
<li>Transitive: <span class="arithmatex">\(\forall a, b, c \in A, (a, b) \in R \wedge (b, c) \in R \rightarrow (a, c) \in R\)</span><ul>
<li>e.g. <span class="arithmatex">\(R_1 = \{(a, b)|a \le b\}\)</span>, <span class="arithmatex">\(R_2 = \{(a, b)|a = b\}\)</span></li>
<li><span class="arithmatex">\(R\)</span>是传递的当且仅当<span class="arithmatex">\(R^n \subseteq R\)</span></li>
</ul>
</li>
</ul>
<p>关系的复合：<span class="arithmatex">\(R \circ S = \{(a, c)|\exists b \in A, (a, b) \in R \wedge (b, c) \in S\}\)</span>，类似复合函数，可将第一个分量看作自变量，第二个分量看作因变量</p>
<details class="例">
<summary>例</summary>
<ul>
<li><span class="arithmatex">\(R = \{(1, 2), (2, 3), (3, 4)\}, S = \{(2, 3), (3, 4), (4, 5), (3,8)\}\)</span></li>
<li><span class="arithmatex">\(S \circ R = \{(1, 3), (2, 4), (3, 5), (2, 8)\}\)</span>（就是找R的第二个分量和S的第一个分量相等的元素再拼接）</li>
</ul>
</details>
<h3 id="notes-mathematicsandphysics-discretemath-_19">关系的表达<a class="headerlink" href="#notes-mathematicsandphysics-discretemath-_19" title="Permanent link">&para;</a></h3>
<ul>
<li>关系矩阵：<span class="arithmatex">\(R = \{(a, b)|a \in A, b \in B\}\)</span>，<span class="arithmatex">\(R\)</span>的关系矩阵是一个<span class="arithmatex">\(|A| \times |B|\)</span>的矩阵，<span class="arithmatex">\(r_{ij} = 1\)</span>表示<span class="arithmatex">\((a_i, b_j) \in R\)</span>，<span class="arithmatex">\(r_{ij} = 0\)</span>表示<span class="arithmatex">\((a_i, b_j) \notin R\)</span><ul>
<li><span class="arithmatex">\(R\)</span>是自反的当且仅当对角线上的元素都是1</li>
<li><span class="arithmatex">\(R\)</span>是对称的当且仅当<span class="arithmatex">\(r_{ij} = r_{ji}\)</span></li>
<li><span class="arithmatex">\(R\)</span>是反对称的当且仅当当<span class="arithmatex">\(i \ne j\)</span>时<span class="arithmatex">\(r_{ij} = 0\)</span>或<span class="arithmatex">\(r_{ji} = 0\)</span></li>
<li><span class="arithmatex">\(R_2 \circ R_1\)</span>的关系矩阵是<span class="arithmatex">\(M_1 \odot M_2\)</span>, <span class="arithmatex">\(odot\)</span>为矩阵的Boolean product</li>
<li>关系取并/交，矩阵对应位置取并/交；关系取反，矩阵取反</li>
</ul>
</li>
<li>关系图：有向图<span class="arithmatex">\(R\)</span>中顶点<span class="arithmatex">\(a_i\)</span>到<span class="arithmatex">\(a_j\)</span>有一条边当且仅当<span class="arithmatex">\((a_i, a_j) \in R\)</span><ul>
<li><span class="arithmatex">\(R\)</span>是自反的当且仅当每个顶点有一条边指向自己</li>
<li><span class="arithmatex">\(R\)</span>是对称的当且仅当若<span class="arithmatex">\(a_i\)</span>到<span class="arithmatex">\(a_j\)</span>有一条边，则<span class="arithmatex">\(a_j\)</span>到<span class="arithmatex">\(a_i\)</span>也有一条边</li>
<li><span class="arithmatex">\(R\)</span>是反对称的当且仅当若<span class="arithmatex">\(a_i \ne a_j\)</span>且<span class="arithmatex">\(a_i\)</span>到<span class="arithmatex">\(a_j\)</span>有一条边，则<span class="arithmatex">\(a_j\)</span>到<span class="arithmatex">\(a_i\)</span>没有边（所有边单向）</li>
<li><span class="arithmatex">\(R\)</span>是传递的当且仅当若<span class="arithmatex">\(a_i\)</span>到<span class="arithmatex">\(a_j\)</span>和<span class="arithmatex">\(a_j\)</span>到<span class="arithmatex">\(a_k\)</span>有边，则<span class="arithmatex">\(a_i\)</span>到<span class="arithmatex">\(a_k\)</span>有边</li>
</ul>
</li>
</ul>
<p>定义关系的逆：<span class="arithmatex">\(R^{-1} = \{(b, a)|(a, b) \in R\}\)</span></p>
<div class="admonition note">
<p class="admonition-title">求逆与逆的性质</p>
<p><img alt="" src="../notes/MathematicsAndPhysics/assets/DM11.png" /><br />
<img alt="" src="../notes/MathematicsAndPhysics/assets/DM12.png" /></p>
</div>
<p>性质：<span class="arithmatex">\((a,b) \in R^n\)</span>当且仅当存在一条长度为<span class="arithmatex">\(n\)</span>的路径从<span class="arithmatex">\(a\)</span>到<span class="arithmatex">\(b\)</span></p>
<h3 id="notes-mathematicsandphysics-discretemath-closure">闭包Closure<a class="headerlink" href="#notes-mathematicsandphysics-discretemath-closure" title="Permanent link">&para;</a></h3>
<p>关系<span class="arithmatex">\(R\)</span>关于某个性质的闭包：指的是向该关系中添加最小元组后使其满足该性质的一个新关系。</p>
<p>很绕，来个例子：某个关系图关于自反性的闭包就是给每个顶点都加上个自环形成的新图。/ 某个关系矩阵关于自反性的闭包就是对角线上的元素都变成1。</p>
<ul>
<li>自反闭包：<span class="arithmatex">\(r(R) = R \cup \{(a, a)|a \in A\}\)</span></li>
<li>对称闭包：<span class="arithmatex">\(s(R) = R \cup R^{-1}\)</span></li>
<li>传递闭包<ul>
<li>先定义连通关系Connectivity Relation: <span class="arithmatex">\(R^* = R \cup R^2 \cup R^3 \cup \cdots\)</span>，其元素<span class="arithmatex">\((a,b)\)</span>满足在<span class="arithmatex">\(R\)</span>中有一条路径从<span class="arithmatex">\(a\)</span>到<span class="arithmatex">\(b\)</span>（就是把上面那个性质的长度从确定的n推广为所有正整数）</li>
<li>有<span class="arithmatex">\(t(R) = R^*\)</span></li>
<li>引理：记<span class="arithmatex">\(M_R\)</span>为<span class="arithmatex">\(R\)</span>的关系矩阵，<span class="arithmatex">\(M_{R^*} = M_R \vee M_{R^2} \vee M_{R^3} \vee M_{R^n}\)</span></li>
<li>Warshell算法求传递闭包：记<span class="arithmatex">\(R\)</span>的矩阵为M<ul>
<li>从对角线上第一个元素开始，对每个对角线上的元素，将其所在的行加到该元素所在列上为1元素所在的行，最终得到<span class="arithmatex">\(M_{R^*}\)</span></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="notes-mathematicsandphysics-discretemath-_20">等价类<a class="headerlink" href="#notes-mathematicsandphysics-discretemath-_20" title="Permanent link">&para;</a></h3>
<p>等价关系：自反传递对称</p>
<p>设<span class="arithmatex">\(R\)</span>是定义在集合<span class="arithmatex">\(A\)</span>上的等价关系。与<span class="arithmatex">\(A\)</span>中的一个元素<span class="arithmatex">\(a\)</span>有这种关系的所有元素的集合叫做a的等价类，记作<span class="arithmatex">\([a]_R\)</span>.</p>
<ul>
<li>若<span class="arithmatex">\(aRb\)</span>，则<span class="arithmatex">\(b \in [a]_R\)</span></li>
<li>若<span class="arithmatex">\(R\)</span>为等价关系，以下性质等价：<ul>
<li><span class="arithmatex">\(aRb\)</span></li>
<li><span class="arithmatex">\([a]_R = [b]_R\)</span></li>
<li><span class="arithmatex">\([a]_R \cap [b]_R \ne \emptyset\)</span></li>
</ul>
</li>
</ul>
<p>有<span class="arithmatex">\(\bigcup_{a \in A} [a]_R = A\)</span></p>
<p>Partition of a set: 一个集合的集合，元素是互不相交的子集，且并起来等于原集合，记为<span class="arithmatex">\(pr(A)\)</span></p>
<ul>
<li>集合<span class="arithmatex">\(A\)</span>在关系<span class="arithmatex">\(R\)</span>下的Partition: 画出关系图，图中每个连通分量里的顶点构成<span class="arithmatex">\(A\)</span>的Partition</li>
</ul>
<h3 id="notes-mathematicsandphysics-discretemath-_21">偏序<a class="headerlink" href="#notes-mathematicsandphysics-discretemath-_21" title="Permanent link">&para;</a></h3>
<ul>
<li>偏序：关系<span class="arithmatex">\(R\)</span>是偏序的当且仅当<span class="arithmatex">\(R\)</span>是自反、反对称、传递的，表示为弯一点的<span class="arithmatex">\(\le\)</span><ul>
<li>可比性Comparability：在一个偏序集中，若<span class="arithmatex">\(a \preceq b\)</span>或<span class="arithmatex">\(b \preceq a\)</span>，则称<span class="arithmatex">\(a\)</span>和<span class="arithmatex">\(b\)</span>是可比的，e.g. <span class="arithmatex">\((\mathbb{Z^+}, \mid)\)</span>中，<span class="arithmatex">\(2 \nmid 3\)</span>，<span class="arithmatex">\(3 \nmid 2\)</span>，则<span class="arithmatex">\(2\)</span>和<span class="arithmatex">\(3\)</span>不可比</li>
<li>偏序集Partial Order Set(poset): 一个集合和一个偏序关系的组合:<span class="arithmatex">\((S, \preceq)\)</span></li>
</ul>
</li>
<li>全序：关系<span class="arithmatex">\(R\)</span>是全序的当且仅当<span class="arithmatex">\(R\)</span>是偏序且每两个元素都可比</li>
<li>良序：关系<span class="arithmatex">\(R\)</span>是良序的当且仅当<span class="arithmatex">\(R\)</span>是全序且每个非空子集都有最小元素</li>
<li>字典序：两个偏序集<span class="arithmatex">\((A1, \preceq_1), (A2, \preceq_2)\)</span>的字典序位于<span class="arithmatex">\((A1 \times A2, \preceq)\)</span>，其中<span class="arithmatex">\((a1, a2) \preceq (b1, b2)\)</span>当且仅当<span class="arithmatex">\(a1 \prec_1 b1\)</span>或<span class="arithmatex">\(a1 = b1\)</span>且<span class="arithmatex">\(a2 \prec_2 b2\)</span></li>
</ul>
<p>Hasse图：从关系图中删去表征自反和传递后得到的图，用于表示偏序关系<br />
怎么画：</p>
<ul>
<li><img alt="" src="../notes/MathematicsAndPhysics/assets/DM18.png" /></li>
<li><a href="https://blog.csdn.net/Joe_Morningstar/article/details/106206715">https://blog.csdn.net/Joe_Morningstar/article/details/106206715</a></li>
<li>极大元MAXIMAL: a是极大元，如果偏序集中不存在b使得<span class="arithmatex">\(a \prec b\)</span> （Hasse图中最高的点，形似树叶部分（我不确定是不是Hasse图一定是树））</li>
<li>极小元MINIMAL: a是极小元，如果偏序集中不存在b使得<span class="arithmatex">\(b \prec a\)</span> （Hasse图中最低的点）</li>
<li>最大元GREATEST: a是最大元，如果偏序集中所有的b都有<span class="arithmatex">\(b \preceq a\)</span></li>
<li>最小元LEAST: a是最小元，如果偏序集中所有的b都有<span class="arithmatex">\(a \preceq b\)</span>  </li>
<li><img alt="" src="../notes/MathematicsAndPhysics/assets/DM19.png" /></li>
<li>(least/greatest) lower/upper bound: 就是上下（确）界，把大于小于号改成偏序正反</li>
</ul>
<p>拓扑排序：Hasse图的方向别删，然后从最小的元开始，每次删除一个只有出度的点，直到删完</p>
<h2 id="notes-mathematicsandphysics-discretemath-_22">图<a class="headerlink" href="#notes-mathematicsandphysics-discretemath-_22" title="Permanent link">&para;</a></h2>
<p>一堆概念：<a href="https://oi-wiki.org/graph/concept/">https://oi-wiki.org/graph/concept/</a><br />
一个节点到自身的自环，若为无向图，贡献两个度；若为有向图，贡献一个出度和一个入度。  </p>
<ul>
<li>无向图中，<span class="arithmatex">\(2|E| = \sum_{v \in V} deg(v)\)</span></li>
<li>
<p>有向图中，<span class="arithmatex">\(\sum_{v \in V} deg^-(v) = \sum_{v \in V} deg^+(v) = |E|\)</span></p>
</li>
<li>
<p>对任意图<span class="arithmatex">\(G\)</span>，度数为奇数的顶点数为偶数</p>
</li>
<li>the degree of a vertex in a simple graph is at most 1 less than the number of vertices</li>
</ul>
<p>Complete graph(<span class="arithmatex">\(K_n\)</span>): 每对不同的顶点之间都有且仅有一条边。</p>
<ul>
<li>n个顶点的完全图有<span class="arithmatex">\(\frac{n(n-1)}{2}\)</span>条边</li>
<li>每个顶点的度为<span class="arithmatex">\(n-1\)</span></li>
</ul>
<p>圈(cycle)(<span class="arithmatex">\(C_n\)</span>): <span class="arithmatex">\(\{(v_1, \cdots , v_n),(v_1, v_2), (v_2, v_3), \cdots, (v_{n-1}, v_n), (v_n, v_1)\}\)</span>  </p>
<p>Wheel(<span class="arithmatex">\(W_n\)</span>): <span class="arithmatex">\(\{Cycle, v_{new}, (v_{new}, v_1), (v_{new}, v_2), \cdots, (v_{new}, v_n)\}\)</span>  </p>
<p>n-Cube(<span class="arithmatex">\(Q_n\)</span>): 顶点集为所有n位二进制数（<span class="arithmatex">\(Q_n\)</span>有<span class="arithmatex">\(2^n\)</span>个顶点），两个顶点之间有边当且仅当它们的二进制表示有且仅有一位不同</p>
<p>Bipartite graph: 顶点集可以分为两个互不相交的子集，使得每条边的两个端点分别属于这两个子集。</p>
<ul>
<li>也就意味着任何一个子集中的顶点互不相连</li>
<li>定理：简单图是Bipartite的当且仅当有可能对其顶点进行染色，使得任意一条边的两个端点都颜色不同</li>
</ul>
<p>Complete bipartite graph: 分成的两个顶点子集中，对一个子集中任何一个顶点，另一个子集中的所有顶点都与之相连。</p>
<ul>
<li>记作<span class="arithmatex">\(K_{m,n}\)</span>，其中<span class="arithmatex">\(m\)</span>和<span class="arithmatex">\(n\)</span>分别为两个子集的顶点数</li>
<li>有些完全二分图长得很诡异，如下面这个<span class="arithmatex">\(K_{3,3}\)</span>：<ul>
<li><img alt="" src="../notes/MathematicsAndPhysics/assets/DM14.png" /></li>
</ul>
</li>
</ul>
<p>正则(Regular)图：每个顶点的度都相同，n-正则图即每个顶点的度为n</p>
<ul>
<li>注意到<span class="arithmatex">\(K_{m,n}\)</span>在<span class="arithmatex">\(m = n\)</span>时是正则图</li>
</ul>
<h3 id="notes-mathematicsandphysics-discretemath-matching">Matching<a class="headerlink" href="#notes-mathematicsandphysics-discretemath-matching" title="Permanent link">&para;</a></h3>
<ul>
<li>Matching: 一个边集，其中任意两条边都不邻接（没有共同顶点）<ul>
<li>Maximum matching: 边数最多的匹配</li>
<li>完全匹配(Complete matching): 对于二分为<span class="arithmatex">\((V_1, V_2)\)</span>的二分图，若每个<span class="arithmatex">\(V_1\)</span>中的顶点都是匹配<span class="arithmatex">\(M\)</span>中的一个顶点，则称<span class="arithmatex">\(M\)</span>为完全匹配（从<span class="arithmatex">\(V_1\)</span>到<span class="arithmatex">\(V_2\)</span>）</li>
</ul>
</li>
</ul>
<p>Hall's theorem: 二分图<span class="arithmatex">\(G = (V ,E)\)</span>二分为<span class="arithmatex">\((V_1, V_2)\)</span>有一个从<span class="arithmatex">\(V_1\)</span>到<span class="arithmatex">\(V_2\)</span>的完全匹配当且仅当对于<span class="arithmatex">\(V_1\)</span>的任意子集<span class="arithmatex">\(A\)</span>，<span class="arithmatex">\(|N(A)| \ge |A|\)</span>，其中<span class="arithmatex">\(N(A)\)</span>元素为<span class="arithmatex">\(A\)</span>中的顶点的邻居</p>
<h3 id="notes-mathematicsandphysics-discretemath-_23">子图<a class="headerlink" href="#notes-mathematicsandphysics-discretemath-_23" title="Permanent link">&para;</a></h3>
<p><span class="arithmatex">\(G= (V, E) , H= (W, F)\)</span></p>
<ul>
<li>子图(Subgraph)(<span class="arithmatex">\(H \subseteq G\)</span>): <span class="arithmatex">\(W \subseteq V, F \subseteq E\)</span></li>
<li>Proper subgraph: <span class="arithmatex">\(G \ne H, H \subseteq G\)</span></li>
<li>生成图(Spanning subgraph): <span class="arithmatex">\(W = V, F \subseteq E\)</span> (端点不变，边集缩小)</li>
<li><span class="arithmatex">\(G\)</span>关于端点集<span class="arithmatex">\(W\)</span>的诱导子图(Induced subgraph): 图<span class="arithmatex">\(U = (W, F)\)</span>，其中<span class="arithmatex">\(F\)</span>包含的边是<span class="arithmatex">\(E\)</span>中连接<span class="arithmatex">\(W\)</span>中的两个顶点的边</li>
</ul>
<h3 id="notes-mathematicsandphysics-discretemath-_24">图的表示<a class="headerlink" href="#notes-mathematicsandphysics-discretemath-_24" title="Permanent link">&para;</a></h3>
<ul>
<li>邻接矩阵<ul>
<li>对多边图，<span class="arithmatex">\(a_{ij}\)</span>表示顶点<span class="arithmatex">\(v_i\)</span>到<span class="arithmatex">\(v_j\)</span>的边数</li>
</ul>
</li>
<li>incidence matrix: 行为顶点，列为边，<span class="arithmatex">\(a_{ij} = 1\)</span>表示顶点<span class="arithmatex">\(v_i\)</span>与边<span class="arithmatex">\(e_j\)</span>相连<ul>
<li>无向图的每一列中1成对出现代表边，单独一个1就是该点处的自环</li>
</ul>
</li>
</ul>
<h3 id="notes-mathematicsandphysics-discretemath-isomorphism">Isomorphism<a class="headerlink" href="#notes-mathematicsandphysics-discretemath-isomorphism" title="Permanent link">&para;</a></h3>
<p>同构：存在双射使得映射前后顶点的相邻关系不变</p>
<ul>
<li>同构中的不变量（可用于判断非同构）<ul>
<li>顶点数，边数，对应点的度、路径</li>
<li>是否为环、轮、完全图、二分图</li>
<li>同构当且仅当有相同长度的环路</li>
</ul>
</li>
</ul>
<h3 id="notes-mathematicsandphysics-discretemath-_25">路径<a class="headerlink" href="#notes-mathematicsandphysics-discretemath-_25" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>定理：从<span class="arithmatex">\(v_i\)</span>到<span class="arithmatex">\(v_j\)</span>的长度为<span class="arithmatex">\(r\)</span>的路径数量为<span class="arithmatex">\(A^r_{ij}\)</span>，其中<span class="arithmatex">\(A^r_{ij}\)</span>为邻接矩阵的第<span class="arithmatex">\(r\)</span>次幂<span class="arithmatex">\((i,j)\)</span>位置上的元素（这里的幂就是普通矩阵乘法）</p>
</li>
<li>
<p>cut vertex(ariculation point): 从图中去掉这个点后，图不再连通（导致更多连通部分的出现）</p>
</li>
<li>
<p>cut edge(bridge): 从图中去掉这条边后，图不再连通</p>
</li>
<li>
<p>强连通：有向图中任意两个顶点<span class="arithmatex">\(a,b\)</span>之间都有从<span class="arithmatex">\(a\)</span>到<span class="arithmatex">\(b\)</span>和从<span class="arithmatex">\(b\)</span>到<span class="arithmatex">\(a\)</span>的路径</p>
</li>
<li>
<p>弱连通：有向图中去掉所有边的方向后，得到的无向图是连通的</p>
</li>
<li>
<p>connected components: 无向图中的极大连通子图</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">欧拉回路与欧拉路径</p>
<ul>
<li>欧拉回路(Eulerian circuit): 通过图中每条边一次且仅一次的回路（一笔画，起点终点相同）</li>
<li>欧拉路径(Eulerian path): 通过图中每条边一次且仅一次的路径（一笔画）</li>
<li>无向连通（多）图有欧拉circuit当且仅当每个顶点的度数都是偶数</li>
<li>连通（多）图有非欧拉circuit的欧拉path当且仅当有且仅有两个顶点的度数是奇数，且这两个顶点就是路径的起点和终点</li>
</ul>
<details class="extra">
<summary>有向图的情况</summary>
<p><img alt="" src="../notes/MathematicsAndPhysics/assets/DM13.png" /></p>
</details>
</div>
<div class="admonition note">
<p class="admonition-title">哈密顿回路与哈密顿路径</p>
<ul>
<li>哈密顿回路(Hamiltonian circuit): 通过图中每个顶点一次且仅一次的回路（除了起始点，也就是终点）</li>
<li>哈密顿路径(Hamiltonian path): 通过图中每个顶点一次且仅一次的路径（有点儿不一样的一笔画）<ul>
<li>Dirac's theorem: 若<span class="arithmatex">\(G\)</span>是一个简单图，<span class="arithmatex">\(|V| \ge 3\)</span>，且<span class="arithmatex">\(G\)</span>中每个顶点的度数都至少为<span class="arithmatex">\(\frac{|V|}{2}\)</span>，则<span class="arithmatex">\(G\)</span>有哈密顿回路</li>
<li>Ore's theorem: 若<span class="arithmatex">\(G\)</span>是一个简单图，<span class="arithmatex">\(|V| \ge 3\)</span>，且<span class="arithmatex">\(\forall v, u \in V(G)\)</span>且<span class="arithmatex">\(v\)</span>,<span class="arithmatex">\(u\)</span>不相邻，有<span class="arithmatex">\(deg(u)+deg(v) \ge |V|\)</span>，则<span class="arithmatex">\(G\)</span>有哈密顿回路</li>
</ul>
</li>
</ul>
<details class="extra">
<summary>必要条件，可用于判断是否有哈密顿回路/路径</summary>
<ul>
<li>若G有哈密顿路径，则<ul>
<li>G为连通的</li>
<li>最多有两个顶点的度小于2</li>
</ul>
</li>
<li>若G有哈密顿回路，则<ul>
<li>G为连通的</li>
<li>所有顶点的度数都比1大</li>
<li>对任意<span class="arithmatex">\(V(G)\)</span>的子集<span class="arithmatex">\(S\)</span>，<span class="arithmatex">\(G - S\)</span>的连通部分数不超过<span class="arithmatex">\(|S|\)</span></li>
</ul>
</li>
</ul>
</details>
</div>
<p>XXX图意思是有XXX<strong>回路circuit</strong>的图</p>
<p>旅行商问题：求图中最短的哈密顿回路</p>
<h3 id="notes-mathematicsandphysics-discretemath-_26">平面图<a class="headerlink" href="#notes-mathematicsandphysics-discretemath-_26" title="Permanent link">&para;</a></h3>
<p>能在纸上画出来时边不相交的图(planar graph)</p>
<ul>
<li>区域(region): 平面图的edge将平面分割成的部分</li>
<li>
<p>区域R的度定义为与R相邻的边数，一条边的两侧如果都暴露在区域中就计两次</p>
</li>
<li>
<p>Euler's formula: 设<span class="arithmatex">\(G\)</span>是一个连通的平面简单图，<span class="arithmatex">\(V\)</span>为顶点数，<span class="arithmatex">\(E\)</span>为边数，<span class="arithmatex">\(r\)</span>为区域数，则<span class="arithmatex">\(r = E - V + 2\)</span>  </p>
<ul>
<li>同时有<span class="arithmatex">\(E \le 3V - 6\)</span>,且<span class="arithmatex">\(G\)</span>有一个度数不超过5的顶点  </li>
<li>若<span class="arithmatex">\(V \ge 3\)</span>并且图中没有长为3的回路，则<span class="arithmatex">\(E \le 2V - 4\)</span></li>
<li>可用于判断平面图</li>
<li>推论：记平面图中最小的环边数为<span class="arithmatex">\(k\)</span>，有<span class="arithmatex">\(e \le \frac{(v-2)k}{k-2}\)</span></li>
</ul>
</li>
</ul>
<p>KURATOWSKI定理：</p>
<ul>
<li>先定义同胚(Homeomorphic)：两个图<span class="arithmatex">\(G\)</span>和<span class="arithmatex">\(H\)</span>是同胚的，当它们可以由同一个图通过一系列elementary subdivisions得到。<ul>
<li>Elementary subdivision: 包括细分（在边上新增顶点）和简化（移除度数为2的顶点）</li>
</ul>
</li>
<li>定理：一个图是<strong>非</strong>平面图当且仅当它包含一个与<span class="arithmatex">\(K_5\)</span>或<span class="arithmatex">\(K_{3,3}\)</span>同胚的子图</li>
</ul>
<h3 id="notes-mathematicsandphysics-discretemath-_27">涂色问题<a class="headerlink" href="#notes-mathematicsandphysics-discretemath-_27" title="Permanent link">&para;</a></h3>
<p>地图可以表示成一个图(dual graph)，地图上每个区域对应一个顶点，若两个区域有共同边界，则对应的两个顶点之间有一条边<br />
<img alt="" src="../notes/MathematicsAndPhysics/assets/DM15.png" />  </p>
<p><span class="arithmatex">\(x(G)\)</span>: 图<span class="arithmatex">\(G\)</span>的色数（chromatic number），即最少需要多少种颜色才能使得图中任意两个相邻的顶点颜色不同</p>
<ul>
<li>四色定理：任何平面图的色数不超过4</li>
</ul>
<p>一些常见图的色数：<span class="arithmatex">\(x(C_n) = \begin{cases} 2 &amp; n \text{ is even} \\ 3 &amp; n \text{ is odd} \end{cases}\)</span>, <span class="arithmatex">\(x(K_n) = n\)</span>, <span class="arithmatex">\(x(连通二分图) = 2\)</span></p>
<ul>
<li>可以先观察图中有没有子图是这些类型的，如果有那原图的色数必然大于等于它的色数</li>
</ul>
<h2 id="notes-mathematicsandphysics-discretemath-_28">树<a class="headerlink" href="#notes-mathematicsandphysics-discretemath-_28" title="Permanent link">&para;</a></h2>
<p>树是没有简单回路的连通无向图
<span class="arithmatex">\(n\)</span>个顶点的树有<span class="arithmatex">\(n-1\)</span>条边</p>
<ul>
<li>internal vertex: 有子节点的顶点<ul>
<li>有i个内点的<strong>满m叉树</strong>有<span class="arithmatex">\(n = mi + 1\)</span>个顶点和<span class="arithmatex">\(l = (m-1)i + 1\)</span>个叶子</li>
</ul>
</li>
<li>Balanced Binary Tree: 每个节点的左右子树高度差不超过1</li>
<li>高度为h，叶子数为l的m叉树满足<span class="arithmatex">\(h \ge \log_m l\)</span>，等号成立仅当树是满且平衡的</li>
<li>树都是bipartite的，端点分成两个子集，一个是奇数层，一个集合是偶数层</li>
</ul>
<p>根节点的height为0</p>
<h3 id="notes-mathematicsandphysics-discretemath-_29">树的应用<a class="headerlink" href="#notes-mathematicsandphysics-discretemath-_29" title="Permanent link">&para;</a></h3>
<p>Prefix code: 每个字符对应一个二进制码，且没有一个字符的码是另一个字符码的前缀</p>
<ul>
<li>如: e: 0, a: 100, b: 10, c: 110, d: 111</li>
<li>构建这种树：internal vertex的左子边记为0，右子边记为1，叶子节点标注为从根节点到此叶子的路径组成的二进制码</li>
</ul>
<p>Huffman coding: 最小化字符的平均码长</p>
<ul>
<li>构建这种树：每次选取频率最小的两个节点合并，频率大的作为左子树，频率小的作为右子树，根节点的频率为两个子节点的频率之和：</li>
<li><img alt="" src="../notes/MathematicsAndPhysics/assets/DM16.png" /></li>
<li><img alt="" src="../notes/MathematicsAndPhysics/assets/DM17.png" /></li>
<li>Average number of bits: 节点深度乘上自身频率的和，注意根为0层</li>
</ul>
<h3 id="notes-mathematicsandphysics-discretemath-_30">生成树<a class="headerlink" href="#notes-mathematicsandphysics-discretemath-_30" title="Permanent link">&para;</a></h3>
<p><span class="arithmatex">\(G\)</span>的生成树：<span class="arithmatex">\(G\)</span>的一个子图，是一个树，且包含<span class="arithmatex">\(G\)</span>的所有顶点</p>
<ul>
<li>简单图是连通的<span class="arithmatex">\(\Leftrightarrow\)</span>它有生成树</li>
</ul>
<p>DFS：从一个顶点开始，沿着一条边走到底（没有可走的边了），再回溯到有可走边的顶点，走另一条边，直到所有顶点都走过  </p>
<p>BFS：从一个顶点开始，先访问所有与它相邻的顶点（LEVEL 1），再对每一个LEVEL 1的顶点，重复此操作，直到所有顶点都访问过</p>
<h4 id="notes-mathematicsandphysics-discretemath-_31">最小生成树<a class="headerlink" href="#notes-mathematicsandphysics-discretemath-_31" title="Permanent link">&para;</a></h4>
<p>找到一张有权图的生成树，使得所有边的权值之和最小</p>
<p>Prim: 令<span class="arithmatex">\(T\)</span>含图中最短权边，从1到n-2，添加与<span class="arithmatex">\(T\)</span>中的顶点相连的最短权边（不成回路），如果最短边成环，就找倒数第二短的，以此类推，直到所有顶点都在<span class="arithmatex">\(T\)</span>中<br />
Kruskal: 按权值从小到大排序边，依次加入，如果加入的边不成环就加入，否则不加入</p></section><section class="print-page" id="notes-mathematicsandphysics-probability" heading-number="4.4.5"><nav class='md-tags'><span class='md-tag'>大二上笔记</span></nav><blockquote>
<p>绝版史课来了</p>
</blockquote>
<notes-mathematicsandphysics-probability-h1 id="notes-mathematicsandphysics-probability-h">概率论（H）<a class="headerlink" href="#notes-mathematicsandphysics-probability-h" title="Permanent link">&para;</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 2020 个字 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 17H7V3h14m0-2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2M3 5H1v16a2 2 0 0 0 2 2h16v-2H3m12.96-10.71-2.75 3.54-1.96-2.36L8.5 15h11z"/></svg></span> 8 张图片 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 6 分钟</p>
</div>
<blockquote>
<p>任课教师：苏中根</p>
</blockquote>
<div class="admonition note">
<p class="admonition-title">成绩组成</p>
<ul>
<li>点名+作业：20%</li>
<li>小测：20%</li>
<li>期末：60%</li>
</ul>
</div>
<div class="admonition success">
<p class="admonition-title">Ref</p>
<p><a href="https://www.kailqq.cc/NOTE/Probability/">https://www.kailqq.cc/NOTE/Probability/</a></p>
</div>
<h2 id="notes-mathematicsandphysics-probability-_1">几何概型<a class="headerlink" href="#notes-mathematicsandphysics-probability-_1" title="Permanent link">&para;</a></h2>
<p>样本空间<span class="arithmatex">\(\Omega\)</span>含有不可数个基本事件的结果，每个事件的概率为0。同时<span class="arithmatex">\(\Omega\)</span>是<span class="arithmatex">\(R^n\)</span>的可测区域，事件<span class="arithmatex">\(A\)</span>是<span class="arithmatex">\(\Omega\)</span>的可测子集。</p>
<p><span class="arithmatex">\(P(A)= \frac{m(A)}{m(\Omega)}\)</span>，其中<span class="arithmatex">\(m(A)\)</span>是<span class="arithmatex">\(A\)</span>的测度。</p>
<div class="admonition note">
<p class="admonition-title">Buffon 投针</p>
<ul>
<li>一根长度为<span class="arithmatex">\(l\)</span>的针，投在一张画满间距为<span class="arithmatex">\(d\)</span>的平行线的平面上（<span class="arithmatex">\(l&lt;d\)</span>）。求针与线相交的概率。<ul>
<li>以针的任意位置为样本点，该点可由针的中点与最接近的线的距离<span class="arithmatex">\(x\)</span>，以及针的倾斜角<span class="arithmatex">\(\theta\)</span>确定。</li>
<li>样本空间<span class="arithmatex">\(\Omega = \{(x,\theta)|0\leq x\leq \frac{d}{2},0\leq \theta \leq \pi\}\)</span>为一矩形。</li>
<li>其中，与线相交的事件<span class="arithmatex">\(A = \{(x,\theta)|x\leq \frac{l}{2}\sin\theta\}\)</span>。</li>
<li>则<span class="arithmatex">\(P(A) = \frac{2l}{\pi d}\)</span>。（面积比）</li>
</ul>
</li>
</ul>
</div>
<h2 id="notes-mathematicsandphysics-probability-_2">概率空间<a class="headerlink" href="#notes-mathematicsandphysics-probability-_2" title="Permanent link">&para;</a></h2>
<p><span class="arithmatex">\(P(\bigcup_{i=1}^{m}A_i) \leq \sum_{i=1}^{m}P(A_i)\)</span></p>
<p><span class="arithmatex">\(LHS = \sum_{i=1}^{m}P(A_i) - \sum_{i \ne j}^{m}P(A_i \cap A_j)+\cdots + (-1)^{m-1}P(\bigcap_{i=1}^{m}A_i)\)</span></p>
<div class="admonition defination">
<p class="admonition-title">全概率公式</p>
<p>若<span class="arithmatex">\(B_1,B_2,\cdots,B_n\)</span>是样本空间<span class="arithmatex">\(\Omega\)</span>的一个划分，即<span class="arithmatex">\(B_i \cap B_j = \emptyset\)</span>，<span class="arithmatex">\(\bigcup_{i=1}^{n}B_i = \Omega\)</span>，则对任意事件<span class="arithmatex">\(A\)</span>有<span class="arithmatex">\(P(A) = \sum_{i=1}^{n}P(A|B_i)P(B_i)\)</span>。</p>
</div>
<div class="admonition defination">
<p class="admonition-title">贝叶斯公式</p>
<p>若<span class="arithmatex">\(B_1,B_2,\cdots,B_n\)</span>是样本空间<span class="arithmatex">\(\Omega\)</span>的一个划分，即<span class="arithmatex">\(B_i \cap B_j = \emptyset\)</span>，<span class="arithmatex">\(\bigcup_{i=1}^{n}B_i = \Omega\)</span>，则对任意事件<span class="arithmatex">\(A\)</span>有<span class="arithmatex">\(P(B_i|A) = \frac{P(A|B_i)P(B_i)}{\sum_{j=1}^{n}P(A|B_j)P(B_j)}\)</span>。</p>
</div>
<h2 id="notes-mathematicsandphysics-probability-_3">随机变量<a class="headerlink" href="#notes-mathematicsandphysics-probability-_3" title="Permanent link">&para;</a></h2>
<h3 id="notes-mathematicsandphysics-probability-_4">离散型随机变量<a class="headerlink" href="#notes-mathematicsandphysics-probability-_4" title="Permanent link">&para;</a></h3>
<ul>
<li>Possion分布<ul>
<li><span class="arithmatex">\(X\)</span>取非负整数，<span class="arithmatex">\(P(X=k) = \frac{\lambda^k}{k!}e^{-\lambda}\)</span></li>
<li>用于描述单位时间内某事件发生的次数</li>
</ul>
</li>
<li>下面两种分布都在成功概率为<span class="arithmatex">\(p\)</span>的伯努利试验中使用</li>
<li>二项分布<ul>
<li><span class="arithmatex">\(X\)</span>取非负整数，<span class="arithmatex">\(P(X=k) = C_n^k p^k(1-p)^{n-k}\)</span></li>
<li>用于描述<span class="arithmatex">\(n\)</span>次独立重复试验中成功次数的分布</li>
</ul>
</li>
<li>几何分布<ul>
<li><span class="arithmatex">\(X\)</span>取非负整数，<span class="arithmatex">\(P(X=k) = p(1-p)^{k-1}\)</span></li>
<li>用于描述<span class="arithmatex">\(n\)</span>次伯努利试验中第<span class="arithmatex">\(k\)</span>次才得到第一次成功的概率</li>
</ul>
</li>
</ul>
<h3 id="notes-mathematicsandphysics-probability-_5">连续型随机变量<a class="headerlink" href="#notes-mathematicsandphysics-probability-_5" title="Permanent link">&para;</a></h3>
<p>分布列<span class="arithmatex">\(X\)</span>的概率密度函数<span class="arithmatex">\(f(x)\)</span>满足：</p>
<ol>
<li><span class="arithmatex">\(f(x) \geq 0\)</span></li>
<li><span class="arithmatex">\(\int_{-\infty}^{+\infty}f(x)dx = 1\)</span></li>
<li><span class="arithmatex">\(P(X \in B) = \int_{B}f(x)dx\)</span></li>
</ol>
<div class="admonition defination">
<p class="admonition-title">分布函数</p>
<p>称 <span class="arithmatex">\(F(x) = P(\xi \leq x)\)</span> 为随机变量<span class="arithmatex">\(\xi(\omega)\)</span>的分布函数。</p>
<ul>
<li>具有以下性质：<ul>
<li><span class="arithmatex">\(P(a \leq \xi \leq b) = F(b) - F(a)\)</span></li>
<li>单调不减性：<span class="arithmatex">\(a \leq b \Rightarrow F(a) \leq F(b)\)</span></li>
<li><span class="arithmatex">\(F(-\infty) = 0, F(+\infty) = 1\)</span></li>
<li>右连续性：<span class="arithmatex">\(\lim_{x \to x_0^+}F(x) = F(x_0)\)</span></li>
<li><span class="arithmatex">\(F(x)=\int_{-\infty}^{x}f(t)dt\)</span></li>
</ul>
</li>
</ul>
<details class="example">
<summary>example</summary>
<ul>
<li>在三角形<span class="arithmatex">\(ABC\)</span>内任取一点<span class="arithmatex">\(P\)</span>，<span class="arithmatex">\(P\)</span>到<span class="arithmatex">\(BC\)</span>的距离为<span class="arithmatex">\(\xi\)</span>，求<span class="arithmatex">\(\xi\)</span>的分布函数。<ul>
<li>设BC边上高为<span class="arithmatex">\(h\)</span>，<span class="arithmatex">\(x \leq 0\)</span>时，<span class="arithmatex">\(F(x) = 0\)</span>；<span class="arithmatex">\(0 \leq x \leq h\)</span>时，在三角形内作平行于BC的DE，其与BC的距离为<span class="arithmatex">\(x\)</span>，则<span class="arithmatex">\(\{\xi \leq x\}\)</span>表示点P落在梯形DECB内。</li>
<li><img alt="" src="../notes/MathematicsAndPhysics/assets/PT0.png" /></li>
<li><span class="arithmatex">\(P(\xi \leq x) = \frac{S_{DECB}}{S_{ABC}} = 1 - (1-\frac{x}{h})^2\)</span></li>
<li><span class="arithmatex">\(x \geq h\)</span>时，<span class="arithmatex">\(F(x) = 1\)</span></li>
<li>则<span class="arithmatex">\(F(x) = \begin{cases} 0 &amp; x \leq 0 \\ 1-(1-\frac{x}{h})^2 &amp; 0 \leq x \leq h \\ 1 &amp; x \geq h \end{cases}\)</span></li>
</ul>
</li>
</ul>
</details>
</div>
<ul>
<li>常见的连续型随机变量：<ul>
<li>均匀分布<ul>
<li>向<span class="arithmatex">\((a,b)\)</span>区间内随机取点</li>
<li>每一点是等可能的，即<span class="arithmatex">\(P(X = x) = 0\)</span></li>
<li>则<span class="arithmatex">\(P(X \in A) = \frac{m(A)}{m(\Omega)} = \frac{|A|}{b-a}\)</span></li>
</ul>
</li>
<li>指数分布<ul>
<li><span class="arithmatex">\(X\)</span>取非负实数，<span class="arithmatex">\(f(x) = \begin{cases} \lambda e^{-\lambda x} &amp; x \geq 0 \\ 0 &amp; x &lt; 0 \end{cases}\)</span></li>
<li><span class="arithmatex">\(P(X \gt x) = e^{-\lambda x}\)</span></li>
<li>通常用于描述使用寿命等（使用寿命大于x的概率是<span class="arithmatex">\(e^{-\lambda x}\)</span>）</li>
<li>无记忆性：<span class="arithmatex">\(P(X \gt s+t|X \gt s) = P(X \gt t)\)</span></li>
</ul>
</li>
<li>正态分布<ul>
<li><span class="arithmatex">\(X\)</span>取实数，<span class="arithmatex">\(f(x) = \frac{1}{\sqrt{2\pi}\sigma}e^{-\frac{(x-\mu)^2}{2\sigma^2}}\)</span></li>
<li>记为<span class="arithmatex">\(N(\mu,\sigma^2)\)</span></li>
<li>对标准正态分布，<span class="arithmatex">\(\mu = 0, \sigma = 1\)</span>，则<span class="arithmatex">\(P(X \leq x) = \Phi(x)\)</span></li>
<li>对于一般的<span class="arithmatex">\(\xi\)</span> ~ <span class="arithmatex">\(N(\mu,\sigma^2)\)</span>，记<span class="arithmatex">\(Z = \frac{\xi - \mu}{\sigma}\)</span>，则<span class="arithmatex">\(Z\)</span> ~ <span class="arithmatex">\(N(0,1)\)</span>, <span class="arithmatex">\(P(\xi \leq x) = \Phi(\frac{x-\mu}{\sigma})\)</span></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="notes-mathematicsandphysics-probability-_6">一般随机变量<a class="headerlink" href="#notes-mathematicsandphysics-probability-_6" title="Permanent link">&para;</a></h3>
<details class="example">
<summary>example</summary>
<p><span class="arithmatex">\(P(X=0) = \frac{1}{2}\)</span><br />
<span class="arithmatex">\(P(X&gt;x) = \frac{1}{2} e^{-x}, x \geq 0\)</span></p>
</details>
<h2 id="notes-mathematicsandphysics-probability-_7">随机向量<a class="headerlink" href="#notes-mathematicsandphysics-probability-_7" title="Permanent link">&para;</a></h2>
<p>给定概率空间<span class="arithmatex">\((\Omega, \mathcal{F}, P)\)</span>，定义在其上的随机向量<span class="arithmatex">\(\xi = (\xi_1,\xi_2,\cdots,\xi_n)\)</span>，其中<span class="arithmatex">\(\xi_i\)</span>是定义在<span class="arithmatex">\((\Omega, \mathcal{F}, P)\)</span>上的随机变量。</p>
<h3 id="notes-mathematicsandphysics-probability-_8">离散型随机向量<a class="headerlink" href="#notes-mathematicsandphysics-probability-_8" title="Permanent link">&para;</a></h3>
<p>假定<span class="arithmatex">\(X\)</span>取值为<span class="arithmatex">\(x_1,x_2,\cdots,x_n\)</span>，<span class="arithmatex">\(Y\)</span>取值为<span class="arithmatex">\(y_1,y_2,\cdots,y_m\)</span>，则记<span class="arithmatex">\(P(X=x_i,Y=y_j) = p_{ij}, i,j = 1,2...\)</span>。</p>
<p>有<span class="arithmatex">\(\Sigma p_{ij} = 1\)</span>，<span class="arithmatex">\(p_{ij} \geq 0\)</span>。</p>
<h4 id="notes-mathematicsandphysics-probability-_9">联合分布<a class="headerlink" href="#notes-mathematicsandphysics-probability-_9" title="Permanent link">&para;</a></h4>
<p><span class="arithmatex">\(P(X&lt;x,Y&lt;y) = \Sigma_{i:x_i&lt;x,j:y_j&lt;y}p_{ij}\)</span></p>
<h4 id="notes-mathematicsandphysics-probability-_10">边际分布<a class="headerlink" href="#notes-mathematicsandphysics-probability-_10" title="Permanent link">&para;</a></h4>
<p><span class="arithmatex">\(X,Y\)</span>的分布可由<span class="arithmatex">\(p_{ij}\)</span>得到。</p>
<p><span class="arithmatex">\(P(X=x_i) = p_{i\cdot} = \Sigma_{j=1}^{\infty}p_{ij}\)</span>，且<span class="arithmatex">\(\Sigma p_{i\cdot} = 1\)</span></p>
<p>类似可得Y</p>
<div class="admonition note">
<p class="admonition-title">联合分布与边际分布</p>
<ul>
<li>联合分布：<span class="arithmatex">\(P(X=x_i,Y=y_j) = p_{ij}\)</span></li>
<li>边际分布：<span class="arithmatex">\(P(X=x_i) = p_{i\cdot}\)</span></li>
<li>边际分布由联合分布唯一确定，但边际分布不能唯一决定联合分布。</li>
</ul>
</div>
<div class="admonition note">
<p class="admonition-title">卷积公式</p>
<p>假设<span class="arithmatex">\(X,Y\)</span>相互独立，密度函数分别为<span class="arithmatex">\(f_X(x),f_Y(y)\)</span>，则<span class="arithmatex">\(Z = X+Y\)</span>的密度函数为<span class="arithmatex">\(f_Z(z) = \int_{-\infty}^{+\infty}f_X(x)f_Y(z-x)dx\)</span></p>
</div>
<div class="admonition note">
<p class="admonition-title">e.g.</p>
<p><img alt="example" src="../notes/MathematicsAndPhysics/assets/PT6.png" /></p>
</div>
<h4 id="notes-mathematicsandphysics-probability-_11">条件分布<a class="headerlink" href="#notes-mathematicsandphysics-probability-_11" title="Permanent link">&para;</a></h4>
<p>给定<span class="arithmatex">\(X=x_i\)</span>的情况下，<span class="arithmatex">\(Y\)</span>可取值<span class="arithmatex">\(y_1,y_2,\cdots\)</span></p>
<p>概率为<span class="arithmatex">\(P(Y=y_j|X=x_i) = \frac{P(X=x_i,Y=y_j)}{P(X=x_i)} = \frac{p_{ij}}{p_{i\cdot}}\)</span></p>
<p>条件分布列<span class="arithmatex">\(Y|X = x_i ~ \begin{cases} y_1 &amp; y_2 &amp; \cdots \\ \frac{p_{i1}}{p_{i\cdot}} &amp; \frac{p_{i2}}{p_{i\cdot}} &amp; \cdots \end{cases}\)</span></p>
<p>类似可得<span class="arithmatex">\(X|Y = y_j\)</span></p>
<h4 id="notes-mathematicsandphysics-probability-_12">独立性<a class="headerlink" href="#notes-mathematicsandphysics-probability-_12" title="Permanent link">&para;</a></h4>
<p>假设<span class="arithmatex">\((X,Y)\)</span>是如上所述的独立性随机向量，若<span class="arithmatex">\(\forall i,j\)</span>有<span class="arithmatex">\(P(X=x_i,Y=y_j) = P(X=x_i)P(Y=y_j)\)</span>，则称<span class="arithmatex">\((X,Y)\)</span>是独立的。</p>
<h3 id="notes-mathematicsandphysics-probability-_13">连续型随机向量<a class="headerlink" href="#notes-mathematicsandphysics-probability-_13" title="Permanent link">&para;</a></h3>
<p>给定概率空间<span class="arithmatex">\((\Omega, \mathcal{F}, P)\)</span>，<span class="arithmatex">\((X,Y)\)</span>是定义在其上的随机向量，若存在<span class="arithmatex">\(p(x,y) \ge 0\)</span>使得<span class="arithmatex">\(\int_{-\infty}^{+\infty}\int_{-\infty}^{+\infty}p(x,y)dxdy = 1\)</span>，且对于任何Borel集<span class="arithmatex">\(A,B\)</span>有<span class="arithmatex">\(P(X \in A, Y \in B) = \int_{A}\int_{B}p(x,y)dxdy\)</span>，则称<span class="arithmatex">\((X,Y)\)</span>是连续型随机向量，具有密度函数<span class="arithmatex">\(p(x,y)\)</span>。</p>
<p>特别的，对任意<span class="arithmatex">\(x,y \in R\)</span>，<span class="arithmatex">\(P(X&lt;x,Y&lt;y) = \int_{-\infty}^{x}\int_{-\infty}^{y}p(u,v)dudv\)</span>。</p>
<h4 id="notes-mathematicsandphysics-probability-_14">边际分布<a class="headerlink" href="#notes-mathematicsandphysics-probability-_14" title="Permanent link">&para;</a></h4>
<p>显然，若<span class="arithmatex">\((X,Y)\)</span>是连续型随机向量，则<span class="arithmatex">\(X,Y\)</span>也是连续型随机变量，其边际分布为<span class="arithmatex">\(p_X(x) = \int_{-\infty}^{+\infty}p(x,y)dy\)</span>，<span class="arithmatex">\(p_Y(y) = \int_{-\infty}^{+\infty}p(x,y)dx\)</span>。</p>
<p>同样也有，联合分布唯一决定边际分布，但边际分布不能唯一决定联合分布。</p>
<div class="admonition note">
<p class="admonition-title">例</p>
<ul>
<li>矩形上的均匀分布<ul>
<li>假设矩形<span class="arithmatex">\((a,b) \times (c,d)\)</span>，如果随机向量<span class="arithmatex">\((X,Y)\)</span>具有密度函数<span class="arithmatex">\(p(x,y) = \begin{cases} \frac{1}{(b-a)(d-c)} &amp; a \leq x \leq b, c \leq y \leq d \\ 0 &amp; \text{其他} \end{cases}\)</span>，则称<span class="arithmatex">\((X,Y)\)</span>在矩形上服从均匀分布。</li>
<li>于是有<span class="arithmatex">\(P(X&lt;x) = P(X&lt;x,Y&lt;\infty) = \int_{-\infty}^{x}\int_{-\infty}^{+\infty}p(u,v)dudv = \int_{a}^{x}\int_{c}^{d}\frac{1}{(b-a)(d-c)}dudv = \begin{cases} 0 &amp; x \leq a \\ \frac{x-a}{b-a} &amp; a \leq x \leq b \\ 1 &amp; x \geq b \end{cases}\)</span></li>
<li>因此<span class="arithmatex">\(X\)</span>是<span class="arithmatex">\((a,b)\)</span>上的均匀分布，<span class="arithmatex">\(Y\)</span>是<span class="arithmatex">\((c,d)\)</span>上的均匀分布。</li>
</ul>
</li>
<li>联合正态分布<ul>
<li>若<span class="arithmatex">\((X,Y)\)</span>具有密度函数<span class="arithmatex">\(p(x,y) = \frac{1}{2\pi\sigma_1\sigma_2\sqrt{1-\rho^2}}e^{-\frac{1}{2(1-\rho^2)}[\frac{(x-\mu_1)^2}{\sigma_1^2}-2\rho\frac{(x-\mu_1)(y-\mu_2)}{\sigma_1\sigma_2}+\frac{(y-\mu_2)^2}{\sigma_2^2}]}\)</span>，则称<span class="arithmatex">\((X,Y)\)</span>服从联合正态分布。<span class="arithmatex">\((X,Y)\)</span>~<span class="arithmatex">\(N(\mu_1,\mu_2,\sigma_1^2,\sigma_2^2,\rho)\)</span></li>
<li>边际分布：经过计算，<span class="arithmatex">\(X\)</span>~<span class="arithmatex">\(p_X(x) = \int_{-\infty}^{+\infty}p(x,y)dy = \frac{1}{\sqrt{2\pi}\sigma_1}e^{-\frac{(x-\mu_1)^2}{2\sigma_1^2}}\)</span>，<span class="arithmatex">\(Y\)</span>同理。</li>
</ul>
</li>
</ul>
</div>
<h4 id="notes-mathematicsandphysics-probability-_15">条件分布<a class="headerlink" href="#notes-mathematicsandphysics-probability-_15" title="Permanent link">&para;</a></h4>
<h3 id="notes-mathematicsandphysics-probability-_16">随机向量的计算与变换<a class="headerlink" href="#notes-mathematicsandphysics-probability-_16" title="Permanent link">&para;</a></h3>
<h3 id="notes-mathematicsandphysics-probability-_17">极值随机变量<a class="headerlink" href="#notes-mathematicsandphysics-probability-_17" title="Permanent link">&para;</a></h3>
<p>假设<span class="arithmatex">\(X_1,X_2,\cdots,X_n\)</span>是随机变量，对<span class="arithmatex">\(\omega \in \Omega\)</span>，将<span class="arithmatex">\(X_1(\omega),X_2(\omega),\cdots,X_n(\omega)\)</span>进行排序，得到<span class="arithmatex">\(X_{(1)}(\omega) \leq X_{(2)}(\omega) \leq \cdots \leq X_{(n)}(\omega)\)</span>，则称<span class="arithmatex">\(X_{(1)},X_{(2)},\cdots,X_{(n)}\)</span>是次序随机变量，其中<span class="arithmatex">\(X_{(1)}\)</span>称为极小值，<span class="arithmatex">\(X_{(n)}\)</span>称为极大值，<span class="arithmatex">\(X_{(k)}\)</span>称为第k小值。</p>
<h4 id="notes-mathematicsandphysics-probability-_18">极值分布<a class="headerlink" href="#notes-mathematicsandphysics-probability-_18" title="Permanent link">&para;</a></h4>
<p><img alt="" src="../notes/MathematicsAndPhysics/assets/PT1.png" />
<img alt="" src="../notes/MathematicsAndPhysics/assets/PT2.png" />
<img alt="" src="../notes/MathematicsAndPhysics/assets/PT3.png" /></p>
<h2 id="notes-mathematicsandphysics-probability-_19">数学期望<a class="headerlink" href="#notes-mathematicsandphysics-probability-_19" title="Permanent link">&para;</a></h2>
<ul>
<li>离散型随机变量：<span class="arithmatex">\(E(X) = \sum_{i=1}^{\infty}x_i P(X=x_i)\)</span><ul>
<li>退化分布：<span class="arithmatex">\(E(X) = x_0\)</span></li>
<li>两点分布：<span class="arithmatex">\(E(X) = p\)</span></li>
<li>二项分布：<span class="arithmatex">\(E(X) = np\)</span></li>
<li>Possion分布：<span class="arithmatex">\(E(X) = \lambda\)</span></li>
<li>几何分布(<span class="arithmatex">\(P(X=k) = p(1-p)^{k-1}\)</span>)：<span class="arithmatex">\(E(X) = \frac{1}{p}\)</span></li>
</ul>
</li>
<li>连续型随机变量：<span class="arithmatex">\(E(X) = \int_{-\infty}^{+\infty}xf(x)dx\)</span><ul>
<li>均匀分布：<span class="arithmatex">\(E(X) = \frac{a+b}{2}\)</span></li>
<li>指数分布：<span class="arithmatex">\(E(X) = \frac{1}{\lambda}\)</span></li>
<li>正态分布：<span class="arithmatex">\(E(X) = 0\)</span></li>
</ul>
</li>
</ul>
<h3 id="notes-mathematicsandphysics-probability-_20">数学期望性质<a class="headerlink" href="#notes-mathematicsandphysics-probability-_20" title="Permanent link">&para;</a></h3>
<ul>
<li><span class="arithmatex">\(E(aX+b) = aE(X)+b\)</span></li>
<li><span class="arithmatex">\(E(X+Y) = E(X) + E(Y)\)</span></li>
<li>对于独立的<span class="arithmatex">\(X,Y\)</span>，其乘积期望等于期望乘积：<span class="arithmatex">\(E(XY) = E(X)E(Y)\)</span></li>
</ul>
<h2 id="notes-mathematicsandphysics-probability-_21">方差<a class="headerlink" href="#notes-mathematicsandphysics-probability-_21" title="Permanent link">&para;</a></h2>
<p><span class="arithmatex">\(Var(X) = E((X-E(X))^2)\)</span>（定义）<span class="arithmatex">\(= E(X^2) - E^2 (X)\)</span>（平方的期望-期望的平方）</p>
<ul>
<li>由此可以得到一种计算“平方的期望”的方法：<span class="arithmatex">\(E(X^2) = E^2 (X) + Var(X)\)</span></li>
</ul>
<div class="admonition example">
<p class="admonition-title">例题</p>
<ul>
<li>证明：如果<span class="arithmatex">\(X,Y\)</span>独立，那么<span class="arithmatex">\(Var(XY) = Var(X)Var(Y) + Var(X)E^2 (Y) + Var(Y)E^2 (X)\)</span><ul>
<li><span class="arithmatex">\(Var(XY) = E(X^2 Y^2) - E^2(XY)\)</span></li>
<li><span class="arithmatex">\(= E(X^2)E(Y^2)\)</span>（由于<span class="arithmatex">\(X,Y\)</span>独立，其平方也独立）<span class="arithmatex">\(- E^2(X)E^2(Y)\)</span></li>
<li><span class="arithmatex">\(= (E^2 (X) + Var(X))(E^2 (Y) + Var(Y)) - E^2(X)E^2(Y)\)</span></li>
<li><span class="arithmatex">\(= Var(X)Var(Y) + Var(X)E^2 (Y) + Var(Y)E^2 (X)\)</span></li>
</ul>
</li>
</ul>
</div>
<ul>
<li>二项分布：<span class="arithmatex">\(Var(X) = np(1-p)\)</span></li>
<li>几何分布：<span class="arithmatex">\(Var(X) = \frac{1-p}{p^2}\)</span></li>
<li>Possion分布：<span class="arithmatex">\(Var(X) = \lambda\)</span></li>
<li>均匀分布：<span class="arithmatex">\(Var(X) = \frac{(b-a)^2}{12}\)</span></li>
<li>指数分布：<span class="arithmatex">\(Var(X) = \frac{1}{\lambda^2}\)</span></li>
<li>正态分布：<span class="arithmatex">\(Var(X) = \sigma^2\)</span></li>
</ul>
<h3 id="notes-mathematicsandphysics-probability-_22">方差性质<a class="headerlink" href="#notes-mathematicsandphysics-probability-_22" title="Permanent link">&para;</a></h3>
<ul>
<li><span class="arithmatex">\(Var(aX+b) = a^2Var(X)\)</span></li>
<li><span class="arithmatex">\(Var(X+Y) = Var(X) + Var(Y) + 2Cov(X,Y)\)</span>，其中<span class="arithmatex">\(Cov(X,Y) = E(XY) - E(X)E(Y)\)</span>（协方差）</li>
<li>对于独立的<span class="arithmatex">\(X,Y\)</span>，<span class="arithmatex">\(Cov(X,Y) = 0\)</span>，于是和的方差等于方差之和<span class="arithmatex">\(Var(X+Y) = Var(X) + Var(Y)\)</span></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Chebyshev不等式</p>
<p>对任意随机变量<span class="arithmatex">\(X\)</span>，有<span class="arithmatex">\(P(|X-E(X)| \gt \varepsilon) \leq \frac{Var(X)}{\varepsilon^2}\)</span></p>
</div>
<h2 id="notes-mathematicsandphysics-probability-_23">协方差和相关系数<a class="headerlink" href="#notes-mathematicsandphysics-probability-_23" title="Permanent link">&para;</a></h2>
<p>都是对于两个随机变量的概念</p>
<ul>
<li>定义均值向量：<span class="arithmatex">\(\vec{\mu} = (EX, EY)\)</span></li>
<li>协方差：<span class="arithmatex">\(Cov(X,Y) = E[(X-E(X))(Y-E(Y))] = E(XY) - E(X)E(Y)\)</span><ul>
<li><span class="arithmatex">\(Cov(X,X) = Var(X)\)</span></li>
<li><span class="arithmatex">\(Cov(X,c) = 0\)</span></li>
<li><span class="arithmatex">\(Cov(aX,bY) = abCov(X,Y)\)</span></li>
<li><span class="arithmatex">\(Cov(X_1 + X_2, Y) = Cov(X_1,Y) + Cov(X_2,Y)\)</span></li>
</ul>
</li>
<li>相关系数：<span class="arithmatex">\(\rho_{XY} = \frac{Cov(X,Y)}{\sqrt{Var(X)Var(Y)}}\)</span><ul>
<li>性质：</li>
<li><img alt="相关系数性质" src="../notes/MathematicsAndPhysics/assets/PT7.png" /></li>
</ul>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">柯西施瓦兹不等式</p>
<p><span class="arithmatex">\(E[|X-E(X)||Y-E(Y)|] \leq \sqrt{E^2 [X-E(X)] E^2 [Y-E(Y)]}\)</span></p>
</div>
<h3 id="notes-mathematicsandphysics-probability-_24">协方差矩阵<a class="headerlink" href="#notes-mathematicsandphysics-probability-_24" title="Permanent link">&para;</a></h3>
<p>若<span class="arithmatex">\(X,Y\)</span>的方差存在，定义<span class="arithmatex">\(\Sigma = \begin{pmatrix}Var(X) \space Cov(X,Y)\\Cov(X,Y) \space Var(Y)\end{pmatrix}\)</span>为协方差矩阵</p>
<p>我们知道如果<span class="arithmatex">\(X,Y\)</span>独立，那么<span class="arithmatex">\(Cov(X,Y) = 0\)</span>，但是反过来就不成立了，那么如果反过来，<span class="arithmatex">\(Cov(X,Y) = 0\)</span>，称<span class="arithmatex">\(X,Y\)</span>不相关。</p>
<h3 id="notes-mathematicsandphysics-probability-_25">全期望公式<a class="headerlink" href="#notes-mathematicsandphysics-probability-_25" title="Permanent link">&para;</a></h3>
<p><span class="arithmatex">\(E(E(X|Y)) = E(X)\)</span>，以及<span class="arithmatex">\(E(E(Y|X)) = E(Y)\)</span></p>
<p>证明：</p>
<p><img alt="全期望公式证明" src="../notes/MathematicsAndPhysics/assets/PT4.png" /></p>
<h2 id="notes-mathematicsandphysics-probability-_26">矩<a class="headerlink" href="#notes-mathematicsandphysics-probability-_26" title="Permanent link">&para;</a></h2>
<ul>
<li><span class="arithmatex">\(k\)</span>阶原点矩：<span class="arithmatex">\(E(X^k)\)</span></li>
<li><span class="arithmatex">\(k\)</span>阶中心矩：<span class="arithmatex">\(E((X-E(X))^k)\)</span></li>
</ul>
<p>常见的一些分布的矩：</p>
<ul>
<li><span class="arithmatex">\(X\)</span> ~ <span class="arithmatex">\(N(0,\sigma^2): E(x^{2k}) = (2k-1)!!\sigma^{2k}\)</span></li>
<li><span class="arithmatex">\(X\)</span> ~ <span class="arithmatex">\(P(\lambda): E(X^k) = \lambda^k\)</span></li>
</ul>
<h2 id="notes-mathematicsandphysics-probability-_27">特征函数<a class="headerlink" href="#notes-mathematicsandphysics-probability-_27" title="Permanent link">&para;</a></h2>
<ul>
<li>定义：<span class="arithmatex">\(\varphi(t) = E(e^{itX}) = E \cos(tX) + iE \sin(tX), t \in R\)</span></li>
<li>若<span class="arithmatex">\(X\)</span> ~ <span class="arithmatex">\(F(x)\)</span>，则<span class="arithmatex">\(\varphi(t) = \int_{-\infty}^{+\infty}e^{itx}f(x)dx = \int_{-\infty}^{+\infty}e^{itx}dF(x)\)</span></li>
</ul>
<h3 id="notes-mathematicsandphysics-probability-_28">性质<a class="headerlink" href="#notes-mathematicsandphysics-probability-_28" title="Permanent link">&para;</a></h3>
<ul>
<li><span class="arithmatex">\(\varphi(0) = 1\)</span></li>
<li><span class="arithmatex">\(|\varphi(t)| \leq 1 = \varphi(0)\)</span></li>
<li><span class="arithmatex">\(\varphi(-t) = \overline{\varphi(t)}\)</span></li>
<li><span class="arithmatex">\(\varphi(t)\)</span>在<span class="arithmatex">\(R\)</span>上一致连续</li>
</ul>
<p>令<span class="arithmatex">\(\varphi_X(t) = E(e^{itX})\)</span>，则有：<span class="arithmatex">\(E(e^{it(aX+c)}) = e^{itc}\varphi_X(at)\)</span></p>
<p>若<span class="arithmatex">\(X,Y\)</span>独立，则<span class="arithmatex">\(Z = X+Y\)</span>的特征函数为<span class="arithmatex">\(\varphi_Z(t) = \varphi_X(t)\varphi_Y(t)\)</span>，可推广到N个独立随机变量。</p>
<h2 id="notes-mathematicsandphysics-probability-_29">概率极限理论<a class="headerlink" href="#notes-mathematicsandphysics-probability-_29" title="Permanent link">&para;</a></h2>
<p>以下三个定理（伯努利大数定律，中心极限定理，Poisson 极限定理）只涉及伯努利试验：</p>
<h3 id="notes-mathematicsandphysics-probability-_30">伯努利大数定律<a class="headerlink" href="#notes-mathematicsandphysics-probability-_30" title="Permanent link">&para;</a></h3>
<div class="admonition definition">
<p class="admonition-title">大数律</p>
<p>若<span class="arithmatex">\(S_n\)</span> ~ <span class="arithmatex">\(B(n,p)\)</span>，则<span class="arithmatex">\(n \to \infty\)</span>时，<span class="arithmatex">\(\frac{S_n}{n} \to p\)</span>。</p>
</div>
<p>伯努利大数律：<span class="arithmatex">\(P(\omega: |\frac{S_n(\omega)}{n} - p| \gt \varepsilon) \to 0, n \to \infty\)</span></p>
<ul>
<li>这解释了频率接近概率的现象</li>
<li>引入了依概率收敛的概念<ul>
<li><img alt="依概率收敛" src="../notes/MathematicsAndPhysics/assets/PT5.png" /></li>
</ul>
</li>
</ul>
<h3 id="notes-mathematicsandphysics-probability-_31">拉普拉斯中心极限定理<a class="headerlink" href="#notes-mathematicsandphysics-probability-_31" title="Permanent link">&para;</a></h3>
<h3 id="notes-mathematicsandphysics-probability-poisson">Poisson 极限定理<a class="headerlink" href="#notes-mathematicsandphysics-probability-poisson" title="Permanent link">&para;</a></h3></section><section class="print-page" id="notes-mathematicsandphysics-physics2" heading-number="4.4.6"><nav class='md-tags'><span class='md-tag'>大二上笔记</span></nav><blockquote>
<p>全家丝光的课</p>
</blockquote>
<h1 id="notes-mathematicsandphysics-physics2-iih">普通物理学Ⅱ（H）<a class="headerlink" href="#notes-mathematicsandphysics-physics2-iih" title="Permanent link">&para;</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 4750 个字 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 17H7V3h14m0-2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2M3 5H1v16a2 2 0 0 0 2 2h16v-2H3m12.96-10.71-2.75 3.54-1.96-2.36L8.5 15h11z"/></svg></span> 48 张图片 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 14 分钟</p>
</div>
<blockquote>
<p>任课教师：王业伍</p>
</blockquote>
<div class="admonition note">
<p class="admonition-title">Ref &amp; Credit</p>
<p>不好，有神：<a href="https://www.kailqq.cc/NOTE/Physics/">https://www.kailqq.cc/NOTE/Physics/</a><br />
配享太庙：<a href="https://savia7582.github.io/Exterior/Physics/2/">https://savia7582.github.io/Exterior/Physics/2/</a><br />
一天入门半学期：<a href="https://space.bilibili.com/522385498/upload/video/">https://space.bilibili.com/522385498/upload/video/</a></p>
</div>
<h2 id="notes-mathematicsandphysics-physics2-_1">电磁学<a class="headerlink" href="#notes-mathematicsandphysics-physics2-_1" title="Permanent link">&para;</a></h2>
<p>电偶极子：一对间距为<span class="arithmatex">\(d\)</span>，电荷量为<span class="arithmatex">\(q\)</span>的异号电荷构成的偶极子。<br />
电偶极矩：<span class="arithmatex">\(\overrightarrow{p}=q \overrightarrow{d}\)</span>。</p>
<h3 id="notes-mathematicsandphysics-physics2-flux">Flux 通量<a class="headerlink" href="#notes-mathematicsandphysics-physics2-flux" title="Permanent link">&para;</a></h3>
<p><img alt="" src="../notes/MathematicsAndPhysics/assets/GP.png" /></p>
<p>立体角：<span class="arithmatex">\(d\overrightarrow{A} = r^2 d\Omega\)</span>，等号左侧为面积微元，也等于 <span class="arithmatex">\(dA \cdot \overrightarrow{n}\)</span>，其中 <span class="arithmatex">\(\overrightarrow{n}\)</span> 为单位法向量。</p>
<p><img alt="" src="../notes/MathematicsAndPhysics/assets/GP-2.png" /></p>
<h4 id="notes-mathematicsandphysics-physics2-gauss">Gauss 定理<a class="headerlink" href="#notes-mathematicsandphysics-physics2-gauss" title="Permanent link">&para;</a></h4>
<p>电通量：<span class="arithmatex">\(\Phi = \int \overrightarrow{E} \cdot d\overrightarrow{A} = \frac{\Sigma q}{\varepsilon_0}\)</span>，其中<span class="arithmatex">\(q\)</span>为闭合曲面内包含的电荷量。</p>
<div class="admonition example">
<p class="admonition-title">例</p>
<ol>
<li>无限长均匀带电线（<span class="arithmatex">\(L \gt \gt R\)</span>的圆柱），线密度为<span class="arithmatex">\(\lambda\)</span>，求距其轴心<span class="arithmatex">\(r\)</span>处的电场强度。<br />
<img alt="" src="../notes/MathematicsAndPhysics/assets/GP-3.png" /><br />
    选取r处长为<span class="arithmatex">\(h\)</span>的圆柱面，此时所有面积微元处的电场强度大小是一样的，则有<span class="arithmatex">\(E \cdot 2\pi rh = \frac{\lambda h}{\varepsilon_0}\)</span>，所以<span class="arithmatex">\(E = \frac{\lambda}{2\pi \varepsilon_0 r}\)</span>。</li>
<li>无限大带电平面
    <img alt="" src="../notes/MathematicsAndPhysics/assets/GP-4.png" /></li>
<li>均匀带电球壳
    <img alt="" src="../notes/MathematicsAndPhysics/assets/GP-5.png" /></li>
</ol>
</div>
<p>Gauss 定理和库仑定律求电场强度：</p>
<p><img alt="" src="../notes/MathematicsAndPhysics/assets/GP-6.png" /></p>
<h3 id="notes-mathematicsandphysics-physics2-_2">电势<a class="headerlink" href="#notes-mathematicsandphysics-physics2-_2" title="Permanent link">&para;</a></h3>
<p>半径为R，带电量q的均匀带电球壳（r&gt;R）：<span class="arithmatex">\(U(r) = \int_r^{\infty} \frac{kq}{r^2} dr = \frac{kq}{r}\)</span>。</p>
<h3 id="notes-mathematicsandphysics-physics2-_3">电容<a class="headerlink" href="#notes-mathematicsandphysics-physics2-_3" title="Permanent link">&para;</a></h3>
<p>半径为<span class="arithmatex">\(r\)</span>的孤立球形导体：<span class="arithmatex">\(C = \frac{q}{U} = 4\pi \varepsilon_0 r\)</span>。</p>
<ul>
<li>平行板：</li>
<li><img alt="" src="../notes/MathematicsAndPhysics/assets/GP-8.png" /></li>
<li>圆柱形电容：</li>
<li><img alt="" src="../notes/MathematicsAndPhysics/assets/GP-9.png" /></li>
<li>球状电容：</li>
<li><img alt="" src="../notes/MathematicsAndPhysics/assets/GP-10.png" /></li>
</ul>
<p>并联总电容：<span class="arithmatex">\(C = \Sigma C_i\)</span>。串联总电容：<span class="arithmatex">\(\frac{1}{C} = \Sigma \frac{1}{C_i}\)</span>。</p>
<div class="admonition example">
<p class="admonition-title">例</p>
<p><img alt="" src="../notes/MathematicsAndPhysics/assets/GP-11.png" /></p>
</div>
<h3 id="notes-mathematicsandphysics-physics2-_4">极化<a class="headerlink" href="#notes-mathematicsandphysics-physics2-_4" title="Permanent link">&para;</a></h3>
<p>介电体处于电场中时，会在内部产生极化电荷，从而减小电场强度。极化电场<span class="arithmatex">\(E_p = \frac{E}{k_e}\)</span>。<span class="arithmatex">\(k_e\)</span>称为相对介电常数（Relative dielectric constant）。</p>
<p>有了介电体后，电容变为<span class="arithmatex">\(C = k_e \varepsilon_0 \frac{S}{d}\)</span>。</p>
<p><img alt="" src="../notes/MathematicsAndPhysics/assets/GP-12.png" /></p>
<p>考虑真空中两个由无数电偶极子组成的平行圆板，如上图所示，定义极化强度矢量<span class="arithmatex">\(\overrightarrow{P} = \frac{\Sigma \overrightarrow{p}}{V}\)</span>（<span class="arithmatex">\(\overrightarrow{p}\)</span>为电偶极矩，<span class="arithmatex">\(\Delta V\)</span> 为囊括的体积），则有<span class="arithmatex">\(\overrightarrow{P} = \varepsilon_0 \chi_e \overrightarrow{E}\)</span>，其中<span class="arithmatex">\(\chi_e\)</span>为电极化率。</p>
<p><span class="arithmatex">\(\chi_e + 1 = k_e\)</span></p>
<p>有<span class="arithmatex">\(\iint P dA = \Sigma_{out} q' = -\Sigma_{in} q'\)</span></p>
<p>极化强度矢量与闭合曲面的内积积分等于该曲面表面的束缚电荷，等于该曲面内部电荷的相反数(外面有多少正的，里面就有多少负的)</p>
<p>这里的<span class="arithmatex">\(q'\)</span>是极化电荷！所以这个不是高斯定理。</p>
<p>同时有面电荷密度<span class="arithmatex">\(\sigma' = P \cdot n\)</span>，等于极化强度矢量在法向上的分量；由夹角来控制正负。</p>
<h4 id="notes-mathematicsandphysics-physics2-gauss_1">介电质中的 Gauss 定理<a class="headerlink" href="#notes-mathematicsandphysics-physics2-gauss_1" title="Permanent link">&para;</a></h4>
<p>（照抄<kailqq.cc>）</p>
<p>考虑一个正电荷<span class="arithmatex">\(q_0\)</span>放在电介质中，其周围会产生极化电荷<span class="arithmatex">\(q'\)</span></p>
<p>由正宗的高斯定理得到 <span class="arithmatex">\(\iint E d A = \frac{q_0 + q'}{\epsilon_0}\)</span> </p>
<p>而由极化电荷和强度矢量的性质有 <span class="arithmatex">\(\iint P d A = -q'\)</span></p>
<p>代入得到<span class="arithmatex">\(\epsilon_0 \iint E dA = q_0 - \iint P d A\)</span></p>
<p>尝试表示<span class="arithmatex">\(q_0\)</span>：<span class="arithmatex">\(q_0 = \iint (\epsilon_0 E + P) dA\)</span></p>
<p>于是定义<span class="arithmatex">\(D = \epsilon_0 E + P\)</span>为电位移矢量</p>
<p>这说明电位移矢量与闭合曲面内积面积分等于该曲面内的<strong>自由电荷</strong>（非极化）之和</p>
<p><img alt="" src="../notes/MathematicsAndPhysics/assets/gp27.png" /></p>
<div class="admonition example">
<p class="admonition-title">例</p>
<p><img alt="" src="../notes/MathematicsAndPhysics/assets/GP-13.png" /><br />
求这个具有两层介电体的电容以及表面的电荷密度。</p>
</div>
<h4 id="notes-mathematicsandphysics-physics2-_5">电容器中的能量<a class="headerlink" href="#notes-mathematicsandphysics-physics2-_5" title="Permanent link">&para;</a></h4>
<p>考虑一个平行板电容器，其电容为 <span class="arithmatex">\(C\)</span>，电压为 <span class="arithmatex">\(V\)</span> ，则其具有的能量相当于从负极板不断将电荷移动到正极板，这样的过程中克服电场力所做的功</p>
<p><span class="arithmatex">\(W = \int_0^Q V dq = \frac{1}{2} C V^2\)</span></p>
<p>考虑到平行板电容 <span class="arithmatex">\(C = \frac{\epsilon_0 A}{d}\)</span>，<span class="arithmatex">\(V = ED\)</span></p>
<p>得到能量<span class="arithmatex">\(E = W = \frac{1}{2} \epsilon_0 E^2 A d\)</span></p>
<p>注意到<span class="arithmatex">\(Ad\)</span>是夹在两板之间的体积，定义能量密度<span class="arithmatex">\(\mu = \frac{1}{2} \epsilon_0 E^2\)</span></p>
<h3 id="notes-mathematicsandphysics-physics2-_6">电流<a class="headerlink" href="#notes-mathematicsandphysics-physics2-_6" title="Permanent link">&para;</a></h3>
<p>电流定义：<span class="arithmatex">\(I = \frac{dq}{dt}\)</span>。</p>
<p>电流密度：<span class="arithmatex">\(\overrightarrow{j} = \frac{dI}{dS} \overrightarrow{n}\)</span>。</p>
<p>得到电荷守恒：</p>
<p><img alt="" src="../notes/MathematicsAndPhysics/assets/GP-14.png" /></p>
<p>若 <span class="arithmatex">\(\frac{dq}{dt} = 0\)</span>，则上式为0.</p>
<p>平均而言，电流中电子以<strong>漂移速度</strong><span class="arithmatex">\(v_d\)</span>运动，<span class="arithmatex">\(I = neSv_d\)</span>，则有<span class="arithmatex">\(\overrightarrow{j} = - ne\overrightarrow{v_d}\)</span>。</p>
<h4 id="notes-mathematicsandphysics-physics2-_7">欧姆定律<a class="headerlink" href="#notes-mathematicsandphysics-physics2-_7" title="Permanent link">&para;</a></h4>
<p><img alt="" src="../notes/MathematicsAndPhysics/assets/GP-15.png" />
这里的<span class="arithmatex">\(\sigma\)</span>为电导率，<span class="arithmatex">\(\rho\)</span>为电阻率，<span class="arithmatex">\(\sigma = \frac{1}{\rho}\)</span>。</p>
<h4 id="notes-mathematicsandphysics-physics2-_8">基尔霍夫定律<a class="headerlink" href="#notes-mathematicsandphysics-physics2-_8" title="Permanent link">&para;</a></h4>
<ul>
<li>Junction定律：<span class="arithmatex">\(i = \Sigma i_k\)</span>。</li>
<li>Loop定律：在闭合回路中， <span class="arithmatex">\(\Sigma U_k = \Sigma \epsilon_k + \Sigma i R_k = 0\)</span>。</li>
</ul>
<div class="admonition example">
<p class="admonition-title">例</p>
<p><img alt="" src="../notes/MathematicsAndPhysics/assets/GP-16.png" /><br />
注意这里i1 i2 i3的方向是自己假设的，然后运用基尔霍夫定律进行计算就行了。</p>
</div>
<h4 id="notes-mathematicsandphysics-physics2-rc">RC电路<a class="headerlink" href="#notes-mathematicsandphysics-physics2-rc" title="Permanent link">&para;</a></h4>
<p>结合了电容和电阻的电路。</p>
<ul>
<li>充电时：<img alt="" src="../notes/MathematicsAndPhysics/assets/GP-17.png" /></li>
<li>放电时：<img alt="" src="../notes/MathematicsAndPhysics/assets/GP-18.png" /></li>
</ul>
<h3 id="notes-mathematicsandphysics-physics2-_9">磁场<a class="headerlink" href="#notes-mathematicsandphysics-physics2-_9" title="Permanent link">&para;</a></h3>
<p>高中就不会的霍尔效应：</p>
<p><img alt="" src="../notes/MathematicsAndPhysics/assets/GP-19.png" /></p>
<p>磁场是非保守场，所以没有势能的概念。</p>
<h4 id="notes-mathematicsandphysics-physics2-biot-savart">Biot-Savart 定律<a class="headerlink" href="#notes-mathematicsandphysics-physics2-biot-savart" title="Permanent link">&para;</a></h4>
<p>定义电流元<span class="arithmatex">\(Id\overrightarrow{l}\)</span>，则该电流元产生的磁场大小为<span class="arithmatex">\(d\overrightarrow{B} = \frac{\mu_0}{4\pi} \frac{Id\overrightarrow{l} \times \overrightarrow{r}}{r^3}\)</span>。</p>
<p>则有<span class="arithmatex">\(\overrightarrow{B} = \int d\overrightarrow{B} = \frac{\mu_0}{4\pi} \int \frac{Id\overrightarrow{l} \times \overrightarrow{r}}{r^3}\)</span>。</p>
<p><span class="arithmatex">\(\mu_0 = 4\pi \times 10^{-7} \mathrm{T \cdot m/A}\)</span>。</p>
<p>只适用于恒定电流。</p>
<ul>
<li>真空直导线：<span class="arithmatex">\(B = \frac{\mu_0 I}{2\pi d}\)</span>，其中<span class="arithmatex">\(d\)</span>为导线到点的距离。</li>
<li><img alt="" src="../notes/MathematicsAndPhysics/assets/GP-20.png" /></li>
<li>电流圆环：<span class="arithmatex">\(B = \frac{\mu_0 I R^2}{2(R^2 + z^2)^{3/2}}\)</span>。</li>
<li><img alt="" src="../notes/MathematicsAndPhysics/assets/GP-21.png" /></li>
</ul>
<p><a href="https://blog.csdn.net/weixin_45864618/article/details/106672456">https://blog.csdn.net/weixin_45864618/article/details/106672456</a></p>
<h4 id="notes-mathematicsandphysics-physics2-_10">安培环路定理<a class="headerlink" href="#notes-mathematicsandphysics-physics2-_10" title="Permanent link">&para;</a></h4>
<p><span class="arithmatex">\(\oint \overrightarrow{B} \cdot d\overrightarrow{l} = \mu_0 I\)</span>。</p>
<p>在恒定电流的磁场中，磁感应强度沿任何闭合路径一周的线积分（即环路积分），等于闭合路径内所包围并穿过的电流的代数和的<span class="arithmatex">\(\mu_0\)</span>倍</p>
<p><a href="https://zhuanlan.zhihu.com/p/142376701">https://zhuanlan.zhihu.com/p/142376701</a></p>
<h4 id="notes-mathematicsandphysics-physics2-gauss-ver">Gauss 定理（磁场Ver.）<a class="headerlink" href="#notes-mathematicsandphysics-physics2-gauss-ver" title="Permanent link">&para;</a></h4>
<p><span class="arithmatex">\(\iint B dA = 0\)</span>，<span class="arithmatex">\(A\)</span>为真空中一个闭合曲面。</p>
<h4 id="notes-mathematicsandphysics-physics2-_11">磁偶极矩<a class="headerlink" href="#notes-mathematicsandphysics-physics2-_11" title="Permanent link">&para;</a></h4>
<p><span class="arithmatex">\(\overrightarrow{P_m} = I \overrightarrow{S}\)</span>，其中<span class="arithmatex">\(I\)</span>为电流，<span class="arithmatex">\(\overrightarrow{S}\)</span>平面单回路围起来的面积矢量。</p>
<h3 id="notes-mathematicsandphysics-physics2-_12">法拉第电磁感应定律<a class="headerlink" href="#notes-mathematicsandphysics-physics2-_12" title="Permanent link">&para;</a></h3>
<p>定义磁通量：<span class="arithmatex">\(\Phi = \int \overrightarrow{B} \cdot d\overrightarrow{A}\)</span>。</p>
<p>感生电动势：<span class="arithmatex">\(\varepsilon = -\frac{d\Phi}{dt} = -\iint_S \frac{d\overrightarrow{B}}{dt} \cdot d\overrightarrow{A}\)</span>。</p>
<p>动生电动势：<span class="arithmatex">\(\varepsilon = \int_a^b (\overrightarrow{v} \times \overrightarrow{B}) \cdot d\overrightarrow{l}\)</span>。</p>
<p>发电机：<span class="arithmatex">\(\Phi = BLS \cos \omega t\)</span>，<span class="arithmatex">\(\varepsilon = \omega BLS \sin \omega t\)</span>。</p>
<h3 id="notes-mathematicsandphysics-physics2-_13">电感<a class="headerlink" href="#notes-mathematicsandphysics-physics2-_13" title="Permanent link">&para;</a></h3>
<h4 id="notes-mathematicsandphysics-physics2-_14">自感<a class="headerlink" href="#notes-mathematicsandphysics-physics2-_14" title="Permanent link">&para;</a></h4>
<p>一圈匝数为<span class="arithmatex">\(N\)</span>，横截面<span class="arithmatex">\(S\)</span>的线圈通过电流<span class="arithmatex">\(i\)</span>时会感应出磁场<span class="arithmatex">\(B\)</span>，则有自感系数<span class="arithmatex">\(L = \frac{N\Phi}{i}\)</span>，单位为亨利（1 Henry = 1 T <span class="arithmatex">\(\cdot\)</span> m<span class="arithmatex">\(^2\)</span>/A）。</p>
<p>由电磁感应得到自感电动势：<span class="arithmatex">\(\varepsilon = - \frac{d N \Phi}{dt} = -L \frac{di}{dt}\)</span>。</p>
<div class="admonition example">
<p class="admonition-title">例：通电螺线管</p>
<p><img alt="" src="../notes/MathematicsAndPhysics/assets/gp23.png" /></p>
</div>
<div class="admonition example">
<p class="admonition-title">例：矩形螺绕环</p>
<p><img alt="" src="../notes/MathematicsAndPhysics/assets/gp24.png" /></p>
</div>
<details class="lr回路" open="open">
<summary>Lr回路</summary>
<p>开关连接电源：注意利用回路中总电势变化为0即可，这里定义了自感时间常数<span class="arithmatex">\(\tau = L/R\)</span><br />
<img alt="" src="../notes/MathematicsAndPhysics/assets/gp25.png" /><br />
开关不连电源：同理，这次类似放电<br />
<img alt="" src="../notes/MathematicsAndPhysics/assets/gp26.png" /></p>
</details>
<p>功率：<span class="arithmatex">\(dW=−εdq=−εidt=Lidi\)</span></p>
<p>存储能量：<span class="arithmatex">\(E = \frac{1}{2} L i^2\)</span></p>
<p><img alt="" src="../notes/MathematicsAndPhysics/assets/gp29.png" /></p>
<h4 id="notes-mathematicsandphysics-physics2-_15">互感<a class="headerlink" href="#notes-mathematicsandphysics-physics2-_15" title="Permanent link">&para;</a></h4>
<p>考虑两个共轴（轴长为<span class="arithmatex">\(l\)</span>）的，匝数分别为<span class="arithmatex">\(N_1, N_2\)</span>的，横截面半径都为<span class="arithmatex">\(r\)</span>的线圈，通过线圈1的电流<span class="arithmatex">\(i_1\)</span>产生的磁通量为<span class="arithmatex">\(\mu_0 \frac{N_1}{l} i_1 \pi r^2\)</span></p>
<p>则通过线圈2的磁通量为<span class="arithmatex">\(\Phi_{21} = \mu_0 \frac{N_1 N_2}{l} i_1 \pi r^2\)</span></p>
<p>线圈2产生的互感电动势为<span class="arithmatex">\(\varepsilon_{21} = -\frac{d\Phi_{21}}{dt} = -\mu_0 \frac{N_1 N_2}{l} \pi r^2 \frac{di_1}{dt}\)</span></p>
<p>将此式写成<span class="arithmatex">\(\varepsilon_{21} = -M_{21} \frac{di_1}{dt}\)</span>，其中<span class="arithmatex">\(M_{21} = \mu_0 \frac{N_1 N_2}{l} \pi r^2\)</span>为互感系数。</p>
<p>同理，可得线圈1产生的互感电动势为<span class="arithmatex">\(\varepsilon_{12} = -M_{12} \frac{di_2}{dt}\)</span>，其中<span class="arithmatex">\(M_{12} = \mu_0 \frac{N_1 N_2}{l} \pi r^2\)</span>。</p>
<p>也就是说，<span class="arithmatex">\(M_{12} = M_{21} = M\)</span>，也就是互感系数。</p>
<h4 id="notes-mathematicsandphysics-physics2-_16">磁化<a class="headerlink" href="#notes-mathematicsandphysics-physics2-_16" title="Permanent link">&para;</a></h4>
<p>通电螺线管中插入铁磁材料，可以使得自感系数增大：<span class="arithmatex">\(L = k_m L_0\)</span>，其中<span class="arithmatex">\(k_m\)</span>被称为磁导率。</p>
<p>原本杂乱无章的分子磁矩会受到磁场的作用，使得磁矩方向趋于一致，朝向磁场方向，在宏观上相当于在材料外围产生了一个电流<span class="arithmatex">\(i'\)</span></p>
<p>定义磁化强度矢量<span class="arithmatex">\(M\)</span>为单位体积内磁矩矢量和<span class="arithmatex">\(M = \frac{\Sigma \mu}{V}\)</span></p>
<p>类比电学中的极化，其满足<span class="arithmatex">\(\int M dl = \Sigma_{in} i'\)</span></p>
<p><img alt="" src="../notes/MathematicsAndPhysics/assets/gp28.png" /></p>
<p>则由环路定理 <span class="arithmatex">\(\int B dl = \mu_0 \Sigma (i_0 + i') = \mu_0 \Sigma i_0 + \mu_0 \int M dl\)</span></p>
<p>也就是<span class="arithmatex">\(\int (\frac{B}{\mu_0} - M) dl = \Sigma i_0\)</span></p>
<p>定义磁场强度：<span class="arithmatex">\(H = \frac{B}{\mu_0} - M\)</span></p>
<h3 id="notes-mathematicsandphysics-physics2-_17">麦克斯韦方程组<a class="headerlink" href="#notes-mathematicsandphysics-physics2-_17" title="Permanent link">&para;</a></h3>
<p><img alt="Maxwell" src="../notes/MathematicsAndPhysics/assets/gp50.png" /></p>
<h2 id="notes-mathematicsandphysics-physics2-_18">光学<a class="headerlink" href="#notes-mathematicsandphysics-physics2-_18" title="Permanent link">&para;</a></h2>
<div class="admonition note">
<p class="admonition-title">notation</p>
<ul>
<li><span class="arithmatex">\(p\)</span>：原物体大小</li>
<li><span class="arithmatex">\(I\)</span>：像大小</li>
<li><span class="arithmatex">\(c\)</span>：光速</li>
<li><span class="arithmatex">\(\lambda'\)</span>：波长</li>
<li><span class="arithmatex">\(\theta_i\)</span>：入射角</li>
<li><span class="arithmatex">\(\theta_r\)</span>：反射角</li>
<li><span class="arithmatex">\(u\)</span>：物距</li>
<li><span class="arithmatex">\(v\)</span>：像距</li>
<li><span class="arithmatex">\(r\)</span>：（球面镜）半径</li>
</ul>
</div>
<h3 id="notes-mathematicsandphysics-physics2-intro">Intro: 光的本质<a class="headerlink" href="#notes-mathematicsandphysics-physics2-intro" title="Permanent link">&para;</a></h3>
<ul>
<li>波动性：<span class="arithmatex">\(d \sin \theta = m \lambda\)</span>，此时相长干涉。</li>
<li>
<p>粒子性：<span class="arithmatex">\(\frac{c'}{c} = \frac{p'}{p} = \frac{\lambda'}{\lambda} = \frac{\sin \theta_i}{\sin \theta_r}\)</span>（折射时）</p>
</li>
<li>
<p>反射定律：<span class="arithmatex">\(\theta_i = \theta_r\)</span></p>
</li>
<li>折射定律：<span class="arithmatex">\(n_1 \sin \theta_i = n_2 \sin \theta_r\)</span></li>
<li>折射率：<span class="arithmatex">\(n = \frac{c}{v}\)</span></li>
</ul>
<p>全内反射：<span class="arithmatex">\(n_1 \sin \theta_c = n_2 \sin 90^\circ\)</span>，得到<span class="arithmatex">\(\sin \theta_c = \frac{n_2}{n_1}\)</span>，其中<span class="arithmatex">\(\theta_c\)</span>为临界角，此时折射光线全部消失，只有反射光线。</p>
<h3 id="notes-mathematicsandphysics-physics2-_19">费马原理<a class="headerlink" href="#notes-mathematicsandphysics-physics2-_19" title="Permanent link">&para;</a></h3>
<p>简单理解为 <span class="arithmatex">\(\frac{dt}{dx} = 0\)</span></p>
<ul>
<li>反射定律的证明：</li>
</ul>
<p><img alt="反射定律" src="../notes/MathematicsAndPhysics/assets/gp30.png" /></p>
<ul>
<li>折射定律证明：</li>
</ul>
<p><img alt="折射定律" src="../notes/MathematicsAndPhysics/assets/gp31.png" /></p>
<div class="admonition note">
<p class="admonition-title">球面镜反射等式</p>
<p><img alt="球面镜" src="../notes/MathematicsAndPhysics/assets/gp32.png" /></p>
<ul>
<li>通过焦点的光线反射后平行于平面</li>
<li>平行于平面的光线反射后通过焦点</li>
<li>通过曲率中心（Center of Curvature）的光线原路反射回去</li>
<li>射向平面与球面镜交点的光线满足<strong>反射定律</strong></li>
</ul>
</div>
<div class="admonition note">
<p class="admonition-title">球面镜折射等式</p>
<p><img alt="球面镜折射" src="../notes/MathematicsAndPhysics/assets/gp33.png" /></p>
</div>
<div class="admonition example">
<p class="admonition-title">例子</p>
<p>一个物体在物距为<span class="arithmatex">\(u\)</span>处沿轴向一个球面反射镜以<span class="arithmatex">\(V_0\)</span>速度运动，球面镜半径为<span class="arithmatex">\(R\)</span>，求像的运动速度<span class="arithmatex">\(V\)</span>。</p>
<ul>
<li>由<span class="arithmatex">\(\frac{1}{u} + \frac{1}{v} = \frac{1}{f} = \frac{2}{R}\)</span>，得到<span class="arithmatex">\(v = \frac{1}{\frac{2}{R} - \frac{1}{u}}\)</span>（注意这个是小写<span class="arithmatex">\(v\)</span>是像距！）</li>
<li>于是有<span class="arithmatex">\(V = \frac{dv}{dt} = \frac{dv}{du} \frac{du}{dt} = - \frac{\frac{1}{u^2}}{(\frac{2}{R} - \frac{1}{u})^2} \frac{du}{dt} = -(\frac{R}{2u-R})^{2} V_0\)</span></li>
</ul>
</div>
<h3 id="notes-mathematicsandphysics-physics2-_20">惠更斯原理<a class="headerlink" href="#notes-mathematicsandphysics-physics2-_20" title="Permanent link">&para;</a></h3>
<ul>
<li>波前（Wavefront）：相位相同的点的集合</li>
<li>子波（Wavelet）：波前上的每一点都可以看作是一个次波源，次波源发出的波称为子波</li>
</ul>
<p>可以解释点光源以球面发散，从而解释了光的衍射</p>
<div class="admonition definition">
<p class="admonition-title">prequisite</p>
<p>如果光波在介质中传播时，波长为<span class="arithmatex">\(\lambda\)</span>，传播距离为<span class="arithmatex">\(r\)</span>，则其相位等于<span class="arithmatex">\(\phi = 2 \pi \frac{r}{\lambda}\)</span>  <br />
介质中波长 <span class="arithmatex">\(\lambda_n = \frac{\lambda}{n}\)</span>，期中<span class="arithmatex">\(n\)</span>为介质折射率，于是上式变为<span class="arithmatex">\(\phi = 2 \pi \frac{nr}{\lambda}\)</span>  <br />
定义光程（Optical Path）：<span class="arithmatex">\(L = nr\)</span>，则有<span class="arithmatex">\(\phi = \frac{2\pi}{\lambda} L\)</span> （于是<span class="arithmatex">\(r\)</span>为光在介质中传播的几何距离） 
则光程差（Optical Path Difference）：<span class="arithmatex">\(\Delta L = n_1 r_1 - n_2 r_2\)</span>，则有相位差 <span class="arithmatex">\(\Delta \phi = \frac{2\pi}{\lambda} \Delta L\)</span>  </p>
</div>
<h3 id="notes-mathematicsandphysics-physics2-interference">干涉（Interference）<a class="headerlink" href="#notes-mathematicsandphysics-physics2-interference" title="Permanent link">&para;</a></h3>
<p>两束光 <span class="arithmatex">\(I_1, I_2\)</span> 相遇，总强度为<span class="arithmatex">\(I = I_1 + I_2 + 2 &lt;E_1 \cdot E_2&gt;\)</span></p>
<ul>
<li>干涉时，<span class="arithmatex">\(2 &lt;E_1 \cdot E_2&gt; = 0\)</span></li>
<li>不干涉时，<span class="arithmatex">\(2 &lt;E_1 \cdot E_2&gt; \neq 0\)</span></li>
</ul>
<p>这三种情况下不干涉：</p>
<p><img alt="不干涉" src="../notes/MathematicsAndPhysics/assets/gp34.png" /></p>
<p>于是得到相干条件：</p>
<ol>
<li>频率相同</li>
<li>振动方向相同</li>
<li>相位差恒定</li>
</ol>
<div class="admonition example">
<p class="admonition-title">双缝干涉</p>
<p>note：光强与振幅的平方成正比<br />
<img alt="双缝干涉" src="../notes/MathematicsAndPhysics/assets/gp35.png" /></p>
</div>
<p>杨式双缝干涉中的常用公式：</p>
<p><img alt="双缝干涉公式" src="../notes/MathematicsAndPhysics/assets/gp38.png" /></p>
<p>（这是什么？我打算直接默写）<span class="arithmatex">\(I = I_0 \frac{sin^2 \alpha}{\alpha^2} cos^2 \beta\)</span>，其中<span class="arithmatex">\(\alpha = \frac{\pi a \sin \theta}{\lambda}, \beta = \frac{\pi d \sin \theta}{\lambda}\)</span></p>
<p>这里第 <span class="arithmatex">\(n\)</span> 级明纹就代 <span class="arithmatex">\(k = n\)</span>，第 <span class="arithmatex">\(n\)</span> 级暗纹就代 <span class="arithmatex">\(k = n - 1\)</span>（只有这里要取 <span class="arithmatex">\(k = n - 1\)</span>，其他所有涉及 <span class="arithmatex">\(k\)</span> 的地方都是 <span class="arithmatex">\(k = n\)</span>）</p>
<div class="admonition example">
<p class="admonition-title">例1</p>
<p><img alt="例1" src="../notes/MathematicsAndPhysics/assets/gp37.png" />  </p>
</div>
<h4 id="notes-mathematicsandphysics-physics2-_21">半波损失<a class="headerlink" href="#notes-mathematicsandphysics-physics2-_21" title="Permanent link">&para;</a></h4>
<blockquote>
<p>Credit to <a href="https://zhuanlan.zhihu.com/p/550675894">https://zhuanlan.zhihu.com/p/550675894</a></p>
</blockquote>
<ul>
<li><span class="arithmatex">\(\delta = \delta_0 + \frac{\lambda}{2}\)</span>，原光程加上半波损失</li>
<li><span class="arithmatex">\(\Delta \phi = \frac{2\pi}{\lambda} \Delta \delta = \pi\)</span></li>
<li>当光从光疏到光密质，正入射及掠入射时反射光均有半波损。</li>
<li>当光从光密到光疏质，正入射时反射光无半波损（掠入射时发生全反射） 。</li>
<li><img alt="半波损失" src="../notes/MathematicsAndPhysics/assets/gp36.png" /></li>
</ul>
<h4 id="notes-mathematicsandphysics-physics2-_22">薄膜干涉<a class="headerlink" href="#notes-mathematicsandphysics-physics2-_22" title="Permanent link">&para;</a></h4>
<p><img alt="薄膜干涉" src="../notes/MathematicsAndPhysics/assets/gp40.png" /></p>
<p>经过一系列推导，①②两束光的光程差 <span class="arithmatex">\(\delta' = 2 n_2 d \cos \gamma + (\frac{\lambda}{2})\)</span></p>
<p>考虑半波损失后，根据 <span class="arithmatex">\(n_1, n_2,n_3\)</span> 的相对大小，对①②光的光程选择加不加 <span class="arithmatex">\(\frac{\lambda}{2}\)</span>（<span class="arithmatex">\(n_1 &gt; n_2 &gt; n_3\)</span> 或者 <span class="arithmatex">\(n_1 &lt; n_2 &lt; n_3\)</span> 的时候，光程差不加半波损失；<span class="arithmatex">\(n_1 &gt; n_2 &lt; n_3\)</span> 或者 <span class="arithmatex">\(n_1 &lt; n_2 &gt; n_3\)</span> 的时候，光程差加半波损失）</p>
<p>这里的波长指的是真空中波长，如果要用介质中波长要换算：<span class="arithmatex">\(\lambda = n \lambda_n\)</span></p>
<h4 id="notes-mathematicsandphysics-physics2-_23">等厚干涉<a class="headerlink" href="#notes-mathematicsandphysics-physics2-_23" title="Permanent link">&para;</a></h4>
<p>公式和薄膜干涉是一样的，考虑 <span class="arithmatex">\(n &gt; 1\)</span> 的劈尖，劈棱处（最薄的地方）的光程差为 <span class="arithmatex">\(\delta = 2 n d \cos \gamma + \frac{\lambda}{2}\)</span>，这里 <span class="arithmatex">\(d = 0\)</span>，由于近似垂直入射所以 <span class="arithmatex">\(\cos \gamma = 1\)</span>，所以 <span class="arithmatex">\(\delta = \frac{\lambda}{2}\)</span>，是半波长奇数倍，因此劈尖处是暗纹。</p>
<ul>
<li>第 <span class="arithmatex">\(k\)</span> 级暗纹处的厚度<ul>
<li>对于第 <span class="arithmatex">\(k\)</span> 级暗纹，其厚度记为 <span class="arithmatex">\(d_k\)</span>，则 <span class="arithmatex">\(\delta = 2 n d_k + \frac{\lambda}{2} = (2k + 1) \frac{\lambda}{2}\)</span>，解得 <span class="arithmatex">\(d_k = \frac{k \lambda}{2n}\)</span></li>
</ul>
</li>
<li>相邻暗纹的厚度差<ul>
<li><span class="arithmatex">\(\Delta d = d_{k+1} - d_k = \frac{\lambda}{2n}\)</span></li>
</ul>
</li>
<li>相邻条纹间距（在劈尖上表面）<ul>
<li><span class="arithmatex">\(L = \frac{\Delta d}{\sin \theta} = \frac{\lambda}{2 n \sin \theta} = \frac{\lambda}{2 n \theta}\)</span></li>
<li>由此得到 <span class="arithmatex">\(\theta = \frac{\lambda}{2 n L}\)</span></li>
</ul>
</li>
<li>劈尖上表面移动（或旋转）时，<span class="arithmatex">\(d_k\)</span> 的大小不变</li>
</ul>
<h4 id="notes-mathematicsandphysics-physics2-_24">牛顿环<a class="headerlink" href="#notes-mathematicsandphysics-physics2-_24" title="Permanent link">&para;</a></h4>
<p>依旧利用 <span class="arithmatex">\(\delta = 2 n d + \frac{\lambda}{2} = 明暗纹公式\)</span> 推导，过程见：<a href="https://www.kailqq.cc/NOTE/Physics/light/?h=%E7%89%9B%E9%A1%BF#_22">https://www.kailqq.cc/NOTE/Physics/light/?h=%E7%89%9B%E9%A1%BF#_22</a></p>
<ul>
<li>第 <span class="arithmatex">\(k\)</span> 级明/暗环处的半径<ul>
<li>记圆凸镜半径为 <span class="arithmatex">\(R\)</span></li>
<li>暗环：<span class="arithmatex">\(r_k = \sqrt{\frac{k \lambda R}{n_2}}\)</span>，<span class="arithmatex">\(n_2\)</span> 为圆凸镜和底下长方题之间的介质折射率，一般是空气，取 <span class="arithmatex">\(n_2 = 1\)</span></li>
<li>明环：<span class="arithmatex">\(r_k = \sqrt{\frac{(k - \frac{1}{2}) \lambda R}{n_2}}\)</span></li>
</ul>
</li>
</ul>
<h3 id="notes-mathematicsandphysics-physics2-diffraction">衍射（Diffraction）<a class="headerlink" href="#notes-mathematicsandphysics-physics2-diffraction" title="Permanent link">&para;</a></h3>
<h4 id="notes-mathematicsandphysics-physics2-_25">夫琅和费衍射<a class="headerlink" href="#notes-mathematicsandphysics-physics2-_25" title="Permanent link">&para;</a></h4>
<p>这里采用菲涅尔半波带法判断得到的是明纹还是暗纹</p>
<ul>
<li>两个波源的光程差：<span class="arithmatex">\(\delta = a \sin \theta\)</span>，可分为偶数个半波带时为暗纹，奇数个半波带时为明纹</li>
<li><strong>和干涉是反过来的</strong>！因此中央是明纹（Bright fringe），其宽度为 <span class="arithmatex">\(\frac{2 \lambda f}{a}\)</span>，<span class="arithmatex">\(f\)</span> 为透镜到右侧屏幕的距离（一般就是焦距）</li>
<li>第 <span class="arithmatex">\(k\)</span> 级暗纹距离中央的距离为 <span class="arithmatex">\(x_k = k \frac{\lambda f}{a}\)</span>（<span class="arithmatex">\(\delta = a \sin \theta = a \tan \theta = a \frac{x_k}{f} = k \lambda\)</span>）</li>
<li><img alt="flhfys" src="../notes/MathematicsAndPhysics/assets/gp42.png" /></li>
</ul>
<div class="admonition note">
<p class="admonition-title">圆孔衍射</p>
<ul>
<li>第一级暗纹衍射角 <span class="arithmatex">\(\theta_1 = 1.22 \frac{\lambda}{D}\)</span>，<span class="arithmatex">\(D\)</span>为圆孔直径<ul>
<li>于是第一级暗纹距中央：<span class="arithmatex">\(x = f \theta_1 = 1.22 f \frac{\lambda0}{D}\)</span></li>
</ul>
</li>
</ul>
</div>
<h4 id="notes-mathematicsandphysics-physics2-_26">光栅<a class="headerlink" href="#notes-mathematicsandphysics-physics2-_26" title="Permanent link">&para;</a></h4>
<ul>
<li>光栅常数：<span class="arithmatex">\(d = a + b\)</span>，<span class="arithmatex">\(a\)</span> 为光栅上的透光缝宽度，<span class="arithmatex">\(b\)</span> 为光栅上的不透光缝宽度</li>
<li>光栅的每个缝形成各自的单缝衍射</li>
<li>缝与缝之间形成多缝干涉</li>
<li>相邻两缝的光程差：<span class="arithmatex">\(\delta = (a+b) \sin \theta\)</span><ul>
<li>明纹条件：<span class="arithmatex">\(\delta = k \lambda\)</span></li>
<li>暗纹条件（暗纹由各缝射出的衍射光因干涉相消形成）<ul>
<li><span class="arithmatex">\(Nd \sin \theta = k' \lambda\)</span>，<span class="arithmatex">\(k'\)</span>不为<span class="arithmatex">\(N\)</span>的整数倍</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">缺级</p>
<ul>
<li>由于衍射影响，在该出现明纹的地方不再出现明纹<ul>
<li>在干涉导致的明纹处：<span class="arithmatex">\((a+b) \sin \phi = k \lambda\)</span></li>
<li>在衍射导致的暗纹(min)处：<span class="arithmatex">\(a \sin \phi = k' \lambda\)</span></li>
</ul>
</li>
<li>联立得到 <span class="arithmatex">\(k = \frac{a+b}{a} k'\)</span>，此时缺级</li>
</ul>
</div>
<p>Dispersion: <span class="arithmatex">\(D = \frac{\Delta \theta}{\Delta \lambda} = \frac{k}{d \cos \theta}\)</span></p>
<p>分辨本领（在某级恰好能分辨的两条谱线的平均波长<span class="arithmatex">\(\lambda\)</span>与其波长差<span class="arithmatex">\(\Delta \lambda\)</span>的比值）：<span class="arithmatex">\(R = \frac{\lambda}{\Delta \lambda} = kN\)</span>（此时波长差是最小的！）</p>
<p>光强：<span class="arithmatex">\(I = I_0 \frac{sin^2 \alpha}{\alpha^2} \frac{\sin^2 N \beta}{\sin^2 \beta}\)</span>，这里依旧是<span class="arithmatex">\(\alpha = \frac{\pi a \sin \theta}{\lambda}, \beta = \frac{\pi d \sin \theta}{\lambda}\)</span></p>
<ul>
<li>于是此时可以由这个推出明暗纹公式<ul>
<li><img alt="明暗纹公式" src="../notes/MathematicsAndPhysics/assets/gp43.png" /></li>
</ul>
</li>
</ul>
<p>Width of the maximum: <span class="arithmatex">\(\delta \theta = \frac{\lambda}{Nd \cos \theta}\)</span></p>
<div class="admonition note">
<p class="admonition-title">晶体衍射 Brag 公式</p>
<p><span class="arithmatex">\(2d \sin \theta = nλ\)</span><br />
其中d是晶格常数，θ是入射角，</p>
</div>
<h3 id="notes-mathematicsandphysics-physics2-polarization">偏振(Polarization)<a class="headerlink" href="#notes-mathematicsandphysics-physics2-polarization" title="Permanent link">&para;</a></h3>
<p>马吕斯定律：<span class="arithmatex">\(I = I_0 \cos^2 \theta\)</span>，电矢量 <span class="arithmatex">\(E = E_0 \cos \theta\)</span>，其中<span class="arithmatex">\(\theta\)</span>为光的偏振角，例如说检偏器和偏振片的夹角</p>
<p>布儒斯特角：入射角和反射角和为<span class="arithmatex">\(90^{\circ}\)</span>时，<strong>反射光</strong>为完全偏振光。（折射光是部分偏振光）</p>
<p>即 <span class="arithmatex">\(tan \theta_{入射} = \frac{n_2}{n_1}\)</span></p>
<h2 id="notes-mathematicsandphysics-physics2-_27">量子力学<a class="headerlink" href="#notes-mathematicsandphysics-physics2-_27" title="Permanent link">&para;</a></h2>
<h3 id="notes-mathematicsandphysics-physics2-_28">黑体辐射<a class="headerlink" href="#notes-mathematicsandphysics-physics2-_28" title="Permanent link">&para;</a></h3>
<ul>
<li>单色辐出度 Spectral emittance<ul>
<li>单位时间、单位表面积上发射的波长在<span class="arithmatex">\(\lambda\)</span> 到<span class="arithmatex">\(λ +d \lambda\)</span>范围内的辐射能为<span class="arithmatex">\(dM_λ\)</span> ，则 <span class="arithmatex">\(M_{\lambda}(T) = \frac{d M_{\lambda}}{d \lambda}\)</span>（<span class="arithmatex">\(T\)</span> 和 <span class="arithmatex">\(\lambda\)</span> 的函数）</li>
</ul>
</li>
<li>辐射出射度 total intensity<ul>
<li>单位时间、单位表面积上发射全波长范围内的辐射能</li>
<li><span class="arithmatex">\(M(T) = \int_0^{\inf} M_{\lambda}(T)d \lambda\)</span></li>
</ul>
</li>
<li>Stefan-Boltzmann 定律<ul>
<li><span class="arithmatex">\(M_B(T) = \sigma T^4\)</span>，<span class="arithmatex">\(\sigma = 5.67 \times 10^{-8} W/(m^2 K^4)\)</span></li>
</ul>
</li>
<li>Wien 位移定律<ul>
<li><span class="arithmatex">\(T \lambda_m = b\)</span>，其中 <span class="arithmatex">\(\lambda_m\)</span> 是某温度下单色辐出度最大对应的波长（曲线峰值），<span class="arithmatex">\(b = 2.898 \times 10^{-3} m K\)</span></li>
</ul>
</li>
<li>普朗克辐射定律：<span class="arithmatex">\(M(\lambda, T) = \frac{2 \pi h c^2}{\lambda^5} \frac{1}{e^{\frac{h \nu}{k T}} - 1}\)</span><ul>
<li>两种特殊情况：<ul>
<li><img alt="普朗克辐射定律" src="../notes/MathematicsAndPhysics/assets/gp44.png" /></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="notes-mathematicsandphysics-physics2-_29">光电效应<a class="headerlink" href="#notes-mathematicsandphysics-physics2-_29" title="Permanent link">&para;</a></h3>
<ul>
<li><span class="arithmatex">\(p = \frac{h}{\lambda}\)</span>, <span class="arithmatex">\(E = h \nu, m = \frac{h \nu}{c^2}\)</span></li>
<li>光电效应：光照射到金属表面，金属表面会发射电子</li>
<li><span class="arithmatex">\(h \nu = E_{km} + A = \frac{1}{2} m v^2 + A\)</span>，其中<span class="arithmatex">\(A\)</span>为金属的逸出功</li>
<li>即，携带能量为<span class="arithmatex">\(h \nu\)</span>的光子，击中金属后转化为电子，没有时间延迟。</li>
<li>遏制电压（加遏止电压时光电流为0）：<span class="arithmatex">\(U = \frac{E_{km}}{e} = \frac{h \mu - A}{e}\)</span></li>
<li>截止频率：<span class="arithmatex">\(h \nu_0 = A\)</span></li>
<li><img alt="光电效应" src="../notes/MathematicsAndPhysics/assets/gp39.png" /></li>
</ul>
<h3 id="notes-mathematicsandphysics-physics2-_30">康普顿散射<a class="headerlink" href="#notes-mathematicsandphysics-physics2-_30" title="Permanent link">&para;</a></h3>
<p>推导过程如下</p>
<ul>
<li>光子与电子碰撞后，光子的波长会变长，电子的动能会增加<ul>
<li>光子：<span class="arithmatex">\(E = h \nu\)</span>, <span class="arithmatex">\(p = \frac{h \nu}{c} = \frac{h}{\lambda}\)</span></li>
<li>电子：<span class="arithmatex">\(E = m_{0}c^2\)</span>, <span class="arithmatex">\(p = mv\)</span></li>
</ul>
</li>
<li>碰撞时，能量守恒：<span class="arithmatex">\(h \nu + m_{0}c^2 = mc^2 + hf'\)</span></li>
<li>动量守恒：<ul>
<li>X: <span class="arithmatex">\(\frac{h \nu}{c} = \frac{hf'}{c} \cos \phi + mv \cos \theta\)</span></li>
<li>Y: <span class="arithmatex">\(0 = \frac{h \nu}{c} \sin \phi - mv \sin \theta\)</span></li>
</ul>
</li>
<li>由此可以解出<span class="arithmatex">\(\lambda' - \lambda = \frac{h}{m_{0}c}(1 - \cos \phi)\)</span></li>
<li><span class="arithmatex">\(\phi\)</span>为光子偏离原方向的散射角，<span class="arithmatex">\(\theta\)</span>为电子偏离原方向的散射角</li>
</ul>
<h3 id="notes-mathematicsandphysics-physics2-_31">物质波<a class="headerlink" href="#notes-mathematicsandphysics-physics2-_31" title="Permanent link">&para;</a></h3>
<p>同样有<span class="arithmatex">\(E = h \nu\)</span>, <span class="arithmatex">\(p = \frac{h \nu}{c} = \frac{h}{\lambda}\)</span></p>
<div class="admonition note">
<p class="admonition-title">不确定性关系</p>
<p><span class="arithmatex">\(\Delta x \Delta p_x \ge \frac{h}{4 \pi}\)</span><br />
<span class="arithmatex">\(\Delta E \Delta t \ge \frac{h}{4 \pi}\)</span></p>
</div>
<h3 id="notes-mathematicsandphysics-physics2-_32">波函数和概率密度<a class="headerlink" href="#notes-mathematicsandphysics-physics2-_32" title="Permanent link">&para;</a></h3>
<ul>
<li>约化普朗克常数：<span class="arithmatex">\(\hbar = \frac{h}{2 \pi}\)</span></li>
</ul>
<p><span class="arithmatex">\(\Psi (x,t) = \psi_0 e^{i(kx-\omega t)}\)</span><br />
<span class="arithmatex">\(\Psi^* (x,t) = \psi_0^* e^{-i(kx-\omega t)}\)</span><br />
<span class="arithmatex">\(P(x) = \Psi \Psi^*\)</span></p>
<div class="admonition note">
<p class="admonition-title">算符定义</p>
<ul>
<li>动量算符：<span class="arithmatex">\(p = -i \hbar \frac{\partial}{\partial x}\)</span></li>
<li>能量算符：<span class="arithmatex">\(E = i \hbar \frac{\partial}{\partial t}\)</span></li>
</ul>
</div>
<div class="admonition note">
<p class="admonition-title">薛定谔方程</p>
<ul>
<li>一维含时：<span class="arithmatex">\(E \Psi = i \hbar \frac{\partial \Psi}{\partial t} = -\frac{\hbar^2}{2m} \frac{\partial^2 \Psi}{\partial x^2} + U \Psi\)</span>，其中<span class="arithmatex">\(U\)</span>为势能</li>
<li>若势能不随时间变化，则可以化为一维定态：<ul>
<li><img alt="一维定态薛定谔" src="../notes/MathematicsAndPhysics/assets/gp46.png" /></li>
</ul>
</li>
</ul>
</div>
<div class="admonition note">
<p class="admonition-title">一维势阱</p>
<ul>
<li><img alt="一维势阱" src="../notes/MathematicsAndPhysics/assets/gp45.png" /></li>
<li>$ P(x) = \frac{2}{a} \sin^2 \frac{n \pi}{a} x$</li>
<li><img alt="Yiweisj" src="../notes/MathematicsAndPhysics/assets/gp47.png" /></li>
</ul>
</div>
<h3 id="notes-mathematicsandphysics-physics2-_33">氢原子结构<a class="headerlink" href="#notes-mathematicsandphysics-physics2-_33" title="Permanent link">&para;</a></h3>
<ul>
<li>能量量子化：<span class="arithmatex">\(E_n = \frac{E_1}{n^2} = - \frac{1}{n} \frac{me^4}{8 \epsilon_0^2 h^2}\)</span></li>
<li>电子跃迁：<ul>
<li><img alt="电子跃迁" src="../notes/MathematicsAndPhysics/assets/gp48.png" /></li>
</ul>
</li>
<li>三个量子数：<ul>
<li><img alt="量子数" src="../notes/MathematicsAndPhysics/assets/gp49.png" /></li>
</ul>
</li>
</ul>
<h2 id="notes-mathematicsandphysics-physics2-_34">小测部分<a class="headerlink" href="#notes-mathematicsandphysics-physics2-_34" title="Permanent link">&para;</a></h2>
<h3 id="notes-mathematicsandphysics-physics2-_35">第一次小测<a class="headerlink" href="#notes-mathematicsandphysics-physics2-_35" title="Permanent link">&para;</a></h3>
<p><a href="https://chiichen.github.io/notes/College-Physics/Formula-Derivation/Electrostatic-energy-of-a-solid-charged-sphere.html#_3-%E9%9D%99%E7%94%B5%E8%83%BD">实心带电球体静电能</a></p>
<h3 id="notes-mathematicsandphysics-physics2-_36">第二次小测<a class="headerlink" href="#notes-mathematicsandphysics-physics2-_36" title="Permanent link">&para;</a></h3>
<p><img alt="第二次小测" src="../notes/MathematicsAndPhysics/assets/GP-22.png" /></p>
<p>已知这样的一对非平行极板，求其电容，其中上板横向纵向长度 <span class="arithmatex">\(a, b\)</span>, 上板最低点与下板距离 <span class="arithmatex">\(d\)</span>，最高点与下板距离 <span class="arithmatex">\(d+h\)</span> 已知，<span class="arithmatex">\(h&lt;&lt;d\)</span></p>
<details class="note">
<summary>解</summary>
<p>先定义一下上板倾角为 <span class="arithmatex">\(\theta\)</span>，下板横向长为 <span class="arithmatex">\(x\)</span>。则由于 <span class="arithmatex">\(d\)</span> 很小，倾角趋于0，有近似 <span class="arithmatex">\(\tan \theta = \sin \theta = \frac{h}{a}\)</span>，那么取下板沿 <span class="arithmatex">\(x\)</span> 方向很小的一截 <span class="arithmatex">\(dx\)</span>，这一截的下板面积是 <span class="arithmatex">\(bdx\)</span>，且近似与上板平行（上板平行重合的这一小截也视作面积是 <span class="arithmatex">\(bdx\)</span>，则由平行极板电容公式 <span class="arithmatex">\(C = \frac{\epsilon_0 A}{d}\)</span>，得到<span class="arithmatex">\(dC=\frac{\epsilon_0 bdx}{d+\tan \theta x}\)</span><br />
直接对 <span class="arithmatex">\(x\)</span> 从0到 <span class="arithmatex">\(a\)</span> 积分，<br />
得到 <span class="arithmatex">\(C = \int_0^a \frac{\epsilon_0 bdx}{d+\frac{h}{a} x} = \frac {\epsilon_0 a b}{h} \cdot \ln \frac{h+d}{d}\)</span></p>
</details></section></section>
                    <section class='print-page md-section' id='section-4-5' heading-number='4.5'>
                        <h1>文艺学<a class='headerlink' href='#section-4-5' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="notes-literature-basiclinguistics" heading-number="4.5.1"><nav class='md-tags'><span class='md-tag'>大二下笔记</span></nav><h1 id="_1">语言学基础<a class="headerlink" href="#notes-literature-basiclinguistics-_1" title="Permanent link">&para;</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 1935 个字 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 17H7V3h14m0-2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2M3 5H1v16a2 2 0 0 0 2 2h16v-2H3m12.96-10.71-2.75 3.54-1.96-2.36L8.5 15h11z"/></svg></span> 2 张图片 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 6 分钟</p>
</div>
<blockquote>
<p>任课教师：彭利贞</p>
</blockquote>
<div class="admonition note">
<p class="admonition-title">Link</p>
<p><a href="https://socralin.github.io/2025/02/12/Basic-Linguistics-Learning/">https://socralin.github.io/2025/02/12/Basic-Linguistics-Learning/</a>
<a href="https://file.cc98.org/v4-upload/d/2025/0116/eui35e2j.pdf">https://file.cc98.org/v4-upload/d/2025/0116/eui35e2j.pdf</a></p>
</div>
<div class="admonition definition">
<p class="admonition-title">语言学是什么</p>
<ul>
<li>语音</li>
<li>词汇</li>
<li>语法</li>
<li>语义</li>
<li>语用</li>
<li>文字（副产品）</li>
</ul>
</div>
<div class="admonition definition">
<p class="admonition-title">什么是语言？</p>
<ul>
<li>结构：语言是一种符号系统<ul>
<li>符号：用 A 表示 B，A 和 B 没有必然的联系（皮尔斯：图像、索引、象征）</li>
</ul>
</li>
<li>功能：语言是人类最重要的交际工具，是人类最重要的认知、思维工具</li>
<li>基本符号：词<ul>
<li>发音+语义=符号&lt;-&gt;现实中的对象</li>
<li>语言=词＋规则</li>
</ul>
</li>
</ul>
</div>
<p><strong>口语</strong>是语言的原始形式，<strong>书面语</strong>是在口语基础上产生并发展的。</p>
<ul>
<li>语言的主要功能<ul>
<li>人类最重要的交际工具</li>
<li>人类认知思维的工具</li>
<li>传承文化的工具</li>
</ul>
</li>
<li>语言的基本属性<ul>
<li>任意性<ul>
<li>语言符号的两个方面——声音和意义之间没有必然联系，音-义联系是由社会成员共同约定的</li>
<li>像似性（iconicity）：部分符号意义的理解有迹可循，例如布谷（布谷鸟的叫声）</li>
</ul>
</li>
<li>线（条）性<ul>
<li>组成成分（一般为词）按照线性排列的方式表达含义</li>
<li>口头上表现为只能以时间先后为序说出来</li>
<li>书面上表现为只能以单向线状排列记录文字</li>
</ul>
</li>
<li>系统性<ul>
<li>符号处于一定关系之中</li>
<li>语言符号可以分解<ul>
<li>篇章-句群-句子-短语-词-词素</li>
</ul>
</li>
<li>层次性：底层是音位，上层是音义结合的符号序列（语素-词-句子）</li>
</ul>
</li>
<li>社会性<ul>
<li><img alt="社会性" src="../notes/Literature/assets/ling1.png" /></li>
</ul>
</li>
<li>文化性<ul>
<li>不同的民族/地域对声音表达的意义有不同的理解</li>
<li>对同一个对象，不同的民族/地域有不同的认识</li>
<li>对某一个现象或主观认识，不同语言里的认识属性基本相同，但可能在附属色彩上有所不同</li>
<li>表现在语言单位的组合手段上</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="notes-literature-basiclinguistics-_2">语音<a class="headerlink" href="#notes-literature-basiclinguistics-_2" title="Permanent link">&para;</a></h2>
<p>语音：由人发出的、表达语义的声音。语言的各种意义，语言符号的各级单位都必须通过具体的声音形式来表达。</p>
<ul>
<li>物理属性：<ul>
<li>音高</li>
<li>音强<ul>
<li>普通话里的轻声就与音强有关：哥哥、姐姐</li>
</ul>
</li>
<li>音长</li>
<li>音质 <ul>
<li>声音的特色，取决于声波振动的形式。</li>
<li>影响音色的主要因素：<ul>
<li>发音体：如，不同的乐器；人的发音器官的不同部位：声带：元音/浊辅音 | 清辅音；口音|鼻音</li>
<li>发音方法：如，同一种乐器不同演奏方法：爆破音 –磨擦音；送气|不送气</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>生理属性<ul>
<li>肺、喉头、声带等</li>
</ul>
</li>
<li>社会属性<ul>
<li>首先，语音是人类利用声音来传递复杂的意义的，这与其他动物简单地利用鸣叫来表示意图有根本的不同。 </li>
<li>其次，人类语音在声音形式与意义的关联上没有必然性，而是随着民族或地域的不同而不同。 </li>
<li>最后，不同民族语言里，语音单位的形式和数量及其作用是不完全相同的。   </li>
</ul>
</li>
</ul>
<h3 id="notes-literature-basiclinguistics-_3">音素<a class="headerlink" href="#notes-literature-basiclinguistics-_3" title="Permanent link">&para;</a></h3>
<p>音素是从音质角度划分出来的最小的语音单位（感觉就是音标）</p>
<p>元音 vs 辅音，你知道吗？</p>
<table>
<thead>
<tr>
<th></th>
<th>阻碍</th>
<th>声带振动</th>
<th>发音器官紧张</th>
<th>气流</th>
</tr>
</thead>
<tbody>
<tr>
<td>元音</td>
<td>无</td>
<td>振动</td>
<td>均衡</td>
<td>弱</td>
</tr>
<tr>
<td>辅音</td>
<td>有</td>
<td>清辅音不振动浊辅音振动（也是区分清浊音的依据）</td>
<td>局部</td>
<td>强</td>
</tr>
</tbody>
</table>
<h4 id="notes-literature-basiclinguistics-_4">元音分析<a class="headerlink" href="#notes-literature-basiclinguistics-_4" title="Permanent link">&para;</a></h4>
<p>从舌位的高低、舌头的伸缩、唇形的圆展三个方面进行分析。</p>
<p>基本元音（作为元音的标准与定位）：</p>
<p><img alt="基本元音" src="../notes/Literature/assets/ling2.png" /></p>
<h4 id="notes-literature-basiclinguistics-_5">辅音分析<a class="headerlink" href="#notes-literature-basiclinguistics-_5" title="Permanent link">&para;</a></h4>
<p>从发音的部位、发音方法（（1）成阻与除阻（2）声带是否振动（3）是否送气）两个方面进行分析。</p>
<div class="admonition note">
<p class="admonition-title">发音部位</p>
<ul>
<li>双唇：[p]、[p']、[m] </li>
<li>唇齿：[f]、[v] </li>
<li>齿间：[θ]、[ð] </li>
<li>舌尖：后[tʂ]、[tʂ']、[ʂ] ，前[ts]、[ts'] [s]，中[t]、[l]  </li>
<li>舌面：[tɕ] 、[tɕ']、[ɕ]</li>
<li>舌叶：[ʧ]、[ʃ]、[ʒ] </li>
<li>舌根：[k]、[k']、[x]</li>
<li>小舌：[R]</li>
<li>声门：[ʔ]</li>
</ul>
</div>
<div class="admonition note">
<p class="admonition-title">发音方法</p>
<p>塞音：[p]、[b]
擦音：[s]、[f]
塞擦音：[ts]、[ts']、[s]
鼻音：[m]、[n]、[ŋ]
边音：[l]
颤音：（滚音）[R]
闪音：[ɾ]</p>
</div>
<p>清辅音 vs 浊辅音</p>
<h3 id="notes-literature-basiclinguistics-_6">音位<a class="headerlink" href="#notes-literature-basiclinguistics-_6" title="Permanent link">&para;</a></h3>
<p>先补充一下音位和音素的区分：</p>
<p>音素是从音质角度划分出来的最小的语音单位，再小的声音都可以继续分成两个听起来不同的音素，</p>
<div class="admonition note">
<p class="admonition-title">Reference</p>
<p>对任何一个语音组合的片段进行切分，到最后都会得到一些不能再往更小的单位切分的最小的语音单位，切分出来的这种最小单位，只要从音色上看有区别，就是两个不同的音素。从这种意义上来说，一种语言系统的音素是无穷的。 </p>
</div>
<p>只要听起来不同就算不同的音素，这让人想起了什么？拼音，对于韵母可以说是不同声调对应不同音素；于是我们规定这四个音素 <span class="arithmatex">\(\{\bar{a}, \acute{a}, \check{a}, \grave{a}\}\)</span> 成为一个更大的单位——音位。</p>
<div class="admonition definition">
<p class="admonition-title">音位</p>
<p>把<strong>不能相互区别意义</strong>的音素归为一类，就得到了音位。</p>
</div>
<h4 id="notes-literature-basiclinguistics-_7">语流音变<a class="headerlink" href="#notes-literature-basiclinguistics-_7" title="Permanent link">&para;</a></h4>
<p>处于具体语音流中的音素以及声调等语音要素，会受到邻近音的影响</p>
<ul>
<li>同化：<ul>
<li>两个相邻的音，后一个受前一个的影响，变得与前一个音相同或相近，称顺同化。（dogs [dɔg<strong>z</strong>], looked [lʊ:k<strong>t</strong>] 中末尾的清/浊音变为与前面相邻浊/清音一样的读音）</li>
<li>后面的音同化前面的音：两个相邻的音，前一个受后一个的影响，变得与后一个音相同或相近，称逆同化。<ul>
<li>干嘛？gan ma? -&gt; ga<strong>m</strong> ma？</li>
<li>be in poor health -&gt; be [i<strong>m</strong>] poor health</li>
</ul>
</li>
</ul>
</li>
<li>异化：原本相近/相同的发音变为不同<ul>
<li>例如三声接二声，三声读作二声：选举（xu<strong>á</strong>n jǔ）</li>
</ul>
</li>
<li>弱化：如普通话的轻声</li>
<li>脱落：语流中有些音在连读时因缩并等原因而不再发音或消失的现象。<ul>
<li>最简单如英文的缩写：I am -&gt; I'm</li>
<li>豆腐（dou f），这里 u 被省略了</li>
</ul>
</li>
<li>增音：在多个音节或由多个音节构成的复杂语流连续发音时，有时候会增加原本没有的音素。这种现象多发生于句子中。<ul>
<li>英语中的连读</li>
<li>你快看啊（a）-&gt;你快看 <strong>n</strong> 啊（读作 na）</li>
</ul>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">音位判断的原则</p>
<p>如何判断两个音素是否是同一个音位？</p>
<ul>
<li>对立原则：两个音素出现在不同的语音环境中，相互替换后会出现意义上的差别，则它们是不同的音位。</li>
<li>互补原则：某个音素出现时，与之发音相近的音素便不会出现，因此其形成互补关系，是同一个音位。<ul>
<li>如前a：[ɑ]，后a：[a]，以及 [A]，[ε]，它们是同一个音位。</li>
</ul>
</li>
<li>相似原则：<ul>
<li>并不是所有互补的音素都是同一个音位，例如 [m] 和 [n]，很明显语音不同。</li>
</ul>
</li>
</ul>
</div>
<h3 id="notes-literature-basiclinguistics-_8">音位的区别特征<a class="headerlink" href="#notes-literature-basiclinguistics-_8" title="Permanent link">&para;</a></h3>
<p>将音位区别开的发音特征；根据上述的元辅音分析判断。</p>
<div class="admonition note">
<p class="admonition-title">音位的变体</p>
<p>同属于一个音位的不同音素，称为音位的变体。</p>
<ul>
<li>条件变体：在特定的语音环境中出现的变体，称为条件变体。<ul>
<li>例如：英语中清辅音的浊化</li>
</ul>
</li>
<li>自由变体</li>
</ul>
</div>
<h3 id="notes-literature-basiclinguistics-_9">音节<a class="headerlink" href="#notes-literature-basiclinguistics-_9" title="Permanent link">&para;</a></h3>
<p>听觉上最容易分辨出来的自然的语音结构单位，是音位和音位组合形成的最小的语音结构单位。</p>
<p>汉语中，一个汉字通常代表一个音节。</p>
<ul>
<li>xiang：x 为声母，i 为韵头，a 为韵腹，ng 为韵尾，后三者统称韵母<ul>
<li>不是所有音节都有这么多部分</li>
</ul>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">判断音节的方法</p>
</div>
<h2 id="notes-literature-basiclinguistics-_10">词汇<a class="headerlink" href="#notes-literature-basiclinguistics-_10" title="Permanent link">&para;</a></h2></section></section>
                    <section class='print-page md-section' id='section-4-6' heading-number='4.6'>
                        <h1>Language<a class='headerlink' href='#section-4-6' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="notes-language-cs61a" heading-number="4.6.1"><h1 id="notes-language-cs61a-cs61a-23fall">CS61A 学习笔记（23Fall）<a class="headerlink" href="#notes-language-cs61a-cs61a-23fall" title="Permanent link">&para;</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 676 个字 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6m80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3l89.3 89.4-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3"/></svg></span> 125 行代码 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 3 分钟</p>
</div>
<div class="admonition abstract">
<p class="admonition-title">课程资源</p>
<p>主页: <a href="https://inst.eecs.berkeley.edu/~cs61a/fa23/">https://inst.eecs.berkeley.edu/~cs61a/fa23/</a><br />
教材汉化：<a href="https://composingprograms.netlify.app/">https://composingprograms.netlify.app/</a></p>
</div>
<h2 id="notes-language-cs61a-function-domain-localglobal-frame">Function Domain &amp; Local/Global Frame<a class="headerlink" href="#notes-language-cs61a-function-domain-localglobal-frame" title="Permanent link">&para;</a></h2>
<ol>
<li>What will the following code fragment print?</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#notes-language-cs61a-__codelineno-0-1"></a><span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#notes-language-cs61a-__codelineno-0-2"></a><span class="k">def</span><span class="w"> </span><span class="nf">f</span><span class="p">(</span><span class="n">g</span><span class="p">):</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#notes-language-cs61a-__codelineno-0-3"></a>    <span class="n">a</span> <span class="o">=</span> <span class="mi">2</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#notes-language-cs61a-__codelineno-0-4"></a>    <span class="k">return</span> <span class="k">lambda</span> <span class="n">y</span><span class="p">:</span> <span class="n">a</span><span class="o">*</span><span class="n">g</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#notes-language-cs61a-__codelineno-0-5"></a><span class="n">f</span><span class="p">(</span><span class="k">lambda</span> <span class="n">y</span><span class="p">:</span> <span class="n">a</span> <span class="o">+</span> <span class="n">y</span><span class="p">)(</span><span class="n">a</span><span class="p">)</span>
</code></pre></div>
<details>
<summary>Answer</summary>
<p>4</p>
</details>
<hr />
<h2 id="notes-language-cs61a-short-circuiting">Short Circuiting<a class="headerlink" href="#notes-language-cs61a-short-circuiting" title="Permanent link">&para;</a></h2>
<blockquote>
<p><code>0</code>, <code>None</code>, <code>False</code> stand for "False".Anything other than these stand for "True".<br />
Python interprets the expression from left to right:<br />
If <code>a</code> is "True", <code>a or b</code> is "True" and has value of <code>a</code>.(<code>b</code> is not considered so it could be anything, even something like <code>1/0</code>)<br />
If <code>c</code> is "False", <code>c and d</code> is "False" and has value of <code>c</code>.Likely, <code>d</code> is whatever.<br />
In other conditions, e.g <code>x or(and) y</code>, both arguments are considered and computed, <strong>eventually the value would be that of <code>y</code>.</strong></p>
</blockquote>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#notes-language-cs61a-__codelineno-1-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="kc">True</span> <span class="ow">and</span> <span class="mi">13</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#notes-language-cs61a-__codelineno-1-2"></a><span class="mi">13</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#notes-language-cs61a-__codelineno-1-3"></a>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#notes-language-cs61a-__codelineno-1-4"></a><span class="o">&gt;&gt;&gt;</span> <span class="kc">False</span> <span class="ow">or</span> <span class="mi">0</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#notes-language-cs61a-__codelineno-1-5"></a><span class="mi">0</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#notes-language-cs61a-__codelineno-1-6"></a>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#notes-language-cs61a-__codelineno-1-7"></a><span class="o">&gt;&gt;&gt;</span> <span class="ow">not</span> <span class="mi">10</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#notes-language-cs61a-__codelineno-1-8"></a><span class="kc">False</span>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#notes-language-cs61a-__codelineno-1-9"></a>
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#notes-language-cs61a-__codelineno-1-10"></a><span class="o">&gt;&gt;&gt;</span> <span class="ow">not</span> <span class="kc">None</span>
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#notes-language-cs61a-__codelineno-1-11"></a><span class="kc">True</span>
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#notes-language-cs61a-__codelineno-1-12"></a>
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#notes-language-cs61a-__codelineno-1-13"></a><span class="o">&gt;&gt;&gt;</span> <span class="mi">2</span> <span class="ow">and</span> <span class="s1">&#39;&#39;</span>
<a id="__codelineno-1-14" name="__codelineno-1-14" href="#notes-language-cs61a-__codelineno-1-14"></a><span class="s1">&#39;&#39;</span>
</code></pre></div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Just remember <code>not &lt;sth&gt;</code>, <code>a &gt;(&lt;) b</code> returns <code>True</code> or <code>False</code> ( Boolean ), other expressions return themselves.</p>
</div>
<hr />
<h2 id="notes-language-cs61a-higher-order-function">Higher-Order Function<a class="headerlink" href="#notes-language-cs61a-higher-order-function" title="Permanent link">&para;</a></h2>
<blockquote>
<p>A wonderful (but painful) example:</p>
</blockquote>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#notes-language-cs61a-__codelineno-2-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="c1"># If Python displays &lt;function...&gt;, type Function, if it errors type Error, if it displays nothing type Nothing</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#notes-language-cs61a-__codelineno-2-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="k">def</span><span class="w"> </span><span class="nf">cake</span><span class="p">():</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#notes-language-cs61a-__codelineno-2-3"></a><span class="o">...</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;beets&#39;</span><span class="p">)</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#notes-language-cs61a-__codelineno-2-4"></a><span class="o">...</span>    <span class="k">def</span><span class="w"> </span><span class="nf">pie</span><span class="p">():</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#notes-language-cs61a-__codelineno-2-5"></a><span class="o">...</span>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;sweets&#39;</span><span class="p">)</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#notes-language-cs61a-__codelineno-2-6"></a><span class="o">...</span>        <span class="k">return</span> <span class="s1">&#39;cake&#39;</span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#notes-language-cs61a-__codelineno-2-7"></a><span class="o">...</span>    <span class="k">return</span> <span class="n">pie</span>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#notes-language-cs61a-__codelineno-2-8"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">chocolate</span> <span class="o">=</span> <span class="n">cake</span><span class="p">()</span> <span class="c1">#call cake once, but no return value printed, just binded to chocolate</span>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#notes-language-cs61a-__codelineno-2-9"></a><span class="n">beets</span>
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#notes-language-cs61a-__codelineno-2-10"></a>
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#notes-language-cs61a-__codelineno-2-11"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">chocolate</span>
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#notes-language-cs61a-__codelineno-2-12"></a><span class="n">Function</span>
<a id="__codelineno-2-13" name="__codelineno-2-13" href="#notes-language-cs61a-__codelineno-2-13"></a>
<a id="__codelineno-2-14" name="__codelineno-2-14" href="#notes-language-cs61a-__codelineno-2-14"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">chocolate</span><span class="p">()</span> <span class="c1">#call pie once and print the return value</span>
<a id="__codelineno-2-15" name="__codelineno-2-15" href="#notes-language-cs61a-__codelineno-2-15"></a><span class="n">sweets</span>
<a id="__codelineno-2-16" name="__codelineno-2-16" href="#notes-language-cs61a-__codelineno-2-16"></a><span class="s1">&#39;cake&#39;</span>
<a id="__codelineno-2-17" name="__codelineno-2-17" href="#notes-language-cs61a-__codelineno-2-17"></a>
<a id="__codelineno-2-18" name="__codelineno-2-18" href="#notes-language-cs61a-__codelineno-2-18"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">more_chocolate</span><span class="p">,</span> <span class="n">more_cake</span> <span class="o">=</span> <span class="n">chocolate</span><span class="p">(),</span> <span class="n">cake</span> <span class="c1">#call pie once, no return,just binded to more_chocolate</span>
<a id="__codelineno-2-19" name="__codelineno-2-19" href="#notes-language-cs61a-__codelineno-2-19"></a><span class="n">sweets</span>
<a id="__codelineno-2-20" name="__codelineno-2-20" href="#notes-language-cs61a-__codelineno-2-20"></a>
<a id="__codelineno-2-21" name="__codelineno-2-21" href="#notes-language-cs61a-__codelineno-2-21"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">more_chocolate</span> <span class="c1">#after the binding step above, now more_chocolate is just an argument with value &#39;cake&#39;, so print &#39;cake&#39;</span>
<a id="__codelineno-2-22" name="__codelineno-2-22" href="#notes-language-cs61a-__codelineno-2-22"></a><span class="s1">&#39;cake&#39;</span>
</code></pre></div>
<h3 id="notes-language-cs61a-function-currying">Function Currying<a class="headerlink" href="#notes-language-cs61a-function-currying" title="Permanent link">&para;</a></h3>
<blockquote>
<p><strong>Curry</strong> : transforming a function that takes <strong>multiple arguments</strong> into a function that takes <strong>a single argument</strong> and returns another function that takes the next argument, and so on, until all arguments have been supplied.  </p>
</blockquote>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#notes-language-cs61a-__codelineno-3-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">curry2</span><span class="p">(</span><span class="n">f</span><span class="p">):</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#notes-language-cs61a-__codelineno-3-2"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">g</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#notes-language-cs61a-__codelineno-3-3"></a>        <span class="k">def</span><span class="w"> </span><span class="nf">h</span><span class="p">(</span><span class="n">y</span><span class="p">):</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#notes-language-cs61a-__codelineno-3-4"></a>            <span class="k">return</span> <span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#notes-language-cs61a-__codelineno-3-5"></a>        <span class="k">return</span> <span class="n">h</span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#notes-language-cs61a-__codelineno-3-6"></a>    <span class="k">return</span> <span class="n">g</span>
</code></pre></div>
<div class="admonition question">
<p class="admonition-title">Question</p>
<p>Firstly <code>curry2</code> takes a function <code>f</code> as argument (<code>f</code> takes 2 arguments), returning a fuction <code>g</code>. As for <code>g</code>, it defines <code>h</code>, which returns an output of <code>f</code>, and returns a function h.</p>
</div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#notes-language-cs61a-__codelineno-4-1"></a><span class="n">mymax</span> <span class="o">=</span> <span class="n">curry2</span><span class="p">(</span><span class="nb">max</span><span class="p">)</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#notes-language-cs61a-__codelineno-4-2"></a><span class="k">def</span><span class="w"> </span><span class="nf">comparexwith3</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#notes-language-cs61a-__codelineno-4-3"></a>    <span class="k">return</span> <span class="n">x</span> <span class="o">==</span> <span class="n">mymax</span><span class="p">(</span><span class="n">x</span><span class="p">)(</span><span class="mi">3</span><span class="p">)</span>
</code></pre></div>
<div class="admonition success">
<p class="admonition-title">Success</p>
<p><code>mymax</code> equals to <code>g</code> in the definition above, taking 1 argument <code>x</code> to transform into another function <code>h</code> aka <code>max(x)</code>, which also takes 1 argument <code>y</code>, thus aka <code>mymax(x)(y)</code>  </p>
</div>
<p><code>comparexwith3</code> returns if <code>x</code> is larger than 3.  </p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#notes-language-cs61a-__codelineno-5-1"></a><span class="n">python3</span> <span class="o">-</span><span class="n">i</span> <span class="n">improve</span><span class="o">.</span><span class="n">py</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#notes-language-cs61a-__codelineno-5-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">comparexwith3</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#notes-language-cs61a-__codelineno-5-3"></a><span class="kc">True</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#notes-language-cs61a-__codelineno-5-4"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">comparexwith3</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#notes-language-cs61a-__codelineno-5-5"></a><span class="kc">False</span>
</code></pre></div>
<hr />
<h2 id="notes-language-cs61a-mutation">Mutation<a class="headerlink" href="#notes-language-cs61a-mutation" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#notes-language-cs61a-__codelineno-6-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#notes-language-cs61a-__codelineno-6-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">b</span> <span class="o">=</span> <span class="n">a</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#notes-language-cs61a-__codelineno-6-3"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">b</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#notes-language-cs61a-__codelineno-6-4"></a><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#notes-language-cs61a-__codelineno-6-5"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">a</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#notes-language-cs61a-__codelineno-6-6"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">a</span>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#notes-language-cs61a-__codelineno-6-7"></a><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#notes-language-cs61a-__codelineno-6-8"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">b</span>
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#notes-language-cs61a-__codelineno-6-9"></a><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
</code></pre></div>
<details class="question">
<summary>What's going on?</summary>
<p><code>a</code> and <code>b</code> are the <strong>same list</strong>. Recalling the POINTER concept in C, they are both pointing at the same memory address.  </p>
</details>
<p>Furthermore we have these:
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#notes-language-cs61a-__codelineno-7-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">a</span> <span class="o">==</span> <span class="n">b</span> <span class="c1"># &quot;==&quot; operator checks if two variables have the same *value*</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#notes-language-cs61a-__codelineno-7-2"></a><span class="kc">True</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#notes-language-cs61a-__codelineno-7-3"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">a</span> <span class="ow">is</span> <span class="n">b</span> <span class="c1"># &quot;is&quot; operator checks if two variables point to the same *memory address*</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#notes-language-cs61a-__codelineno-7-4"></a><span class="kc">True</span>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#notes-language-cs61a-__codelineno-7-5"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">c</span> <span class="o">=</span> <span class="n">a</span><span class="p">[:]</span> <span class="c1">#c is a new list, occupying a different memory address</span>
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#notes-language-cs61a-__codelineno-7-6"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">a</span> <span class="o">==</span> <span class="n">c</span>
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#notes-language-cs61a-__codelineno-7-7"></a><span class="kc">True</span>
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#notes-language-cs61a-__codelineno-7-8"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">a</span> <span class="ow">is</span> <span class="n">c</span>
<a id="__codelineno-7-9" name="__codelineno-7-9" href="#notes-language-cs61a-__codelineno-7-9"></a><span class="kc">False</span>
</code></pre></div></p>
<hr />
<h3 id="notes-language-cs61a-a-filter-question">A filter question<a class="headerlink" href="#notes-language-cs61a-a-filter-question" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#notes-language-cs61a-__codelineno-8-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">wrong_filter</span><span class="p">(</span><span class="n">condition</span><span class="p">,</span> <span class="n">lst</span><span class="p">):</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#notes-language-cs61a-__codelineno-8-2"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Filters lst with condition using mutation.</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#notes-language-cs61a-__codelineno-8-3"></a><span class="sd">    &gt;&gt;&gt; original_list = [5, -1, 2, 0]</span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#notes-language-cs61a-__codelineno-8-4"></a><span class="sd">    &gt;&gt;&gt; filter(lambda x: x % 2 == 0, original_list)</span>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#notes-language-cs61a-__codelineno-8-5"></a><span class="sd">    &gt;&gt;&gt; original_list</span>
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#notes-language-cs61a-__codelineno-8-6"></a><span class="sd">    [2, 0]</span>
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#notes-language-cs61a-__codelineno-8-7"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#notes-language-cs61a-__codelineno-8-8"></a>    <span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="n">lst</span><span class="p">:</span>
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#notes-language-cs61a-__codelineno-8-9"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">condition</span><span class="p">(</span><span class="n">elem</span><span class="p">):</span>
<a id="__codelineno-8-10" name="__codelineno-8-10" href="#notes-language-cs61a-__codelineno-8-10"></a>            <span class="n">lst</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
<a id="__codelineno-8-11" name="__codelineno-8-11" href="#notes-language-cs61a-__codelineno-8-11"></a>
<a id="__codelineno-8-12" name="__codelineno-8-12" href="#notes-language-cs61a-__codelineno-8-12"></a><span class="k">def</span><span class="w"> </span><span class="nf">filter</span><span class="p">(</span><span class="n">condition</span><span class="p">,</span> <span class="n">lst</span><span class="p">):</span>
<a id="__codelineno-8-13" name="__codelineno-8-13" href="#notes-language-cs61a-__codelineno-8-13"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Filters lst with condition using mutation.</span>
<a id="__codelineno-8-14" name="__codelineno-8-14" href="#notes-language-cs61a-__codelineno-8-14"></a><span class="sd">    &gt;&gt;&gt; original_list = [5, -1, 2, 0]</span>
<a id="__codelineno-8-15" name="__codelineno-8-15" href="#notes-language-cs61a-__codelineno-8-15"></a><span class="sd">    &gt;&gt;&gt; filter(lambda x: x % 2 == 0, original_list)</span>
<a id="__codelineno-8-16" name="__codelineno-8-16" href="#notes-language-cs61a-__codelineno-8-16"></a><span class="sd">    &gt;&gt;&gt; original_list</span>
<a id="__codelineno-8-17" name="__codelineno-8-17" href="#notes-language-cs61a-__codelineno-8-17"></a><span class="sd">    [2, 0]</span>
<a id="__codelineno-8-18" name="__codelineno-8-18" href="#notes-language-cs61a-__codelineno-8-18"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-8-19" name="__codelineno-8-19" href="#notes-language-cs61a-__codelineno-8-19"></a>    <span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="n">lst</span><span class="p">[:]:</span>
<a id="__codelineno-8-20" name="__codelineno-8-20" href="#notes-language-cs61a-__codelineno-8-20"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">condition</span><span class="p">(</span><span class="n">elem</span><span class="p">):</span>
<a id="__codelineno-8-21" name="__codelineno-8-21" href="#notes-language-cs61a-__codelineno-8-21"></a>            <span class="n">lst</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
</code></pre></div>
<p>Vaguely, Python's 'for' loop is implemented by keeping track of the "index" of a list.<br />
When the list is mutated, the index is not updated, thus the loop may skip some elements.<br />
For example:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#notes-language-cs61a-__codelineno-9-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">original_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#notes-language-cs61a-__codelineno-9-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#notes-language-cs61a-__codelineno-9-3"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">wrong_filter</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">original_list</span><span class="p">)</span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#notes-language-cs61a-__codelineno-9-4"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">original_list</span>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#notes-language-cs61a-__codelineno-9-5"></a><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
</code></pre></div>
Here "for" loop checks firstly <code>original_list[0]</code>, then <code>original_list[1]</code>, and then <code>original_list[2]</code>.<br />
So at first, considers 5, 5 is rid of. Then considers the "[1]" index, which now represents 2 in the list.<br />
---&gt; -1 is skipped, not checked.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#notes-language-cs61a-__codelineno-10-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">original_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#notes-language-cs61a-__codelineno-10-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">filter</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">original_list</span><span class="p">)</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#notes-language-cs61a-__codelineno-10-3"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">original_list</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#notes-language-cs61a-__codelineno-10-4"></a><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
</code></pre></div>
In the correct version of filter, <code>lst[:]</code> creates a new list copy.<br />
So when the original list is mutated, the loop still checks the original list <strong>copy</strong>, which never changes.<br />
Thus every element of every location is checked.</p>
<hr />
<h2 id="notes-language-cs61a-sequence">Sequence<a class="headerlink" href="#notes-language-cs61a-sequence" title="Permanent link">&para;</a></h2>
<h3 id="notes-language-cs61a-list-mutable">List (Mutable)<a class="headerlink" href="#notes-language-cs61a-list-mutable" title="Permanent link">&para;</a></h3>
<blockquote>
<p>A list is a sequence of values. In a list, the values can be of any type and <strong>need not</strong> be of the same type as each other.</p>
</blockquote>
<p>Useful methods &amp; functions on <a href="https://diveintopython3.net/native-datatypes.html#lists">Dive into Python3</a></p>
<h3 id="notes-language-cs61a-tuple-immutable">Tuple (Immutable)<a class="headerlink" href="#notes-language-cs61a-tuple-immutable" title="Permanent link">&para;</a></h3>
<blockquote>
<p>A tuple is an ordered collection of values, similar to a list. However, it is not possible to add, remove, or modify values in a tuple.(Immutable)</p>
</blockquote>
<h3 id="notes-language-cs61a-dictionary-mutable">Dictionary (Mutable)<a class="headerlink" href="#notes-language-cs61a-dictionary-mutable" title="Permanent link">&para;</a></h3>
<blockquote>
<p>Another type of collection, called a dictionary, allows us to store and access values that correspond to given keys.</p>
</blockquote>
<p><code>dict.keys()</code> will return a sequence of keys.<br />
<code>dict.values()</code> will return a sequence of values.<br />
<code>dict.items()</code> will return a sequence of key-value tuples.</p>
<hr />
<h2 id="notes-language-cs61a-object-oriented-programming">Object-Oriented Programming<a class="headerlink" href="#notes-language-cs61a-object-oriented-programming" title="Permanent link">&para;</a></h2>
<blockquote>
<p>My Point of View: A way to synthesize some target-centered segments of a whole program to avoid program and, err, maybe enable objects to be defined easier. </p>
</blockquote>
<p>Hard to explain, just try more examples.  </p>
<p>Class Attributes: Something communal to all instances of a class, like <code>eat</code> for all <code>Pet</code> instances.<br />
Instance Attributes: Something unique to each instance, like <code>name</code> for each <code>Pet</code> instance.</p>
<h2 id="notes-language-cs61a-string-representation">String Representation<a class="headerlink" href="#notes-language-cs61a-string-representation" title="Permanent link">&para;</a></h2>
<p><code>__repr__</code> when invoked on an object, ignores its Instance Attribute, and only calls the Class Attribute <code>__repr__</code>.<br />
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#notes-language-cs61a-__codelineno-11-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">repr</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#notes-language-cs61a-__codelineno-11-2"></a>    <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</code></pre></div></p>
<h2 id="notes-language-cs61a-memorization">Memorization<a class="headerlink" href="#notes-language-cs61a-memorization" title="Permanent link">&para;</a></h2>
<p>A way to store the results of expensive function calls and return the cached result when the same inputs occur again.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#notes-language-cs61a-__codelineno-12-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">memo</span><span class="p">(</span><span class="n">f</span><span class="p">):</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#notes-language-cs61a-__codelineno-12-2"></a>    <span class="n">cache</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#notes-language-cs61a-__codelineno-12-3"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">memoized</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#notes-language-cs61a-__codelineno-12-4"></a>        <span class="k">if</span> <span class="n">n</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">cache</span><span class="p">:</span>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#notes-language-cs61a-__codelineno-12-5"></a>            <span class="n">cache</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#notes-language-cs61a-__codelineno-12-6"></a>        <span class="k">return</span> <span class="n">cache</span><span class="p">[</span><span class="n">n</span><span class="p">]</span>
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#notes-language-cs61a-__codelineno-12-7"></a>    <span class="k">return</span> <span class="n">memoized</span>
</code></pre></div>
<h2 id="notes-language-cs61a-linked-list">Linked List<a class="headerlink" href="#notes-language-cs61a-linked-list" title="Permanent link">&para;</a></h2>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#notes-language-cs61a-__codelineno-13-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">Link</span><span class="p">:</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#notes-language-cs61a-__codelineno-13-2"></a>    <span class="n">empty</span> <span class="o">=</span> <span class="p">()</span>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#notes-language-cs61a-__codelineno-13-3"></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">rest</span><span class="o">=</span><span class="n">empty</span><span class="p">):</span>
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#notes-language-cs61a-__codelineno-13-4"></a>        <span class="k">assert</span> <span class="n">rest</span> <span class="ow">is</span> <span class="n">Link</span><span class="o">.</span><span class="n">empty</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">rest</span><span class="p">,</span> <span class="n">Link</span><span class="p">)</span>
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#notes-language-cs61a-__codelineno-13-5"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">first</span> <span class="o">=</span> <span class="n">first</span>
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#notes-language-cs61a-__codelineno-13-6"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rest</span> <span class="o">=</span> <span class="n">rest</span>
</code></pre></div>
Notice the rest and the first are both possible to be a Link instance.</p>
<h2 id="notes-language-cs61a-miscellaneous">Miscellaneous<a class="headerlink" href="#notes-language-cs61a-miscellaneous" title="Permanent link">&para;</a></h2>
<h3 id="notes-language-cs61a-some-functionoperator-details">Some function/operator details<a class="headerlink" href="#notes-language-cs61a-some-functionoperator-details" title="Permanent link">&para;</a></h3>
<ul>
<li><code>min</code> and <code>max</code>, when there are multiple arguments all have the minimal/maximal value, return the argument which appears first.  </li>
<li>
<p><code>in</code> when used within a dictionary, only considers KEYS.
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#notes-language-cs61a-__codelineno-14-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">pokemon</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;pikachu&#39;</span><span class="p">:</span> <span class="mi">25</span><span class="p">,</span> <span class="s1">&#39;dragonair&#39;</span><span class="p">:</span> <span class="mi">148</span><span class="p">,</span> <span class="s1">&#39;mew&#39;</span><span class="p">:</span> <span class="mi">151</span><span class="p">}</span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#notes-language-cs61a-__codelineno-14-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="s1">&#39;pikachu&#39;</span> <span class="ow">in</span> <span class="n">pokemon</span>
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#notes-language-cs61a-__codelineno-14-3"></a><span class="kc">True</span>
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#notes-language-cs61a-__codelineno-14-4"></a><span class="o">&gt;&gt;&gt;</span> <span class="mi">25</span> <span class="ow">in</span> <span class="n">pokemon</span>
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#notes-language-cs61a-__codelineno-14-5"></a><span class="kc">False</span>
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#notes-language-cs61a-__codelineno-14-6"></a><span class="o">&gt;&gt;&gt;</span> <span class="mi">25</span> <span class="ow">in</span> <span class="n">pokemon</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
<a id="__codelineno-14-7" name="__codelineno-14-7" href="#notes-language-cs61a-__codelineno-14-7"></a><span class="kc">True</span>
</code></pre></div></p>
</li>
<li>
<p>If class A inherits from class B and a is an instance of A, then <code>isinstance(a, B)</code> is <code>True</code>, but <code>type(a) == B</code> is <code>False</code>.</p>
</li>
</ul></section><section class="print-page" id="notes-language-verilog" heading-number="4.6.2"><h1 id="notes-language-verilog-hdlbits">HDLBits 题解<a class="headerlink" href="#notes-language-verilog-hdlbits" title="Permanent link">&para;</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 35 个字 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6m80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3l89.3 89.4-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3"/></svg></span> 79 行代码 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 1 分钟</p>
</div>
<blockquote>
<p>Syntactically-correct code does not necessarily result in a reasonable circuit.</p>
</blockquote>
<h2 id="notes-language-verilog-basics">Basics<a class="headerlink" href="#notes-language-verilog-basics" title="Permanent link">&para;</a></h2>
<h3 id="notes-language-verilog-7458-chip">7458 chip<a class="headerlink" href="#notes-language-verilog-7458-chip" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#notes-language-verilog-__codelineno-0-1"></a><span class="k">module</span><span class="w"> </span><span class="n">top_module</span><span class="w"> </span><span class="p">(</span><span class="w"> </span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#notes-language-verilog-__codelineno-0-2"></a><span class="w">    </span><span class="k">input</span><span class="w"> </span><span class="n">p1a</span><span class="p">,</span><span class="w"> </span><span class="n">p1b</span><span class="p">,</span><span class="w"> </span><span class="n">p1c</span><span class="p">,</span><span class="w"> </span><span class="n">p1d</span><span class="p">,</span><span class="w"> </span><span class="n">p1e</span><span class="p">,</span><span class="w"> </span><span class="n">p1f</span><span class="p">,</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#notes-language-verilog-__codelineno-0-3"></a><span class="w">    </span><span class="k">output</span><span class="w"> </span><span class="n">p1y</span><span class="p">,</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#notes-language-verilog-__codelineno-0-4"></a><span class="w">    </span><span class="k">input</span><span class="w"> </span><span class="n">p2a</span><span class="p">,</span><span class="w"> </span><span class="n">p2b</span><span class="p">,</span><span class="w"> </span><span class="n">p2c</span><span class="p">,</span><span class="w"> </span><span class="n">p2d</span><span class="p">,</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#notes-language-verilog-__codelineno-0-5"></a><span class="w">    </span><span class="k">output</span><span class="w"> </span><span class="n">p2y</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#notes-language-verilog-__codelineno-0-6"></a>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#notes-language-verilog-__codelineno-0-7"></a><span class="w">    </span><span class="k">assign</span><span class="w"> </span><span class="n">p1y</span><span class="o">=</span><span class="p">(</span><span class="n">p1a</span><span class="o">&amp;</span><span class="n">p1b</span><span class="o">&amp;</span><span class="n">p1c</span><span class="p">)</span><span class="o">|</span><span class="p">(</span><span class="n">p1d</span><span class="o">&amp;</span><span class="n">p1f</span><span class="o">&amp;</span><span class="n">p1e</span><span class="p">);</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#notes-language-verilog-__codelineno-0-8"></a><span class="w">    </span><span class="k">assign</span><span class="w"> </span><span class="n">p2y</span><span class="o">=</span><span class="p">(</span><span class="n">p2a</span><span class="o">&amp;</span><span class="n">p2b</span><span class="p">)</span><span class="o">|</span><span class="p">(</span><span class="n">p2c</span><span class="o">&amp;</span><span class="n">p2d</span><span class="p">);</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#notes-language-verilog-__codelineno-0-9"></a><span class="k">endmodule</span>
</code></pre></div>
<h2 id="notes-language-verilog-vectors">Vectors<a class="headerlink" href="#notes-language-verilog-vectors" title="Permanent link">&para;</a></h2>
<h3 id="notes-language-verilog-vector-part-select">Vector Part Select<a class="headerlink" href="#notes-language-verilog-vector-part-select" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#notes-language-verilog-__codelineno-1-1"></a><span class="k">module</span><span class="w"> </span><span class="n">top_module</span><span class="p">(</span><span class="w"> </span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#notes-language-verilog-__codelineno-1-2"></a><span class="w">    </span><span class="k">input</span><span class="w"> </span><span class="p">[</span><span class="mh">31</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w"> </span><span class="n">in</span><span class="p">,</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#notes-language-verilog-__codelineno-1-3"></a><span class="w">    </span><span class="k">output</span><span class="w"> </span><span class="p">[</span><span class="mh">31</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#notes-language-verilog-__codelineno-1-4"></a>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#notes-language-verilog-__codelineno-1-5"></a><span class="w">    </span><span class="kt">wire</span><span class="w"> </span><span class="p">[</span><span class="mh">7</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">;</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#notes-language-verilog-__codelineno-1-6"></a><span class="w">    </span><span class="k">assign</span><span class="w"> </span><span class="p">{</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">;</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#notes-language-verilog-__codelineno-1-7"></a><span class="w">    </span><span class="k">assign</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">d</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">a</span><span class="p">};</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#notes-language-verilog-__codelineno-1-8"></a>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#notes-language-verilog-__codelineno-1-9"></a><span class="k">endmodule</span>
</code></pre></div>
<h3 id="notes-language-verilog-replication">Replication<a class="headerlink" href="#notes-language-verilog-replication" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#notes-language-verilog-__codelineno-2-1"></a><span class="k">module</span><span class="w"> </span><span class="n">top_module</span><span class="w"> </span><span class="p">(</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#notes-language-verilog-__codelineno-2-2"></a><span class="w">    </span><span class="k">input</span><span class="w"> </span><span class="p">[</span><span class="mh">7</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w"> </span><span class="n">in</span><span class="p">,</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#notes-language-verilog-__codelineno-2-3"></a><span class="w">    </span><span class="k">output</span><span class="w"> </span><span class="p">[</span><span class="mh">31</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="p">);</span><span class="c1">//</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#notes-language-verilog-__codelineno-2-4"></a>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#notes-language-verilog-__codelineno-2-5"></a><span class="w">    </span><span class="k">assign</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{{</span><span class="mh">24</span><span class="p">{</span><span class="n">in</span><span class="p">[</span><span class="mh">7</span><span class="p">]}},</span><span class="n">in</span><span class="p">};</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#notes-language-verilog-__codelineno-2-6"></a>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#notes-language-verilog-__codelineno-2-7"></a><span class="k">endmodule</span>
</code></pre></div>
<h2 id="notes-language-verilog-modules-hierarchy">Modules: Hierarchy<a class="headerlink" href="#notes-language-verilog-modules-hierarchy" title="Permanent link">&para;</a></h2>
<h3 id="notes-language-verilog-modules">Modules<a class="headerlink" href="#notes-language-verilog-modules" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#notes-language-verilog-__codelineno-3-1"></a><span class="k">module</span><span class="w"> </span><span class="n">top_module</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="k">input</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="k">input</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="k">output</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#notes-language-verilog-__codelineno-3-2"></a><span class="w">    </span><span class="n">mod_a</span><span class="w"> </span><span class="n">tmp</span><span class="p">(.</span><span class="n">in1</span><span class="p">(</span><span class="n">a</span><span class="p">),</span><span class="w"> </span><span class="p">.</span><span class="n">in2</span><span class="p">(</span><span class="n">b</span><span class="p">),</span><span class="w"> </span><span class="p">.</span><span class="n">out</span><span class="p">(</span><span class="n">out</span><span class="p">));</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#notes-language-verilog-__codelineno-3-3"></a><span class="k">endmodule</span>
</code></pre></div>
<h3 id="notes-language-verilog-module-shift8">Module Shift8<a class="headerlink" href="#notes-language-verilog-module-shift8" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#notes-language-verilog-__codelineno-4-1"></a><span class="k">module</span><span class="w"> </span><span class="n">top_module</span><span class="w"> </span><span class="p">(</span><span class="w"> </span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#notes-language-verilog-__codelineno-4-2"></a><span class="w">    </span><span class="k">input</span><span class="w"> </span><span class="n">clk</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#notes-language-verilog-__codelineno-4-3"></a><span class="w">    </span><span class="k">input</span><span class="w"> </span><span class="p">[</span><span class="mh">7</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#notes-language-verilog-__codelineno-4-4"></a><span class="w">    </span><span class="k">input</span><span class="w"> </span><span class="p">[</span><span class="mh">1</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w"> </span><span class="n">sel</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#notes-language-verilog-__codelineno-4-5"></a><span class="w">    </span><span class="k">output</span><span class="w"> </span><span class="p">[</span><span class="mh">7</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w"> </span><span class="n">q</span><span class="w"> </span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#notes-language-verilog-__codelineno-4-6"></a><span class="p">);</span>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#notes-language-verilog-__codelineno-4-7"></a><span class="w">    </span><span class="kt">logic</span><span class="w"> </span><span class="p">[</span><span class="mh">7</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w"> </span><span class="n">o1</span><span class="p">,</span><span class="n">o2</span><span class="p">,</span><span class="n">o3</span><span class="p">;</span>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#notes-language-verilog-__codelineno-4-8"></a><span class="w">    </span><span class="n">my_dff8</span><span class="w"> </span><span class="n">t1</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span><span class="n">d</span><span class="p">,</span><span class="n">o1</span><span class="p">);</span>
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#notes-language-verilog-__codelineno-4-9"></a><span class="w">    </span><span class="n">my_dff8</span><span class="w"> </span><span class="n">t2</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span><span class="n">o1</span><span class="p">,</span><span class="n">o2</span><span class="p">);</span>
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#notes-language-verilog-__codelineno-4-10"></a><span class="w">    </span><span class="n">my_dff8</span><span class="w"> </span><span class="n">t3</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span><span class="n">o2</span><span class="p">,</span><span class="n">o3</span><span class="p">);</span>
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#notes-language-verilog-__codelineno-4-11"></a><span class="w">    </span><span class="k">always_comb</span><span class="w"> </span><span class="k">begin</span>
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#notes-language-verilog-__codelineno-4-12"></a><span class="w">        </span><span class="k">case</span><span class="p">(</span><span class="n">sel</span><span class="p">)</span>
<a id="__codelineno-4-13" name="__codelineno-4-13" href="#notes-language-verilog-__codelineno-4-13"></a><span class="w">            </span><span class="mh">2</span><span class="mi">&#39;d0</span><span class="o">:</span><span class="w"> </span><span class="n">q</span><span class="o">=</span><span class="n">d</span><span class="p">;</span>
<a id="__codelineno-4-14" name="__codelineno-4-14" href="#notes-language-verilog-__codelineno-4-14"></a><span class="w">            </span><span class="mh">2</span><span class="mi">&#39;d1</span><span class="o">:</span><span class="n">q</span><span class="o">=</span><span class="n">o1</span><span class="p">;</span>
<a id="__codelineno-4-15" name="__codelineno-4-15" href="#notes-language-verilog-__codelineno-4-15"></a><span class="w">            </span><span class="mh">2</span><span class="mi">&#39;d2</span><span class="o">:</span><span class="n">q</span><span class="o">=</span><span class="n">o2</span><span class="p">;</span>
<a id="__codelineno-4-16" name="__codelineno-4-16" href="#notes-language-verilog-__codelineno-4-16"></a><span class="w">            </span><span class="mh">2</span><span class="mi">&#39;d3</span><span class="o">:</span><span class="n">q</span><span class="o">=</span><span class="n">o3</span><span class="p">;</span>
<a id="__codelineno-4-17" name="__codelineno-4-17" href="#notes-language-verilog-__codelineno-4-17"></a><span class="w">        </span><span class="k">endcase</span>
<a id="__codelineno-4-18" name="__codelineno-4-18" href="#notes-language-verilog-__codelineno-4-18"></a><span class="w">    </span><span class="k">end</span>
<a id="__codelineno-4-19" name="__codelineno-4-19" href="#notes-language-verilog-__codelineno-4-19"></a><span class="k">endmodule</span>
</code></pre></div>
<h2 id="notes-language-verilog-procedures">Procedures<a class="headerlink" href="#notes-language-verilog-procedures" title="Permanent link">&para;</a></h2>
<h3 id="notes-language-verilog-always-blocksclocked">Always Blocks(clocked)<a class="headerlink" href="#notes-language-verilog-always-blocksclocked" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#notes-language-verilog-__codelineno-5-1"></a><span class="c1">// synthesis verilog_input_version verilog_2001</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#notes-language-verilog-__codelineno-5-2"></a><span class="k">module</span><span class="w"> </span><span class="n">top_module</span><span class="p">(</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#notes-language-verilog-__codelineno-5-3"></a><span class="w">    </span><span class="k">input</span><span class="w"> </span><span class="n">clk</span><span class="p">,</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#notes-language-verilog-__codelineno-5-4"></a><span class="w">    </span><span class="k">input</span><span class="w"> </span><span class="n">a</span><span class="p">,</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#notes-language-verilog-__codelineno-5-5"></a><span class="w">    </span><span class="k">input</span><span class="w"> </span><span class="n">b</span><span class="p">,</span>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#notes-language-verilog-__codelineno-5-6"></a><span class="w">    </span><span class="k">output</span><span class="w"> </span><span class="kt">wire</span><span class="w"> </span><span class="n">out_assign</span><span class="p">,</span>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#notes-language-verilog-__codelineno-5-7"></a><span class="w">    </span><span class="k">output</span><span class="w"> </span><span class="kt">reg</span><span class="w"> </span><span class="n">out_always_comb</span><span class="p">,</span>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#notes-language-verilog-__codelineno-5-8"></a><span class="w">    </span><span class="k">output</span><span class="w"> </span><span class="kt">reg</span><span class="w"> </span><span class="n">out_always_ff</span><span class="w">   </span><span class="p">);</span>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#notes-language-verilog-__codelineno-5-9"></a><span class="w">    </span><span class="k">assign</span><span class="w"> </span><span class="n">out_assign</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="o">^</span><span class="n">b</span><span class="p">;</span>
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#notes-language-verilog-__codelineno-5-10"></a><span class="w">    </span><span class="k">always</span><span class="w"> </span><span class="n">out_always_comb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="o">^</span><span class="n">b</span><span class="p">;</span>
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#notes-language-verilog-__codelineno-5-11"></a><span class="w">    </span><span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="k">posedge</span><span class="w"> </span><span class="n">clk</span><span class="p">)</span><span class="w"> </span><span class="n">out_always_ff</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="o">^</span><span class="n">b</span><span class="p">;</span>
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#notes-language-verilog-__codelineno-5-12"></a><span class="k">endmodule</span>
</code></pre></div>
<h2 id="notes-language-verilog-circuits">Circuits<a class="headerlink" href="#notes-language-verilog-circuits" title="Permanent link">&para;</a></h2>
<h3 id="notes-language-verilog-combinational-logic">Combinational Logic<a class="headerlink" href="#notes-language-verilog-combinational-logic" title="Permanent link">&para;</a></h3>
<h4 id="notes-language-verilog-9-1-mux">9-1 Mux<a class="headerlink" href="#notes-language-verilog-9-1-mux" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#notes-language-verilog-__codelineno-6-1"></a><span class="k">module</span><span class="w"> </span><span class="n">top_module</span><span class="p">(</span><span class="w"> </span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#notes-language-verilog-__codelineno-6-2"></a><span class="w">    </span><span class="k">input</span><span class="w"> </span><span class="p">[</span><span class="mh">15</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="p">,</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="p">,</span><span class="w"> </span><span class="n">f</span><span class="p">,</span><span class="w"> </span><span class="n">g</span><span class="p">,</span><span class="w"> </span><span class="n">h</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">,</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#notes-language-verilog-__codelineno-6-3"></a><span class="w">    </span><span class="k">input</span><span class="w"> </span><span class="p">[</span><span class="mh">3</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w"> </span><span class="n">sel</span><span class="p">,</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#notes-language-verilog-__codelineno-6-4"></a><span class="w">    </span><span class="k">output</span><span class="w"> </span><span class="p">[</span><span class="mh">15</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#notes-language-verilog-__codelineno-6-5"></a><span class="w">    </span><span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#notes-language-verilog-__codelineno-6-6"></a><span class="w">        </span><span class="k">case</span><span class="p">(</span><span class="n">sel</span><span class="p">)</span><span class="w"> </span>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#notes-language-verilog-__codelineno-6-7"></a><span class="w">            </span><span class="mh">4</span><span class="mb">&#39;b0000</span><span class="o">:</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">;</span>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#notes-language-verilog-__codelineno-6-8"></a><span class="w">            </span><span class="mh">4</span><span class="mi">&#39;d1</span><span class="o">:</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#notes-language-verilog-__codelineno-6-9"></a><span class="w">            </span><span class="mh">4</span><span class="mi">&#39;d2</span><span class="o">:</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">c</span><span class="p">;</span>
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#notes-language-verilog-__codelineno-6-10"></a><span class="w">            </span><span class="mh">4</span><span class="mi">&#39;d3</span><span class="o">:</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d</span><span class="p">;</span>
<a id="__codelineno-6-11" name="__codelineno-6-11" href="#notes-language-verilog-__codelineno-6-11"></a><span class="w">            </span><span class="mh">4</span><span class="mi">&#39;d4</span><span class="o">:</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">e</span><span class="p">;</span>
<a id="__codelineno-6-12" name="__codelineno-6-12" href="#notes-language-verilog-__codelineno-6-12"></a><span class="w">            </span><span class="mh">4</span><span class="mi">&#39;d5</span><span class="o">:</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">f</span><span class="p">;</span>
<a id="__codelineno-6-13" name="__codelineno-6-13" href="#notes-language-verilog-__codelineno-6-13"></a><span class="w">            </span><span class="mh">4</span><span class="mi">&#39;d6</span><span class="o">:</span><span class="n">out</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">g</span><span class="p">;</span>
<a id="__codelineno-6-14" name="__codelineno-6-14" href="#notes-language-verilog-__codelineno-6-14"></a><span class="w">            </span><span class="mh">4</span><span class="mi">&#39;d7</span><span class="o">:</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">h</span><span class="p">;</span>
<a id="__codelineno-6-15" name="__codelineno-6-15" href="#notes-language-verilog-__codelineno-6-15"></a><span class="w">            </span><span class="mh">4</span><span class="mi">&#39;d8</span><span class="o">:</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<a id="__codelineno-6-16" name="__codelineno-6-16" href="#notes-language-verilog-__codelineno-6-16"></a><span class="w">            </span><span class="k">default</span><span class="o">:</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mh">16</span><span class="p">{</span><span class="mh">1</span><span class="mb">&#39;b1</span><span class="p">}};</span>
<a id="__codelineno-6-17" name="__codelineno-6-17" href="#notes-language-verilog-__codelineno-6-17"></a><span class="w">        </span><span class="k">endcase</span>
<a id="__codelineno-6-18" name="__codelineno-6-18" href="#notes-language-verilog-__codelineno-6-18"></a><span class="w">    </span><span class="k">end</span>
<a id="__codelineno-6-19" name="__codelineno-6-19" href="#notes-language-verilog-__codelineno-6-19"></a><span class="k">endmodule</span>
</code></pre></div></section><section class="print-page" id="notes-language-cpp" heading-number="4.6.3"><nav class='md-tags'><span class='md-tag'>大二下笔记</span></nav><h1 id="_1">面向对象程序设计<a class="headerlink" href="#notes-language-cpp-_1" title="Permanent link">&para;</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 1241 个字 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6m80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3l89.3 89.4-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3"/></svg></span> 147 行代码 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 17H7V3h14m0-2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2M3 5H1v16a2 2 0 0 0 2 2h16v-2H3m12.96-10.71-2.75 3.54-1.96-2.36L8.5 15h11z"/></svg></span> 2 张图片 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 5 分钟</p>
</div>
<blockquote>
<p>任课教师：许威威</p>
</blockquote>
<div class="admonition note">
<p class="admonition-title">Links</p>
<p><a href="https://tree.45gfg9.net/lcppthw/construct/">https://tree.45gfg9.net/lcppthw/construct/</a></p>
</div>
<h2 id="notes-language-cpp-lec1">Lec1<a class="headerlink" href="#notes-language-cpp-lec1" title="Permanent link">&para;</a></h2>
<p>c(onstruc)tor: 构造函数，函数名和类名相同</p>
<h2 id="notes-language-cpp-lec2">Lec2<a class="headerlink" href="#notes-language-cpp-lec2" title="Permanent link">&para;</a></h2>
<p><img alt="" src="../notes/Language/assets/oop1.png" /></p>
<ul>
<li>全局变量（Global Variable）：定义在函数外部的变量，使用 <code>extern</code> 关键字可以使用其他文件中定义的全局变量<ul>
<li>静态全局变量（Static Global Variable）：只能在当前文件中使用</li>
</ul>
</li>
<li>局部变量（Local Variable）：定义在函数内部的变量，只能在函数内部使用<ul>
<li>静态局部变量（Static Local Variable）：其值在函数调用结束后不会改变，下次调用时仍然可以使用</li>
</ul>
</li>
</ul>
<h3 id="notes-language-cpp-pointer">Pointer<a class="headerlink" href="#notes-language-cpp-pointer" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#notes-language-cpp-__codelineno-0-1"></a><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">s</span><span class="p">;</span>
</code></pre></div>
<p>创造了一个 <code>string</code> 类型的对象，调用了构造函数</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#notes-language-cpp-__codelineno-1-1"></a><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="o">*</span><span class="n">p</span><span class="p">;</span>
</code></pre></div>
<p>创造了一个指向 <code>string</code> 类型的指针，指向的 <code>string</code> 对象还没有被创建</p>
<h3 id="notes-language-cpp-_2">动态分配内存<a class="headerlink" href="#notes-language-cpp-_2" title="Permanent link">&para;</a></h3>
<p>C++ uses <code>new</code> and <code>delete</code></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#notes-language-cpp-__codelineno-2-1"></a><span class="k">new</span><span class="w"> </span><span class="o">&lt;</span><span class="n">class_name</span><span class="o">&gt;</span><span class="p">;</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#notes-language-cpp-__codelineno-2-2"></a><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="p">[</span><span class="mi">10</span><span class="p">];</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#notes-language-cpp-__codelineno-2-3"></a><span class="k">delete</span><span class="w"> </span><span class="p">[]</span><span class="w"> </span><span class="n">p</span><span class="p">;</span>
</code></pre></div>
<p>返回申请内存的首地址（因此一般赋值给一个指针）（？）。和 <code>malloc</code> 不同的是，<code>new</code> 是创建了一个对象的实例，因此调用了其构造函数（<code>delete</code> 时也调用析构函数）</p>
<p><code>a = new int [10]; delete [] a;</code> 释放 10 个 <code>int</code> 类型的内存，<code>delete a</code> 只释放一个 <code>int</code> 类型的内存</p>
<p>不同于 <code>free(NULL)</code>，<code>delete</code> 一个空指针是安全的</p>
<h3 id="notes-language-cpp-reference">Reference<a class="headerlink" href="#notes-language-cpp-reference" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#notes-language-cpp-__codelineno-3-1"></a><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="p">;</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#notes-language-cpp-__codelineno-3-2"></a><span class="kt">char</span><span class="w"> </span><span class="o">&amp;</span><span class="n">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">c</span><span class="p">;</span><span class="w"> </span><span class="c1">// 并非取地址</span>
</code></pre></div>
<p>Ref 定义时必须赋初值，且引用的对象不再改变（即后面如果出现给 <code>r</code> 赋值的操作，实际上是给 <code>c</code> 赋值）</p>
<ul>
<li>不能 Ref Ref</li>
<li>不能存在指向 Ref 的指针（<code>char&amp; *p // illegal</code>）<ul>
<li>可以有引用指针的 Ref（<code>char* &amp;p // ok</code>）</li>
</ul>
</li>
<li>没有 Ref 数组</li>
</ul>
<h3 id="notes-language-cpp-const">const<a class="headerlink" href="#notes-language-cpp-const" title="Permanent link">&para;</a></h3>
<p>不允许修改</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#notes-language-cpp-__codelineno-4-1"></a><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#notes-language-cpp-__codelineno-4-2"></a><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span><span class="w"> </span><span class="c1">// illegal</span>
</code></pre></div>
<ul>
<li>Compile-time const: <code>const int a = 10;</code>，在编译时就确定了（是 symbol 的 entry）</li>
<li>Run-time const: <code>cin &gt;&gt; x; const int a = x;</code>，在运行时才确定，例如接受用户输入</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Aggregates</p>
<p><code>const int a[] = {1, 2, 3}; float f(a[1]);</code> 会报错，因为编译器在编译时不会深究 const 数组内部的东西</p>
</div>
<div class="admonition note">
<p class="admonition-title">Pointers</p>
<ul>
<li><code>char * const q = "hello";</code> 指针 q 是 const，于是 <code>q++</code> 会报错，但是 <code>*q = 'x'</code> 不会<ul>
<li><code>char const* q</code> 大概率同理（可能因为不同编译器解释不同）</li>
</ul>
</li>
<li><code>const char* p = "hello";</code> <code>*p</code> 是一个 const char，于是 <code>*p = 'x'</code> 会报错</li>
</ul>
</div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#notes-language-cpp-__codelineno-5-1"></a><span class="k">struct</span><span class="w"> </span><span class="nc">S</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#notes-language-cpp-__codelineno-5-2"></a><span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="nf">f</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;non-const</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#notes-language-cpp-__codelineno-5-3"></a><span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="nf">f</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;const</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#notes-language-cpp-__codelineno-5-4"></a><span class="p">};</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#notes-language-cpp-__codelineno-5-5"></a>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#notes-language-cpp-__codelineno-5-6"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#notes-language-cpp-__codelineno-5-7"></a><span class="w">  </span><span class="n">S</span><span class="w"> </span><span class="n">a</span><span class="p">;</span>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#notes-language-cpp-__codelineno-5-8"></a><span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">S</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#notes-language-cpp-__codelineno-5-9"></a>
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#notes-language-cpp-__codelineno-5-10"></a><span class="w">  </span><span class="n">a</span><span class="p">.</span><span class="n">f</span><span class="p">();</span><span class="w"> </span><span class="c1">// non-const</span>
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#notes-language-cpp-__codelineno-5-11"></a><span class="w">  </span><span class="n">b</span><span class="p">.</span><span class="n">f</span><span class="p">();</span><span class="w"> </span><span class="c1">// const</span>
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#notes-language-cpp-__codelineno-5-12"></a>
<a id="__codelineno-5-13" name="__codelineno-5-13" href="#notes-language-cpp-__codelineno-5-13"></a><span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">S</span><span class="w"> </span><span class="o">*</span><span class="n">ps</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">b</span><span class="p">;</span>
<a id="__codelineno-5-14" name="__codelineno-5-14" href="#notes-language-cpp-__codelineno-5-14"></a><span class="w">  </span><span class="n">ps</span><span class="o">-&gt;</span><span class="n">f</span><span class="p">();</span><span class="w"> </span><span class="c1">// const</span>
<a id="__codelineno-5-15" name="__codelineno-5-15" href="#notes-language-cpp-__codelineno-5-15"></a><span class="p">}</span>
<a id="__codelineno-5-16" name="__codelineno-5-16" href="#notes-language-cpp-__codelineno-5-16"></a><span class="c1">// &lt;https://tree.45gfg9.net/lcppthw/construct/#const&gt;</span>
</code></pre></div>
<p><code>const</code> 出现在函数参数列表后说明这个函数影响 <code>this</code> 的类型，且不会改变任何成员变量</p>
<h3 id="notes-language-cpp-stash">Stash<a class="headerlink" href="#notes-language-cpp-stash" title="Permanent link">&para;</a></h3>
<ul>
<li>Typeless container</li>
<li>存储相同类型的对象</li>
<li>使用类型的大小初始化</li>
</ul>
<h3 id="notes-language-cpp-deconstructor">Deconstructor<a class="headerlink" href="#notes-language-cpp-deconstructor" title="Permanent link">&para;</a></h3>
<p>当对象 Go out of scope 时，调用析构函数</p>
<div class="admonition note">
<p class="admonition-title">Initialization vs. assignment</p>
<ul>
<li><code>Student::Student(string n) { name = n;}</code> : Assignment(Inside Constructor)</li>
<li><code>Student::Student(string n) : name(n) {}</code> : Initialization(Before Constructor)</li>
</ul>
</div>
<h2 id="notes-language-cpp-lec3">Lec3<a class="headerlink" href="#notes-language-cpp-lec3" title="Permanent link">&para;</a></h2>
<h3 id="notes-language-cpp-static">Static<a class="headerlink" href="#notes-language-cpp-static" title="Permanent link">&para;</a></h3>
<p>已知：当 static 修饰全局变量时，限制该变量的作用域为当前文件；当 static 修饰局部变量时，表示该变量的生命周期为整个程序运行期间。</p>
<p>static 还可以修饰成员变量，静态成员变量/函数由整个 Class 共享，非静态成员变量/函数由每个对象拥有，且静态成员变量必须在类外部被定义一次（类内部的 <code>static &lt;type&gt; &lt;name&gt;;</code> 只是声明）</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#notes-language-cpp-__codelineno-6-1"></a><span class="k">struct</span><span class="w"> </span><span class="nc">rectangle</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#notes-language-cpp-__codelineno-6-2"></a><span class="w">  </span><span class="k">static</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">count</span><span class="p">;</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#notes-language-cpp-__codelineno-6-3"></a><span class="w">  </span><span class="kt">double</span><span class="w"> </span><span class="n">width</span><span class="p">;</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#notes-language-cpp-__codelineno-6-4"></a><span class="w">  </span><span class="kt">double</span><span class="w"> </span><span class="n">height</span><span class="p">;</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#notes-language-cpp-__codelineno-6-5"></a>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#notes-language-cpp-__codelineno-6-6"></a><span class="w">  </span><span class="n">rectangle</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">w</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">h</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">width</span><span class="w"> </span><span class="p">{</span><span class="n">w</span><span class="p">},</span><span class="w"> </span><span class="n">height</span><span class="w"> </span><span class="p">{</span><span class="n">h</span><span class="p">}</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#notes-language-cpp-__codelineno-6-7"></a><span class="w">    </span><span class="n">count</span><span class="o">++</span><span class="p">;</span>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#notes-language-cpp-__codelineno-6-8"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#notes-language-cpp-__codelineno-6-9"></a>
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#notes-language-cpp-__codelineno-6-10"></a><span class="w">  </span><span class="o">~</span><span class="n">rectangle</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-6-11" name="__codelineno-6-11" href="#notes-language-cpp-__codelineno-6-11"></a><span class="w">    </span><span class="k">this</span><span class="o">-&gt;</span><span class="n">count</span><span class="o">--</span><span class="p">;</span>
<a id="__codelineno-6-12" name="__codelineno-6-12" href="#notes-language-cpp-__codelineno-6-12"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-6-13" name="__codelineno-6-13" href="#notes-language-cpp-__codelineno-6-13"></a><span class="p">};</span>
<a id="__codelineno-6-14" name="__codelineno-6-14" href="#notes-language-cpp-__codelineno-6-14"></a><span class="kt">int</span><span class="w"> </span><span class="n">rectangle</span><span class="o">::</span><span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// must!</span>
<a id="__codelineno-6-15" name="__codelineno-6-15" href="#notes-language-cpp-__codelineno-6-15"></a>
<a id="__codelineno-6-16" name="__codelineno-6-16" href="#notes-language-cpp-__codelineno-6-16"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-6-17" name="__codelineno-6-17" href="#notes-language-cpp-__codelineno-6-17"></a><span class="w">  </span><span class="n">rectangle</span><span class="w"> </span><span class="n">c1</span><span class="w"> </span><span class="p">{</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">};</span>
<a id="__codelineno-6-18" name="__codelineno-6-18" href="#notes-language-cpp-__codelineno-6-18"></a><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">rectangle</span><span class="o">::</span><span class="n">count</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span><span class="w"> </span><span class="c1">// 1</span>
<a id="__codelineno-6-19" name="__codelineno-6-19" href="#notes-language-cpp-__codelineno-6-19"></a><span class="w">  </span><span class="n">rectangle</span><span class="w"> </span><span class="n">c2</span><span class="w"> </span><span class="p">{</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">};</span>
<a id="__codelineno-6-20" name="__codelineno-6-20" href="#notes-language-cpp-__codelineno-6-20"></a><span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">c2</span><span class="p">.</span><span class="n">count</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span><span class="w"> </span><span class="c1">// 2</span>
<a id="__codelineno-6-21" name="__codelineno-6-21" href="#notes-language-cpp-__codelineno-6-21"></a><span class="p">}</span>
<a id="__codelineno-6-22" name="__codelineno-6-22" href="#notes-language-cpp-__codelineno-6-22"></a><span class="c1">// &lt;https://tree.45gfg9.net/lcppthw/construct/#static&gt;</span>
</code></pre></div>
<h3 id="notes-language-cpp-_3">拷贝构造函数<a class="headerlink" href="#notes-language-cpp-_3" title="Permanent link">&para;</a></h3>
<p>声明长这样：<code>T::T(const T&amp; t);</code></p>
<p>C++ 会提供一个默认的拷贝构造函数，拷贝对象的每个成员变量（memberwise copy），但是如果成员变量是指针类型，则只会拷贝指针的值（即地址），而不是指针所指向的内容
– Copies each member variable
    - Good for numbers, objects, arrays
– Copies each pointer
    - Data may become shared!</p>
<p>拷贝函数何时被调用？</p>
<ul>
<li>在对象被 call by value 时，例如被传入函数参数时</li>
<li>在被赋值为另一个对象时<ul>
<li><code>T t2; T t1 = t2;</code></li>
</ul>
</li>
<li>在返回对象时，例如 <code>T rtsomething(){T t1("1"); return t1;} T whoami = rtsomething();</code></li>
</ul>
<h3 id="notes-language-cpp-namespace">namespace<a class="headerlink" href="#notes-language-cpp-namespace" title="Permanent link">&para;</a></h3>
<p>命名空间就是“更高级层面的”隔离，包含逻辑上的一组类、函数、变量</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#notes-language-cpp-__codelineno-7-1"></a><span class="c1">// Mylib.h</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#notes-language-cpp-__codelineno-7-2"></a><span class="k">namespace</span><span class="w"> </span><span class="nn">MyLib</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#notes-language-cpp-__codelineno-7-3"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">foo</span><span class="p">();</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#notes-language-cpp-__codelineno-7-4"></a><span class="w">    </span><span class="k">class</span><span class="w"> </span><span class="nc">Cat</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#notes-language-cpp-__codelineno-7-5"></a><span class="w">    </span><span class="k">public</span><span class="o">:</span>
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#notes-language-cpp-__codelineno-7-6"></a><span class="w">        </span><span class="kt">void</span><span class="w"> </span><span class="n">Meow</span><span class="p">();</span>
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#notes-language-cpp-__codelineno-7-7"></a><span class="w">    </span><span class="p">};</span>
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#notes-language-cpp-__codelineno-7-8"></a><span class="p">}</span>
</code></pre></div>
<p>用 using namespace \&lt;name&gt; 可以引入命名空间中的所有内容，但是可能导致命名冲突</p>
<p>可以用 <code>nameplace short = WhatALongNameplaceName;</code> 来 alias 一个很长的命名空间</p>
<div class="admonition note">
<p class="admonition-title">Nameplace Composition</p>
<p>用于合并命名空间，还可以解决命名冲突。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#notes-language-cpp-__codelineno-8-1"></a><span class="k">namespace</span><span class="w"> </span><span class="nn">first</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#notes-language-cpp-__codelineno-8-2"></a><span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="nf">x</span><span class="p">();</span><span class="w"> </span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#notes-language-cpp-__codelineno-8-3"></a><span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="nf">y</span><span class="p">();</span><span class="w"> </span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#notes-language-cpp-__codelineno-8-4"></a><span class="p">}</span><span class="w"> </span>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#notes-language-cpp-__codelineno-8-5"></a><span class="k">namespace</span><span class="w"> </span><span class="nn">second</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#notes-language-cpp-__codelineno-8-6"></a><span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="nf">y</span><span class="p">();</span><span class="w"> </span>
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#notes-language-cpp-__codelineno-8-7"></a><span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="nf">z</span><span class="p">();</span><span class="w"> </span>
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#notes-language-cpp-__codelineno-8-8"></a><span class="p">}</span>
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#notes-language-cpp-__codelineno-8-9"></a>
<a id="__codelineno-8-10" name="__codelineno-8-10" href="#notes-language-cpp-__codelineno-8-10"></a><span class="n">nameplace</span><span class="w"> </span><span class="n">Mine</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-11" name="__codelineno-8-11" href="#notes-language-cpp-__codelineno-8-11"></a><span class="w">    </span><span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">first</span><span class="p">;</span>
<a id="__codelineno-8-12" name="__codelineno-8-12" href="#notes-language-cpp-__codelineno-8-12"></a><span class="w">    </span><span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">second</span><span class="p">;</span>
<a id="__codelineno-8-13" name="__codelineno-8-13" href="#notes-language-cpp-__codelineno-8-13"></a><span class="w">    </span><span class="k">using</span><span class="w"> </span><span class="n">first</span><span class="o">::</span><span class="n">y</span><span class="p">();</span><span class="w"> </span><span class="c1">// 解决命名冲突</span>
<a id="__codelineno-8-14" name="__codelineno-8-14" href="#notes-language-cpp-__codelineno-8-14"></a><span class="w">    </span><span class="p">...</span>
<a id="__codelineno-8-15" name="__codelineno-8-15" href="#notes-language-cpp-__codelineno-8-15"></a><span class="p">}</span>
</code></pre></div>
</div>
<p>可以在多个文件里给同一个命名空间添加内容</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#notes-language-cpp-__codelineno-9-1"></a><span class="c1">// lib1.h</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#notes-language-cpp-__codelineno-9-2"></a><span class="k">namespace</span><span class="w"> </span><span class="nn">X</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#notes-language-cpp-__codelineno-9-3"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">foo</span><span class="p">();</span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#notes-language-cpp-__codelineno-9-4"></a><span class="p">}</span>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#notes-language-cpp-__codelineno-9-5"></a>
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#notes-language-cpp-__codelineno-9-6"></a><span class="c1">// lib2.h</span>
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#notes-language-cpp-__codelineno-9-7"></a><span class="k">namespace</span><span class="w"> </span><span class="nn">X</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#notes-language-cpp-__codelineno-9-8"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">bar</span><span class="p">();</span>
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#notes-language-cpp-__codelineno-9-9"></a><span class="p">}</span>
<a id="__codelineno-9-10" name="__codelineno-9-10" href="#notes-language-cpp-__codelineno-9-10"></a>
<a id="__codelineno-9-11" name="__codelineno-9-11" href="#notes-language-cpp-__codelineno-9-11"></a><span class="c1">// 于是 X 有两个函数了</span>
</code></pre></div>
<h3 id="notes-language-cpp-_4">抽象基类<a class="headerlink" href="#notes-language-cpp-_4" title="Permanent link">&para;</a></h3>
<p>抽象基类是一个包含纯虚函数的类，不能被实例化。纯虚函数是没有实现（body）只有 interface 的虚函数，必须在派生类中实现。</p>
<h2 id="notes-language-cpp-_5">运算符重载<a class="headerlink" href="#notes-language-cpp-_5" title="Permanent link">&para;</a></h2>
<p><code>+  -   *   /   %   ^   &amp;   |   ~ = &lt;   &gt;   +=  -=  *=  /=  %= ^=   &amp;=  |=  &lt;&lt;  &gt;&gt;  &gt;&gt;= &lt;&lt;= == !=   &lt;=  &gt;=  !   &amp;&amp;  ||  ++  -- ,    -&gt;* -&gt;  ()  []</code> 可以重载</p>
<p><code>.  .*  ::  ?: sizeof   typeid static_cast   dynamic_cast   const_cast  reinterpret_cast</code> 不行</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#notes-language-cpp-__codelineno-10-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">Integer</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#notes-language-cpp-__codelineno-10-2"></a><span class="k">public</span><span class="o">:</span><span class="w"> </span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#notes-language-cpp-__codelineno-10-3"></a><span class="w">  </span><span class="n">Integer</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">i</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#notes-language-cpp-__codelineno-10-4"></a><span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="k">operator</span><span class="o">+</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">Integer</span><span class="o">&amp;</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">{</span><span class="w"> </span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#notes-language-cpp-__codelineno-10-5"></a><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">Integer</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">n</span><span class="p">.</span><span class="n">i</span><span class="p">);</span><span class="w"> </span>
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#notes-language-cpp-__codelineno-10-6"></a><span class="w">  </span><span class="p">}</span><span class="w"> </span>
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#notes-language-cpp-__codelineno-10-7"></a><span class="w">  </span><span class="p">...</span><span class="w">  </span>
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#notes-language-cpp-__codelineno-10-8"></a><span class="k">private</span><span class="o">:</span><span class="w"> </span>
<a id="__codelineno-10-9" name="__codelineno-10-9" href="#notes-language-cpp-__codelineno-10-9"></a><span class="w">   </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">;</span><span class="w"> </span>
<a id="__codelineno-10-10" name="__codelineno-10-10" href="#notes-language-cpp-__codelineno-10-10"></a><span class="p">};</span>
<a id="__codelineno-10-11" name="__codelineno-10-11" href="#notes-language-cpp-__codelineno-10-11"></a>
<a id="__codelineno-10-12" name="__codelineno-10-12" href="#notes-language-cpp-__codelineno-10-12"></a><span class="n">Integer</span><span class="w"> </span><span class="nf">x</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="n">y</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span><span class="w"> </span><span class="n">z</span><span class="p">;</span>
<a id="__codelineno-10-13" name="__codelineno-10-13" href="#notes-language-cpp-__codelineno-10-13"></a><span class="c1">// z = x + y //ok</span>
<a id="__codelineno-10-14" name="__codelineno-10-14" href="#notes-language-cpp-__codelineno-10-14"></a><span class="c1">// z = x + 3 //ok</span>
<a id="__codelineno-10-15" name="__codelineno-10-15" href="#notes-language-cpp-__codelineno-10-15"></a><span class="c1">// z = 3 + x // illegal</span>
<a id="__codelineno-10-16" name="__codelineno-10-16" href="#notes-language-cpp-__codelineno-10-16"></a>
<a id="__codelineno-10-17" name="__codelineno-10-17" href="#notes-language-cpp-__codelineno-10-17"></a><span class="k">const</span><span class="w"> </span><span class="n">Integer</span><span class="o">&amp;</span><span class="w"> </span><span class="n">Integer</span><span class="o">::</span><span class="k">operator</span><span class="o">++</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
<a id="__codelineno-10-18" name="__codelineno-10-18" href="#notes-language-cpp-__codelineno-10-18"></a><span class="w">    </span><span class="o">*</span><span class="k">this</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w">      </span><span class="c1">// increment </span>
<a id="__codelineno-10-19" name="__codelineno-10-19" href="#notes-language-cpp-__codelineno-10-19"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="o">*</span><span class="k">this</span><span class="p">;</span><span class="w">    </span><span class="c1">// fetch </span>
<a id="__codelineno-10-20" name="__codelineno-10-20" href="#notes-language-cpp-__codelineno-10-20"></a><span class="p">}</span><span class="w">  </span>
<a id="__codelineno-10-21" name="__codelineno-10-21" href="#notes-language-cpp-__codelineno-10-21"></a><span class="c1">// int argument not used so leave unnamed so </span>
<a id="__codelineno-10-22" name="__codelineno-10-22" href="#notes-language-cpp-__codelineno-10-22"></a><span class="c1">// won&#39;t get compiler warnings </span>
<a id="__codelineno-10-23" name="__codelineno-10-23" href="#notes-language-cpp-__codelineno-10-23"></a><span class="k">const</span><span class="w"> </span><span class="n">Integer</span><span class="w"> </span><span class="n">Integer</span><span class="o">::</span><span class="k">operator</span><span class="o">++</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="p">){</span><span class="w"> </span>
<a id="__codelineno-10-24" name="__codelineno-10-24" href="#notes-language-cpp-__codelineno-10-24"></a><span class="w">    </span><span class="n">Integer</span><span class="w"> </span><span class="nf">old</span><span class="p">(</span><span class="w"> </span><span class="o">*</span><span class="k">this</span><span class="w"> </span><span class="p">);</span><span class="w">   </span><span class="c1">// fetch </span>
<a id="__codelineno-10-25" name="__codelineno-10-25" href="#notes-language-cpp-__codelineno-10-25"></a><span class="w">    </span><span class="o">++</span><span class="p">(</span><span class="o">*</span><span class="k">this</span><span class="p">);</span><span class="w">              </span><span class="c1">// increment </span>
<a id="__codelineno-10-26" name="__codelineno-10-26" href="#notes-language-cpp-__codelineno-10-26"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">old</span><span class="p">;</span><span class="w">             </span><span class="c1">// return  </span>
<a id="__codelineno-10-27" name="__codelineno-10-27" href="#notes-language-cpp-__codelineno-10-27"></a><span class="p">}</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">recall const</p>
<p><img alt="./assets/oop2.png" src="../notes/Language/assets/oop2.png" /></p>
</div>
<p>全局写的有关一个类的运算符重载函数应当被设置为这个类的 friend，因为其要访问类的所有属性</p>
<div class="admonition note">
<p class="admonition-title">类型转换 ops 的重载</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#notes-language-cpp-__codelineno-11-1"></a>X::operator T ()
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#notes-language-cpp-__codelineno-11-2"></a>    –Operator name  is any type descriptor
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#notes-language-cpp-__codelineno-11-3"></a>    –No explicit arguments
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#notes-language-cpp-__codelineno-11-4"></a>    –No return  type
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#notes-language-cpp-__codelineno-11-5"></a>    –Compiler will use it as a type conversion from X to T
</code></pre></div>
</div>
<h2 id="notes-language-cpp-template">Template<a class="headerlink" href="#notes-language-cpp-template" title="Permanent link">&para;</a></h2>
<h3 id="notes-language-cpp-_6">模板函数<a class="headerlink" href="#notes-language-cpp-_6" title="Permanent link">&para;</a></h3>
<h3 id="notes-language-cpp-_7">模板类<a class="headerlink" href="#notes-language-cpp-_7" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#notes-language-cpp-__codelineno-12-1"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#notes-language-cpp-__codelineno-12-2"></a>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#notes-language-cpp-__codelineno-12-3"></a><span class="k">class</span><span class="w"> </span><span class="nc">Rmqc</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#notes-language-cpp-__codelineno-12-4"></a><span class="w">    </span><span class="p">...</span>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#notes-language-cpp-__codelineno-12-5"></a><span class="p">}</span>
</code></pre></div>
<p>这样定义之后，注意 <code>Rmqc</code> 并不能算是一个<strong>类</strong>（只是一个模板），而 <code>Rmqc&lt;int&gt;</code> 才是一个（被实例化的）类</p>
<p>可以看出来模板是更高级别的一层抽象，类是模板的实例化，对象又是类的实例</p>
<p>这就解释了在继承时：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#notes-language-cpp-__codelineno-13-1"></a><span class="c1">// 非模板类继承于模板类，需要实例化模板（确定typename）</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#notes-language-cpp-__codelineno-13-2"></a>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#notes-language-cpp-__codelineno-13-3"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span>
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#notes-language-cpp-__codelineno-13-4"></a><span class="k">class</span><span class="w"> </span><span class="nc">Base</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#notes-language-cpp-__codelineno-13-5"></a><span class="w">    </span><span class="p">...</span>
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#notes-language-cpp-__codelineno-13-6"></a><span class="p">}</span>
<a id="__codelineno-13-7" name="__codelineno-13-7" href="#notes-language-cpp-__codelineno-13-7"></a>
<a id="__codelineno-13-8" name="__codelineno-13-8" href="#notes-language-cpp-__codelineno-13-8"></a><span class="k">class</span><span class="w"> </span><span class="nc">Derived</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">Base</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-9" name="__codelineno-13-9" href="#notes-language-cpp-__codelineno-13-9"></a><span class="w">    </span><span class="p">...</span>
<a id="__codelineno-13-10" name="__codelineno-13-10" href="#notes-language-cpp-__codelineno-13-10"></a><span class="p">}</span>
<a id="__codelineno-13-11" name="__codelineno-13-11" href="#notes-language-cpp-__codelineno-13-11"></a>
<a id="__codelineno-13-12" name="__codelineno-13-12" href="#notes-language-cpp-__codelineno-13-12"></a><span class="c1">// 模板类继承于非模板类，直接继承</span>
<a id="__codelineno-13-13" name="__codelineno-13-13" href="#notes-language-cpp-__codelineno-13-13"></a>
<a id="__codelineno-13-14" name="__codelineno-13-14" href="#notes-language-cpp-__codelineno-13-14"></a><span class="k">class</span><span class="w"> </span><span class="nc">Base</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-15" name="__codelineno-13-15" href="#notes-language-cpp-__codelineno-13-15"></a><span class="w">    </span><span class="p">...</span>
<a id="__codelineno-13-16" name="__codelineno-13-16" href="#notes-language-cpp-__codelineno-13-16"></a><span class="p">}</span>
<a id="__codelineno-13-17" name="__codelineno-13-17" href="#notes-language-cpp-__codelineno-13-17"></a>
<a id="__codelineno-13-18" name="__codelineno-13-18" href="#notes-language-cpp-__codelineno-13-18"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span>
<a id="__codelineno-13-19" name="__codelineno-13-19" href="#notes-language-cpp-__codelineno-13-19"></a><span class="k">class</span><span class="w"> </span><span class="nc">Derived</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">Base</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-20" name="__codelineno-13-20" href="#notes-language-cpp-__codelineno-13-20"></a>
<a id="__codelineno-13-21" name="__codelineno-13-21" href="#notes-language-cpp-__codelineno-13-21"></a><span class="p">}</span>
<a id="__codelineno-13-22" name="__codelineno-13-22" href="#notes-language-cpp-__codelineno-13-22"></a>
<a id="__codelineno-13-23" name="__codelineno-13-23" href="#notes-language-cpp-__codelineno-13-23"></a><span class="c1">// 模板类继承于模板类，不用实例化模板，但要注明 typename T</span>
<a id="__codelineno-13-24" name="__codelineno-13-24" href="#notes-language-cpp-__codelineno-13-24"></a>
<a id="__codelineno-13-25" name="__codelineno-13-25" href="#notes-language-cpp-__codelineno-13-25"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span>
<a id="__codelineno-13-26" name="__codelineno-13-26" href="#notes-language-cpp-__codelineno-13-26"></a><span class="k">class</span><span class="w"> </span><span class="nc">Base</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-27" name="__codelineno-13-27" href="#notes-language-cpp-__codelineno-13-27"></a><span class="w">    </span><span class="p">...</span><span class="w">   </span>
<a id="__codelineno-13-28" name="__codelineno-13-28" href="#notes-language-cpp-__codelineno-13-28"></a><span class="p">}</span>
<a id="__codelineno-13-29" name="__codelineno-13-29" href="#notes-language-cpp-__codelineno-13-29"></a>
<a id="__codelineno-13-30" name="__codelineno-13-30" href="#notes-language-cpp-__codelineno-13-30"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span>
<a id="__codelineno-13-31" name="__codelineno-13-31" href="#notes-language-cpp-__codelineno-13-31"></a><span class="k">class</span><span class="w"> </span><span class="nc">Derived</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">Base</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-32" name="__codelineno-13-32" href="#notes-language-cpp-__codelineno-13-32"></a><span class="w">    </span><span class="p">...</span>
<a id="__codelineno-13-33" name="__codelineno-13-33" href="#notes-language-cpp-__codelineno-13-33"></a><span class="p">}</span>
</code></pre></div></section><section class="print-page" id="notes-language-toefl" heading-number="4.6.4"><nav class='md-tags'><span class='md-tag'>Toefl</span><span class='md-tag'>大二上笔记</span></nav><div class="admonition note">
<p class="admonition-title">Note</p>
<p>从各个地方薅的一些托福注意事项，感觉帮助不会很大。<br />
也包含大二春学期修读的托福阅读笔记。<br />
参考：<a href="https://csfufu.life/article/b38f1367-c7fa-43f0-a523-c8dfe819338d">fufu的托福学习帖</a></p>
</div>
<h1 id="notes-language-toefl-_1">托福阅读<a class="headerlink" href="#notes-language-toefl-_1" title="Permanent link">&para;</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 172 个字 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间不到 1 分钟</p>
</div>
<h2 id="notes-language-toefl-reading">Reading<a class="headerlink" href="#notes-language-toefl-reading" title="Permanent link">&para;</a></h2>
<p>通过上下文中带有并列或转折意义的连词推测词义</p>
<p>Cloud nine: extremely happy or satisfied</p>
<h2 id="notes-language-toefl-listening">Listening<a class="headerlink" href="#notes-language-toefl-listening" title="Permanent link">&para;</a></h2>
<h3 id="notes-language-toefl-_2">做笔记相关：<a class="headerlink" href="#notes-language-toefl-_2" title="Permanent link">&para;</a></h3>
<p>地名、人名、文章标题、课程名称、课题研究方向、论文名称。<br />
地名：介绍此地点的特殊要素——及其随时间的变化<br />
人名：Prof.xxx, Doc.xxx, classmate xxx...——与说话人的<strong>关系/对其的建议/共同点</strong>。<br />
其他：主要听“是什么东西”，即本质是什么（实义名词）  </p></section><section class="print-page" id="notes-language-typst" heading-number="4.6.5"><h1 id="notes-language-typst-typst">Typst备忘录<a class="headerlink" href="#notes-language-typst-typst" title="Permanent link">&para;</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 382 个字 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6m80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3l89.3 89.4-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3"/></svg></span> 70 行代码 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 17H7V3h14m0-2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2M3 5H1v16a2 2 0 0 0 2 2h16v-2H3m12.96-10.71-2.75 3.54-1.96-2.36L8.5 15h11z"/></svg></span> 6 张图片 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 2 分钟</p>
</div>
<div class="admonition info">
<p class="admonition-title">记录一下用typst写东西时碰到的问题</p>
<p><del>天下苦LaTeX久矣</del></p>
</div>
<h2 id="notes-language-typst-_1">引用<a class="headerlink" href="#notes-language-typst-_1" title="Permanent link">&para;</a></h2>
<p><code>#import "a": b</code>相当于<code>import b from a</code></p>
<h2 id="notes-language-typst-_2">画图<a class="headerlink" href="#notes-language-typst-_2" title="Permanent link">&para;</a></h2>
<div class="admonition info">
<p class="admonition-title">注意</p>
<p>最好把<code>canvas</code>或者<code>diagram</code>包在一个<code>figure</code>里，既可以设置多个属性，又方便调整位置</p>
</div>
<h3 id="notes-language-typst-cetz">cetz<a class="headerlink" href="#notes-language-typst-cetz" title="Permanent link">&para;</a></h3>
<p>可看manual
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#notes-language-typst-__codelineno-0-1"></a><span class="kn">#import</span><span class="w"> </span><span class="s2">&quot;@preview/cetz:0.2.2&quot;</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#notes-language-typst-__codelineno-0-2"></a><span class="kn">#import</span><span class="w"> </span><span class="nv">cetz</span><span class="p">.</span><span class="nv">draw</span><span class="p">:</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="c1">//导入画画用的所有函数</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#notes-language-typst-__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#notes-language-typst-__codelineno-0-4"></a><span class="kd">#let</span><span class="w"> </span><span class="nv">graph</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="nv">cetz</span><span class="p">.</span><span class="nf">canvas</span><span class="p">(</span><span class="nv">x</span><span class="p">)</span><span class="w"> </span><span class="c1">//创建画布，canvas接收一个大括号包起来的一堆绘画函数</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#notes-language-typst-__codelineno-0-5"></a><span class="c1">//必须在画布上画，不然不会显示</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#notes-language-typst-__codelineno-0-6"></a><span class="kd">#let</span><span class="w"> </span><span class="nv">node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nv">coord</span><span class="p">,</span><span class="w"> </span><span class="nv">name</span><span class="p">,</span><span class="w"> </span><span class="nv">location</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#notes-language-typst-__codelineno-0-7"></a><span class="w">    </span><span class="nf">circle</span><span class="p">(</span><span class="nv">coord</span><span class="p">,</span><span class="w"> </span><span class="nv">name</span><span class="p">:</span><span class="w"> </span><span class="nv">name</span><span class="p">,</span><span class="w"> </span><span class="nv">radius</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="p">)</span><span class="w"> </span><span class="c1">//画圆，具体参数看manual</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#notes-language-typst-__codelineno-0-8"></a><span class="w">    </span><span class="nf">content</span><span class="p">(</span><span class="nv">coord</span><span class="p">,</span><span class="w"> </span><span class="nv">name</span><span class="p">,</span><span class="w"> </span><span class="nv">anchor</span><span class="p">:</span><span class="w"> </span><span class="nv">location</span><span class="p">)</span><span class="w"> </span><span class="c1">//写字，字的位置由location决定</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#notes-language-typst-__codelineno-0-9"></a><span class="p">}</span><span class="w"> </span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#notes-language-typst-__codelineno-0-10"></a><span class="err">#</span><span class="kd">let</span><span class="w"> </span><span class="nv">edge</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nv">start</span><span class="p">,</span><span class="w"> </span><span class="nv">end</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="nf">line</span><span class="p">(</span><span class="nv">start</span><span class="p">,</span><span class="w"> </span><span class="nv">end</span><span class="p">)</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#notes-language-typst-__codelineno-0-11"></a><span class="c1">//缺点就在这，得自己定义函数</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#notes-language-typst-__codelineno-0-12"></a><span class="c1">//Credit to Xecades</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#notes-language-typst-__codelineno-0-13"></a><span class="nf">#graph</span><span class="p">({</span><span class="w">    </span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#notes-language-typst-__codelineno-0-14"></a><span class="w">    </span><span class="nf">node</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="s2">&quot;A&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;south&quot;</span><span class="p">)</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#notes-language-typst-__codelineno-0-15"></a><span class="w">    </span><span class="nf">node</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="s2">&quot;B&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;north&quot;</span><span class="p">)</span>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#notes-language-typst-__codelineno-0-16"></a><span class="w">    </span><span class="nf">edge</span><span class="p">(</span><span class="s2">&quot;A&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;B&quot;</span><span class="p">)</span><span class="w"> </span><span class="c1">//or edge((0, 0), (1, 1))</span>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#notes-language-typst-__codelineno-0-17"></a><span class="p">})</span>
</code></pre></div>
可用的anchor: <code>north</code>等四个，<code>north-west</code>等四个  </p>
<p>利用<code>set-style</code>设置各个函数的默认参数，比如<code>set-style(line: (stroke:(thickness: 0.1pt)))</code>，这样就不用每次在<code>line</code>里单独设置了。（要在<code>canvas</code>里设置）</p>
<h3 id="notes-language-typst-fletcher">fletcher<a class="headerlink" href="#notes-language-typst-fletcher" title="Permanent link">&para;</a></h3>
<p>感觉比cetz更好用，把形状综合在了函数的参数里，可看manual
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#notes-language-typst-__codelineno-1-1"></a><span class="kn">#import</span><span class="w"> </span><span class="s2">&quot;@preview/fletcher:0.5.0&quot;</span><span class="p">:</span><span class="w"> </span><span class="nv">diagram</span><span class="p">,</span><span class="w"> </span><span class="nv">node</span><span class="p">,</span><span class="w"> </span><span class="nv">edge</span><span class="w"> </span><span class="c1">//几个函数</span>
</code></pre></div>
还在为cetz没法画两个点间方向相反的两条边，需要手动定义画点画边函数烦恼吗？
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#notes-language-typst-__codelineno-2-1"></a><span class="nf">#diagram</span><span class="p">(</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#notes-language-typst-__codelineno-2-2"></a><span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="p">(</span><span class="nv">a</span><span class="p">,</span><span class="nv">b</span><span class="p">,</span><span class="nv">c</span><span class="p">,</span><span class="nv">d</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">((</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mf">0.6</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mf">1.7</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mf">0.6</span><span class="p">,</span><span class="mf">1.7</span><span class="p">)),</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#notes-language-typst-__codelineno-2-3"></a><span class="w">    </span><span class="nf">node</span><span class="p">(</span><span class="nv">a</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;A&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">stroke</span><span class="p">:</span><span class="w"> </span><span class="m">1</span><span class="kr">pt</span><span class="p">),</span><span class="w"> </span><span class="c1">//stroke表示边框粗细</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#notes-language-typst-__codelineno-2-4"></a><span class="w">    </span><span class="nf">node</span><span class="p">(</span><span class="nv">b</span><span class="p">,</span><span class="w"> </span><span class="p">[</span>B<span class="p">],</span><span class="w"> </span><span class="nv">stroke</span><span class="p">:</span><span class="w"> </span><span class="m">1</span><span class="kr">pt</span><span class="p">),</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#notes-language-typst-__codelineno-2-5"></a><span class="w">    </span><span class="nf">node</span><span class="p">(</span><span class="nv">c</span><span class="p">,</span><span class="w"> </span><span class="p">[</span>C<span class="p">],</span><span class="w"> </span><span class="nv">stroke</span><span class="p">:</span><span class="w"> </span><span class="m">1</span><span class="kr">pt</span><span class="p">),</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#notes-language-typst-__codelineno-2-6"></a><span class="w">    </span><span class="nf">node</span><span class="p">(</span><span class="nv">d</span><span class="p">,</span><span class="w"> </span><span class="p">[</span>D<span class="p">],</span><span class="w"> </span><span class="nv">stroke</span><span class="p">:</span><span class="w"> </span><span class="m">1</span><span class="kr">pt</span><span class="p">),</span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#notes-language-typst-__codelineno-2-7"></a><span class="w">    </span><span class="nf">edge</span><span class="p">(</span><span class="nv">b</span><span class="p">,</span><span class="w"> </span><span class="nv">a</span><span class="p">,</span><span class="w"> </span><span class="nv">bend</span><span class="p">:</span><span class="w"> </span><span class="o">-</span><span class="mi">10</span><span class="nv">deg</span><span class="p">,</span><span class="s2">&quot;-|&gt;&quot;</span><span class="p">),</span><span class="w"> </span><span class="c1">//bend表示弯曲程度，正负数弯的方向不同</span>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#notes-language-typst-__codelineno-2-8"></a><span class="w">    </span><span class="nf">edge</span><span class="p">(</span><span class="nv">a</span><span class="p">,</span><span class="w"> </span><span class="nv">b</span><span class="p">,</span><span class="w"> </span><span class="nv">bend</span><span class="p">:</span><span class="w"> </span><span class="o">-</span><span class="mi">10</span><span class="nv">deg</span><span class="p">,</span><span class="s2">&quot;-|&gt;&quot;</span><span class="p">),</span>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#notes-language-typst-__codelineno-2-9"></a><span class="w">    </span><span class="nf">edge</span><span class="p">(</span><span class="nv">a</span><span class="p">,</span><span class="w"> </span><span class="nv">c</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;-|&gt;&quot;</span><span class="p">),</span>
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#notes-language-typst-__codelineno-2-10"></a><span class="w">    </span><span class="nf">edge</span><span class="p">(</span><span class="nv">b</span><span class="p">,</span><span class="w"> </span><span class="nv">d</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;-|&gt;&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">label</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;WOW&quot;</span><span class="p">),</span><span class="w"> </span><span class="c1">//label:边上的文字</span>
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#notes-language-typst-__codelineno-2-11"></a><span class="w">    </span><span class="nf">edge</span><span class="p">(</span><span class="nv">d</span><span class="p">,</span><span class="w"> </span><span class="nv">a</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;-|&gt;&quot;</span><span class="p">),</span>
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#notes-language-typst-__codelineno-2-12"></a>
<a id="__codelineno-2-13" name="__codelineno-2-13" href="#notes-language-typst-__codelineno-2-13"></a><span class="w">    </span><span class="nf">node</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="p">[</span><span class="ge">_Point to D_</span><span class="p">]),</span>
<a id="__codelineno-2-14" name="__codelineno-2-14" href="#notes-language-typst-__codelineno-2-14"></a><span class="w">    </span><span class="nf">edge</span><span class="p">(</span><span class="nv">d</span><span class="p">,[</span>默认上一个node直接指向传入的node<span class="p">],</span><span class="w"> </span><span class="s2">&quot;-|&gt;&quot;</span><span class="p">),</span><span class="w"> </span>
<a id="__codelineno-2-15" name="__codelineno-2-15" href="#notes-language-typst-__codelineno-2-15"></a>
<a id="__codelineno-2-16" name="__codelineno-2-16" href="#notes-language-typst-__codelineno-2-16"></a><span class="w">    </span><span class="nf">node</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="s2">&quot;Hello&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">stroke</span><span class="p">:</span><span class="w"> </span><span class="m">1</span><span class="kr">pt</span><span class="p">),</span>
<a id="__codelineno-2-17" name="__codelineno-2-17" href="#notes-language-typst-__codelineno-2-17"></a><span class="w">    </span><span class="nv">node-corner-radius</span><span class="p">:</span><span class="w"> </span><span class="m">10</span><span class="kr">pt</span><span class="p">,</span><span class="w"> </span><span class="c1">//对整个diagram全局设置，不因为放在某个node前后而有所不同</span>
<a id="__codelineno-2-18" name="__codelineno-2-18" href="#notes-language-typst-__codelineno-2-18"></a><span class="w">    </span><span class="nf">node</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mf">3.5</span><span class="p">),</span><span class="w"> </span><span class="s2">&quot;Hello&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">stroke</span><span class="p">:</span><span class="w"> </span><span class="m">1</span><span class="kr">pt</span><span class="p">),</span>
<a id="__codelineno-2-19" name="__codelineno-2-19" href="#notes-language-typst-__codelineno-2-19"></a>
<a id="__codelineno-2-20" name="__codelineno-2-20" href="#notes-language-typst-__codelineno-2-20"></a><span class="w">    </span><span class="nf">edge</span><span class="p">((</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="s2">&quot;-|&gt;&quot;</span><span class="p">,</span><span class="w"> </span><span class="err">`</span><span class="nv">poly</span><span class="err">`</span><span class="p">),</span><span class="w"> </span><span class="c1">//一笔能拐好多弯</span>
<a id="__codelineno-2-21" name="__codelineno-2-21" href="#notes-language-typst-__codelineno-2-21"></a><span class="p">)</span>
<a id="__codelineno-2-22" name="__codelineno-2-22" href="#notes-language-typst-__codelineno-2-22"></a><span class="nf">#diagram</span><span class="p">(</span>
<a id="__codelineno-2-23" name="__codelineno-2-23" href="#notes-language-typst-__codelineno-2-23"></a><span class="w">    </span><span class="nf">node</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span><span class="w"> </span><span class="s2">&quot;2nd Diagram&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">stroke</span><span class="p">:</span><span class="w"> </span><span class="m">1</span><span class="kr">pt</span><span class="p">),</span><span class="w"> </span>
<a id="__codelineno-2-24" name="__codelineno-2-24" href="#notes-language-typst-__codelineno-2-24"></a><span class="w">    </span><span class="c1">//另一个diagram中元素不会被其他diagram规定的style影响</span>
<a id="__codelineno-2-25" name="__codelineno-2-25" href="#notes-language-typst-__codelineno-2-25"></a><span class="w">    </span><span class="c1">//位置会被其他diagram影响</span>
<a id="__codelineno-2-26" name="__codelineno-2-26" href="#notes-language-typst-__codelineno-2-26"></a><span class="p">)</span>
</code></pre></div>
<img alt="" src="../notes/Language/assets/typ5.png" /></p>
<h2 id="notes-language-typst-_3">排版<a class="headerlink" href="#notes-language-typst-_3" title="Permanent link">&para;</a></h2>
<h3 id="notes-language-typst-numblex">numblex<a class="headerlink" href="#notes-language-typst-numblex" title="Permanent link">&para;</a></h3>
<p>导入：
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#notes-language-typst-__codelineno-3-1"></a><span class="kn">#import</span><span class="w"> </span><span class="s2">&quot;@preview/numblex:0.1.0&quot;</span><span class="p">:</span><span class="w"> </span><span class="nv">numblex</span><span class="w"> </span><span class="c1">//一般就用这个函数</span>
</code></pre></div></p>
<p>在<code>enum</code>类中设置<code>numbering</code>属性可以设置列表的编号格式：<br />
<img alt="" src="../notes/Language/assets/typ1.png" /></p>
<p>但是如果想让外层不带括号，内层带括号（什么离散普物），就可以用numblex，做到给每一层都单独设置编号格式：<br />
<img alt="" src="../notes/Language/assets/typ2.png" /></p>
<h3 id="notes-language-typst-warp-content">warp-content<a class="headerlink" href="#notes-language-typst-warp-content" title="Permanent link">&para;</a></h3>
<p>这也有manual看的，嚯嚯嚯
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#notes-language-typst-__codelineno-4-1"></a><span class="kn">#import</span><span class="w"> </span><span class="s2">&quot;@preview/wrap-it:0.1.0&quot;</span><span class="p">:</span><span class="w"> </span><span class="nv">wrap-content</span>
</code></pre></div>
把图片塞进文字里，图文并茂啊嗯
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#notes-language-typst-__codelineno-5-1"></a><span class="nf">#wrap-content</span><span class="p">(</span><span class="nf">image</span><span class="p">(</span><span class="s2">&quot;../docs/img/PP.png&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">fit</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;stretch&quot;</span><span class="p">),</span><span class="nv">columns</span><span class="p">:(</span><span class="m">40</span><span class="kr">%</span><span class="p">,</span><span class="m">50</span><span class="kr">%</span><span class="p">))[</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#notes-language-typst-__codelineno-5-2"></a><span class="w">    </span>My<span class="w"> </span>name<span class="w"> </span>is<span class="w"> </span>Pinkie<span class="w"> </span>Pie<span class="w"> </span>(Hello!)<span class="p">\</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#notes-language-typst-__codelineno-5-3"></a><span class="w">    </span>And<span class="w"> </span>I<span class="w"> </span>am<span class="w"> </span>here<span class="w"> </span>to<span class="w"> </span>say<span class="w"> </span>(How<span class="w"> </span>ya<span class="w"> </span>doin&#39;?)<span class="p">\</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#notes-language-typst-__codelineno-5-4"></a><span class="w">    </span>I&#39;m<span class="w"> </span>gonna<span class="w"> </span>make<span class="w"> </span>you<span class="w"> </span>smile<span class="w"> </span>and<span class="w"> </span>I<span class="w"> </span>will<span class="w"> </span>brighten<span class="w"> </span>up<span class="w"> </span>your<span class="w"> </span>day<span class="p">\</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#notes-language-typst-__codelineno-5-5"></a><span class="w">    </span>It<span class="w"> </span>doesn&#39;t<span class="w"> </span>matter<span class="w"> </span>now<span class="w"> </span>(What&#39;s<span class="w"> </span>up?)<span class="p">\</span>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#notes-language-typst-__codelineno-5-6"></a><span class="w">    </span>If<span class="w"> </span>you<span class="w"> </span>are<span class="w"> </span>sad<span class="w"> </span>or<span class="w"> </span>blue<span class="w"> </span>(Howdy!)<span class="p">\</span>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#notes-language-typst-__codelineno-5-7"></a><span class="w">    </span>&#39;Cause<span class="w"> </span>cheering<span class="w"> </span>up<span class="w"> </span>my<span class="w"> </span>friends<span class="w"> </span>is<span class="w"> </span>just<span class="w"> </span>what<span class="w"> </span>Pinkie&#39;s<span class="w"> </span>here<span class="w"> </span>to<span class="w"> </span>do<span class="p">\</span>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#notes-language-typst-__codelineno-5-8"></a><span class="w">    </span>&#39;Cause<span class="w"> </span>I<span class="w"> </span>love<span class="w"> </span>to<span class="w"> </span>make<span class="w"> </span>you<span class="w"> </span>smile,<span class="w"> </span>smile,<span class="w"> </span>smile<span class="p">\</span>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#notes-language-typst-__codelineno-5-9"></a><span class="w">    </span>Yes<span class="w"> </span>I<span class="w"> </span>do<span class="p">\</span>
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#notes-language-typst-__codelineno-5-10"></a><span class="w">    </span>It<span class="w"> </span>fills<span class="w"> </span>my<span class="w"> </span>heart<span class="w"> </span>with<span class="w"> </span>sunshine<span class="w"> </span>all<span class="w"> </span>the<span class="w"> </span>while<span class="p">\</span>
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#notes-language-typst-__codelineno-5-11"></a><span class="w">    </span>Yes<span class="w"> </span>it<span class="w"> </span>does<span class="w"> </span>
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#notes-language-typst-__codelineno-5-12"></a><span class="w">    </span>From<span class="w"> </span>these<span class="w"> </span>happy<span class="w"> </span>friends<span class="w"> </span>of<span class="w"> </span>mine<span class="p">\</span>
<a id="__codelineno-5-13" name="__codelineno-5-13" href="#notes-language-typst-__codelineno-5-13"></a><span class="w">    </span>I<span class="w"> </span>like<span class="w"> </span>to<span class="w"> </span>see<span class="w"> </span>you<span class="w"> </span>grin<span class="w"> </span>(Awesome!)<span class="p">\</span>
<a id="__codelineno-5-14" name="__codelineno-5-14" href="#notes-language-typst-__codelineno-5-14"></a><span class="w">    </span>I<span class="w"> </span>love<span class="w"> </span>to<span class="w"> </span>see<span class="w"> </span>you<span class="w"> </span>beam<span class="w"> </span>(Rock<span class="w"> </span>on!)<span class="p">\</span>
<a id="__codelineno-5-15" name="__codelineno-5-15" href="#notes-language-typst-__codelineno-5-15"></a><span class="w">    </span>The<span class="w"> </span>corners<span class="w"> </span>of<span class="w"> </span>your<span class="w"> </span>mouth<span class="w"> </span>turned<span class="w"> </span>up<span class="w"> </span>is<span class="w"> </span>always<span class="w"> </span>Pinkie&#39;s<span class="w"> </span>dream<span class="w"> </span>(Hoof<span class="w"> </span>bump!)<span class="p">\</span>
<a id="__codelineno-5-16" name="__codelineno-5-16" href="#notes-language-typst-__codelineno-5-16"></a><span class="w">    </span>But<span class="w"> </span>if<span class="w"> </span>you&#39;re<span class="w"> </span>kind<span class="w"> </span>of<span class="w"> </span>worried<span class="p">\</span>
<a id="__codelineno-5-17" name="__codelineno-5-17" href="#notes-language-typst-__codelineno-5-17"></a><span class="w">    </span>And<span class="w"> </span>your<span class="w"> </span>face<span class="w"> </span>has<span class="w"> </span>made<span class="w"> </span>a<span class="w"> </span>frown<span class="p">\</span>
<a id="__codelineno-5-18" name="__codelineno-5-18" href="#notes-language-typst-__codelineno-5-18"></a><span class="w">    </span>I&#39;ll<span class="w"> </span>work<span class="w"> </span>real<span class="w"> </span>hard<span class="w"> </span>and<span class="w"> </span>do<span class="w"> </span>my<span class="w"> </span>best<span class="w"> </span>to<span class="w"> </span>turn<span class="w"> </span>that<span class="w"> </span>sad<span class="w"> </span>frown<span class="w"> </span>upside<span class="w"> </span>down
<a id="__codelineno-5-19" name="__codelineno-5-19" href="#notes-language-typst-__codelineno-5-19"></a><span class="p">]</span>
</code></pre></div>
<img alt="" src="../notes/Language/assets/typ4.png" /><br />
已知问题：会和<code>image</code>的<code>weight</code>,<code>height</code>冲突；脱离图片范围后换行会失效（如上图）<br />
用<code>columns:(a%,b%)</code>设置图片和文字的比例</p>
<h2 id="notes-language-typst-gentle-clues">gentle-clues<a class="headerlink" href="#notes-language-typst-gentle-clues" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#notes-language-typst-__codelineno-6-1"></a><span class="kn">#import</span><span class="w"> </span><span class="s2">&quot;@preview/gentle-clues:1.0.0&quot;</span><span class="p">:</span><span class="w"> </span><span class="o">*</span>
</code></pre></div>
<p>预定义的块：<br />
<img alt="gentleclues" src="../notes/Language/assets/typ6.png" /></p>
<p>看Manual！</p>
<h2 id="notes-language-typst-_4">杂<a class="headerlink" href="#notes-language-typst-_4" title="Permanent link">&para;</a></h2>
<p><code>repeat</code>函数返回一个无限重复，顶到页面最右侧的字符串，可以用来做填写处
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#notes-language-typst-__codelineno-7-1"></a><span class="kd">#let</span><span class="w"> </span><span class="nv">answer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nf">#box</span><span class="p">(</span><span class="nv">width</span><span class="p">:</span><span class="w"> </span><span class="m">1</span><span class="kr">fr</span><span class="p">,</span><span class="nf">repeat</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">))]</span><span class="w"> </span><span class="c1">//用box可以让它不换行</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#notes-language-typst-__codelineno-7-2"></a><span class="c1">//如果后面还有内容就把内容顶到最右边</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#notes-language-typst-__codelineno-7-3"></a>You<span class="w"> </span>have<span class="w"> </span>a<span class="w"> </span>vast<span class="w"> </span>vast<span class="w"> </span>soul<span class="w"> </span><span class="p">\</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#notes-language-typst-__codelineno-7-4"></a>And<span class="w"> </span>I<span class="w"> </span>will<span class="w"> </span>always,<span class="w"> </span>always,<span class="w"> </span>always<span class="w"> </span><span class="nv">#answer</span><span class="w"> </span>it.
</code></pre></div>
<img alt="" src="../notes/Language/assets/typ3.png" /></p>
<p><code>image</code>函数怎么用: 
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#notes-language-typst-__codelineno-8-1"></a>image(
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#notes-language-typst-__codelineno-8-2"></a>    str,
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#notes-language-typst-__codelineno-8-3"></a>    format: autostr,
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#notes-language-typst-__codelineno-8-4"></a>    width: autorelative,
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#notes-language-typst-__codelineno-8-5"></a>    height: autorelative,
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#notes-language-typst-__codelineno-8-6"></a>    alt: nonestr,
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#notes-language-typst-__codelineno-8-7"></a>    fit: str,
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#notes-language-typst-__codelineno-8-8"></a>) -&gt; content
</code></pre></div></p>
<p>Table Decoration: <a href="https://typst.app/docs/guides/table-guide/">https://typst.app/docs/guides/table-guide/</a></p></section></section>
                    <section class='print-page md-section' id='section-4-7' heading-number='4.7'>
                        <h1>短学期<a class='headerlink' href='#section-4-7' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="notes-summercourses-ctf" heading-number="4.7.1"><nav class='md-tags'><span class='md-tag'>大一下笔记</span></nav><h1 id="ctf101">CTF101<a class="headerlink" href="#notes-summercourses-ctf-ctf101" title="Permanent link">&para;</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 1793 个字 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6m80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3l89.3 89.4-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3"/></svg></span> 28 行代码 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 17H7V3h14m0-2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2M3 5H1v16a2 2 0 0 0 2 2h16v-2H3m12.96-10.71-2.75 3.54-1.96-2.36L8.5 15h11z"/></svg></span> 1 张图片 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 5 分钟</p>
</div>
<blockquote>
<p>拼搏百天，我要成为安全领域大神！</p>
</blockquote>
<div class="admonition note">
<p class="admonition-title">课程网站 &amp; Useful links</p>
<p><a href="https://hello-ctf.com/">https://hello-ctf.com/</a><br />
<a href="https://courses.zjusec.com/">https://courses.zjusec.com/</a></p>
</div>
<h2 id="notes-summercourses-ctf-web">Web<a class="headerlink" href="#notes-summercourses-ctf-web" title="Permanent link">&para;</a></h2>
<div class="admonition extra">
<p class="admonition-title">Web基础</p>
<p>课程slides: <a href="https://cubicy.notion.site/2024-Web-4d50db2d026c4fffb76bfebdc1f9d553">https://cubicy.notion.site/2024-Web-4d50db2d026c4fffb76bfebdc1f9d553</a><br />
箱神辅学slide: <a href="https://slides.tonycrane.cc/PracticalSkillsTutorial/2023-fall-ckc/lec6/#/">https://slides.tonycrane.cc/PracticalSkillsTutorial/2023-fall-ckc/lec6/#/</a><br />
MDN Web Docs: <a href="https://developer.mozilla.org/zh-CN/docs/Learn/Common_questions/Web_mechanics/How_does_the_Internet_work">https://developer.mozilla.org/zh-CN/docs/Learn/Common_questions/Web_mechanics/How_does_the_Internet_work</a></p>
</div>
<h3 id="notes-summercourses-ctf-_1">基础<a class="headerlink" href="#notes-summercourses-ctf-_1" title="Permanent link">&para;</a></h3>
<p>Web = Client + Server  </p>
<ul>
<li>Client: 浏览器<ul>
<li>可视化(HTML/CSS/JS)</li>
<li>交互(JS)</li>
<li>缓存(Cookie)</li>
<li>安全性</li>
</ul>
</li>
<li>Server: 1 or 多台服务器<ul>
<li>处理请求</li>
<li>前后端、数据库</li>
<li>安全性（403 Forbbiden）</li>
</ul>
</li>
</ul>
<p>数据交换：数据包-&gt;路由器-&gt;不同IP<br />
<strong>D</strong>omain <strong>N</strong>ame <strong>S</strong>ystem: 记录域名映射到的IP地址/其他域名/其他东西</p>
<p>Proxy: </p>
<ul>
<li>正向：假装进入内网</li>
<li>反向：代理商穿透内网，佯装内网把数据返回出来</li>
</ul>
<p>Cookie: 客户端储存用户在服务器上的数据，用于识别用户身份，下次带着cookie就不用再输密码啦<br />
Session: 和cookie差不多，不过是在服务器端临时储存  </p>
<h3 id="notes-summercourses-ctf-php">php<a class="headerlink" href="#notes-summercourses-ctf-php" title="Permanent link">&para;</a></h3>
<p>我擦，没听懂</p>
<h3 id="notes-summercourses-ctf-sql">SQL<a class="headerlink" href="#notes-summercourses-ctf-sql" title="Permanent link">&para;</a></h3>
<p>我擦，也没听懂</p>
<div class="admonition note">
<p class="admonition-title">地址栏输入一个url回车后发生了什么（纯抄的）</p>
<ul>
<li>DNS解析（域名解析）：
    浏览器会首先检查本地缓存中是否有该网址对应的IP地址。
    如果没有，它会向DNS服务器发送请求，查询该网址的IP地址。
    DNS服务器返回该网址对应的IP地址给浏览器。</li>
<li>建立TCP连接：
    浏览器使用前面得到的IP地址，通过TCP/IP协议与目标服务器建立连接。
    这包括三次握手过程：客户端发送SYN包，服务器返回SYN-ACK包，客户端再发送ACK包确认连接。</li>
<li>发送HTTP请求：
    建立连接后，浏览器会发送一个HTTP请求到服务器。这个请求包含了请求方法（如GET或POST）、请求的资源路径以及一些头信息（如浏览器类型、可接受的文件类型等）。</li>
<li>服务器处理请求并返回响应：
    服务器接收到请求后，会处理该请求，查找请求的资源（如HTML文件、图片、视频等）。
    服务器会将找到的资源以及一些头信息（如内容类型、内容长度等）打包成HTTP响应，返回给浏览器。</li>
<li>浏览器接收响应并渲染页面：
    浏览器接收到服务器返回的HTTP响应后，会解析响应的头信息和内容。
    如果内容是HTML文件，浏览器会解析HTML并根据其中的指令（如加载CSS文件、执行JavaScript脚本等）进行渲染。
    浏览器会逐步构建DOM树和CSSOM树，并根据它们生成渲染树，最后将内容绘制到屏幕上。</li>
<li>加载资源：
    如果HTML文件中包含了其他资源（如图片、CSS、JavaScript等），浏览器会根据需要发送额外的HTTP请求来加载这些资源。
    这些资源加载完成后，浏览器会继续渲染页面，更新显示内容。 整个过程通常在短时间内完成，以确保用户能够快速看到网页内容。</li>
</ul>
</div>
<h2 id="notes-summercourses-ctf-misc">Misc<a class="headerlink" href="#notes-summercourses-ctf-misc" title="Permanent link">&para;</a></h2>
<h3 id="notes-summercourses-ctf-_2">解码工具<a class="headerlink" href="#notes-summercourses-ctf-_2" title="Permanent link">&para;</a></h3>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#notes-summercourses-ctf-__codelineno-0-1"></a>ciphey<span class="w"> </span>-t<span class="w"> </span>TEXT<span class="w">  </span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#notes-summercourses-ctf-__codelineno-0-2"></a>ciphey<span class="w"> </span>-f<span class="w"> </span>FILE
</code></pre></div>
隐写判断（样板戏轮流上）:</p>
<ul>
<li>文件头尾判断：<a href="https://www.cnblogs.com/bravexiaoxi/articles/File_Header_Footer.html">https://www.cnblogs.com/bravexiaoxi/articles/File_Header_Footer.html</a></li>
<li>winhex/010editor #查看文件编码</li>
<li>exiftool FILE #看exif信息</li>
<li>strings FILE</li>
<li>binwalk -e FILE</li>
<li>stegsolve.jar</li>
<li>foremost FILE</li>
<li>zsteg -a FILE (png or bmp)</li>
<li>steghide extract -sf FILE (jpg) -p PASSWORD </li>
<li>python \lsb.py extract file.png</li>
<li><a href="https://blog.csdn.net/weixin_43921596/article/details/86654754">stegdetect</a></li>
</ul>
<h3 id="notes-summercourses-ctf-md5">md5<a class="headerlink" href="#notes-summercourses-ctf-md5" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#notes-summercourses-ctf-__codelineno-1-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">hashlib</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#notes-summercourses-ctf-__codelineno-1-2"></a><span class="k">def</span><span class="w"> </span><span class="nf">md5_encrypt</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#notes-summercourses-ctf-__codelineno-1-3"></a>    <span class="n">md5</span> <span class="o">=</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">md5</span><span class="p">()</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#notes-summercourses-ctf-__codelineno-1-4"></a>    <span class="n">md5</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">))</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#notes-summercourses-ctf-__codelineno-1-5"></a>    <span class="k">return</span> <span class="n">md5</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>
</code></pre></div>
<h3 id="notes-summercourses-ctf-base">Base家族<a class="headerlink" href="#notes-summercourses-ctf-base" title="Permanent link">&para;</a></h3>
<h3 id="notes-summercourses-ctf-zip">Zip<a class="headerlink" href="#notes-summercourses-ctf-zip" title="Permanent link">&para;</a></h3>
<p>Zip文件由：压缩源文件数据区，压缩源文件目录区、压缩源文件目录结束标志三部分组成。</p>
<ul>
<li>源文件数据区：504B0304开头，两个字节后的两个字节是压缩方式（全局方式位标记），即<code>50 4B 03 04 14 00 0? 00</code>，不加密/伪加密时，问号为0，加密时不为0。</li>
<li>源文件目录区：504B0102开头，四个字节后的两个字节是标记是否加密，即<code>50 4B 01 02 3F 00 14 00 0? 00</code>，不加密/伪加密时，问号为0，加密时不为0。</li>
<li>源文件目录结束标志：504B0506连带后面18个字节结束本文件</li>
</ul>
<p>伪加密：如果源文件数据区不加密（全局方式位标记为0），但源文件目录区加密（标记不为0），则解压软件会要密码，还爆破不了。把源目录区的加密标记改为0即可。<br />
有的题会出现压缩包嵌套（一般全是伪加密），这时编码类似于一层一层包着，解压一层就会出现下一层的压缩包，直到最后一层才和flag有关，此时在010editor中找到最内层的压缩文件直接复制粘贴出来就是一个最内层的压缩包。</p>
<p><img alt="" src="../img/CTF1.png" /></p>
<p>梗来源：ruru</p>
<h3 id="notes-summercourses-ctf-blockchain">Blockchain<a class="headerlink" href="#notes-summercourses-ctf-blockchain" title="Permanent link">&para;</a></h3>
<p>听不懂思密达</p>
<ul>
<li>区块链：一种去中心化的数据库，数据以区块的形式存储在多个节点上，每个区块包含了前一个区块的哈希值，形成了一个链式结构。</li>
<li>比特币：一种基于区块链技术的加密货币，是第一个去中心化的数字货币。</li>
<li>挖矿：通过计算机算力解决数学难题，获得比特币的过程。</li>
<li>共识机制：区块链网络中的节点如何达成一致，保证数据的一致性和安全性。</li>
<li>智能合约：一种自动执行合约的计算机程序，运行在区块链上，无需第三方信任。</li>
<li>以太坊：一种基于区块链技术的智能合约平台，支持自定义代币和去中心化应用。</li>
<li>以太坊虚拟机：以太坊网络中的虚拟机，用于执行智能合约。</li>
</ul>
<p>笑点解析：上面这一串全是Copi帮我补的</p>
<p>交易：EOA（外部账户）和EOA的交易<br />
合约：EOA和合约的交易（类似调用函数）<br />
创建合约：EOA和NULL的交易</p>
<h2 id="notes-summercourses-ctf-reverse">Reverse<a class="headerlink" href="#notes-summercourses-ctf-reverse" title="Permanent link">&para;</a></h2>
<ul>
<li>编译（汇编）：从源代码到目标文件</li>
<li>链接：从目标文件到可执行文件</li>
</ul>
<h3 id="notes-summercourses-ctf-gdbgef">GDB/GEF<a class="headerlink" href="#notes-summercourses-ctf-gdbgef" title="Permanent link">&para;</a></h3>
<ul>
<li><code>i r</code> 列出所有寄存器的值</li>
<li><code>i functions</code> 列出所有函数</li>
<li><code>c</code>继续直到断点，<code>b 行号</code> <code>b 函数名</code>设置断点</li>
<li><code>p 变量名</code> 打印变量值</li>
<li><code>display 变量名</code> 每次停下来都显示变量值</li>
<li><code>x /s 地址</code> 看看地址处存了什么</li>
<li><code>set $寄存器 = xxx</code> 修改寄存器的值，可以修改<code>rip</code>以跳到指定位置</li>
</ul>
<h2 id="notes-summercourses-ctf-pwn">Pwn<a class="headerlink" href="#notes-summercourses-ctf-pwn" title="Permanent link">&para;</a></h2>
<p>shellcode: 机器码，执行系统命令
命令注入：
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#notes-summercourses-ctf-__codelineno-2-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#notes-summercourses-ctf-__codelineno-2-2"></a>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#notes-summercourses-ctf-__codelineno-2-3"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">argv</span><span class="p">[])</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#notes-summercourses-ctf-__codelineno-2-4"></a><span class="p">{</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#notes-summercourses-ctf-__codelineno-2-5"></a><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">data</span><span class="p">[</span><span class="mi">64</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">0</span><span class="p">};</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#notes-summercourses-ctf-__codelineno-2-6"></a><span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">cmd</span><span class="p">[</span><span class="mi">64</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">0</span><span class="p">};</span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#notes-summercourses-ctf-__codelineno-2-7"></a>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#notes-summercourses-ctf-__codelineno-2-8"></a><span class="w">    </span><span class="n">puts</span><span class="p">(</span><span class="s">&quot;I&#39;m a simple echo server&quot;</span><span class="p">);</span>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#notes-summercourses-ctf-__codelineno-2-9"></a><span class="w">    </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%64s&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="p">);</span>
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#notes-summercourses-ctf-__codelineno-2-10"></a><span class="w">    </span><span class="n">sprintf</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;echo %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="p">);</span>
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#notes-summercourses-ctf-__codelineno-2-11"></a><span class="w">    </span><span class="n">system</span><span class="p">(</span><span class="n">cmd</span><span class="p">);</span>
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#notes-summercourses-ctf-__codelineno-2-12"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-2-13" name="__codelineno-2-13" href="#notes-summercourses-ctf-__codelineno-2-13"></a><span class="p">}</span>
</code></pre></div>
如上C代码模拟了一个用于echo东西的cmd，我们可以输入"wolegeshaogang&amp;&amp;ls"，这样在输出外会执行ls命令（利用sh的语法）。</p>
<h2 id="notes-summercourses-ctf-python">python的一些包<a class="headerlink" href="#notes-summercourses-ctf-python" title="Permanent link">&para;</a></h2>
<h3 id="notes-summercourses-ctf-socket">socket<a class="headerlink" href="#notes-summercourses-ctf-socket" title="Permanent link">&para;</a></h3>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#notes-summercourses-ctf-__codelineno-3-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">socket</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#notes-summercourses-ctf-__codelineno-3-2"></a>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#notes-summercourses-ctf-__codelineno-3-3"></a><span class="n">HOST</span> <span class="o">=</span> <span class="s2">&quot;IP Address&quot;</span>  <span class="c1"># IP address</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#notes-summercourses-ctf-__codelineno-3-4"></a><span class="n">PORT</span> <span class="o">=</span> <span class="n">PORTNUMBER</span>   <span class="c1"># Port number</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#notes-summercourses-ctf-__codelineno-3-5"></a>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#notes-summercourses-ctf-__codelineno-3-6"></a><span class="n">s</span> <span class="o">=</span> <span class="n">socket</span><span class="o">.</span><span class="n">socket</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">AF_INET</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">SOCK_STREAM</span><span class="p">)</span>   <span class="c1"># create socket</span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#notes-summercourses-ctf-__codelineno-3-7"></a>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#notes-summercourses-ctf-__codelineno-3-8"></a><span class="n">s</span><span class="o">.</span><span class="n">connect</span><span class="p">((</span><span class="n">HOST</span><span class="p">,</span> <span class="n">PORT</span><span class="p">))</span> <span class="c1"># connect to server</span>
</code></pre></div>
然后使用 <code>s.send(MESSAGE)</code> 和 <code>s.recv(MESSAGE)</code> 进行数据传输，返回为bytes类型。</p>
<h2 id="notes-summercourses-ctf-_3">杂项<a class="headerlink" href="#notes-summercourses-ctf-_3" title="Permanent link">&para;</a></h2>
<div class="admonition extra">
<p class="admonition-title">Overviews</p>
<p>记录一些做题时碰到的小技巧/知识</p>
</div>
<p>用vim写文件的时候，会自动在当前文件下生成一个<code>.&lt;filename&gt;.swp</code>（存有编辑信息，相当于实时备份），如果有意外退出的情况就不怕没保存了。正常<code>:wq</code>就会把这个临时文件删除。<del>你们vim真是太安全了</del>  <br />
再次打开vim时使用<code>vim -r &lt;filename&gt;</code>就可以把临时文件恢复为原文件。</p>
<p>Linux安装：</p>
<ul>
<li>.deb: <code>sudo dpkg -i &lt;package&gt;.deb</code></li>
<li>.tar.gz: <code>tar -zxvf &lt;package&gt;.tar.gz</code> -&gt; <code>./configure</code> -&gt; <code>sudo make</code> -&gt; <code>make install</code></li>
</ul>
<p><code>objdump -d &lt;exeutable filename&gt; &gt; a.asm</code> 保存汇编代码</p></section></section></section>
                    <section class='print-page md-section' id='section-5' heading-number='5'>
                        <h1>杂<a class='headerlink' href='#section-5' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="others" heading-number="5.1"><h1 id="others-_1">杂<a class="headerlink" href="#others-_1" title="Permanent link">&para;</a></h1>
<p>随便扔一些东西！</p></section><section class="print-page" id="others-quotes" heading-number="5.2"><h1 id="others-quotes-_1">记念<a class="headerlink" href="#others-quotes-_1" title="Permanent link">&para;</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 1813 个字 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 5 分钟</p>
</div>
<blockquote>
<p>Credit to <a href="https://zjyinzju.github.io/other/%E8%AE%B0%E5%BF%B5/">Yu</a>, recalling my whim to gathering quotes, again.</p>
</blockquote>
<details class="引言">
<summary>引言</summary>
<p>阅读小说/散文/歌词/诗等这类基于文本的艺术作品，在很久以前，QQ尚有一个叫做随心贴的功能的时候，我很喜欢将其中有点意思的语句记录下来。可惜随心贴作古时，哑然无言，怅然若失，那些珠玑字句也都消弭于脑海。今个儿才想起来我还在万维网上有个这块地皮，遂新开一界面，留备新的记录。<br />
使用分割线以区分来自不同创作者的内容。</p>
</details>
<p>有一次，父亲告诉我，年轻时他很喜欢晚春的黄昏，感觉世界正向无尽之处延展，野火烧亮每一道深渊。他说的想必是更年轻的时候——真正的年轻，你不会在意现实中暗藏的任何棱角，受伤也不过是诸多体验的一种。</p>
<p align=right>三三《晚春》</p>

<p>好像在日常坐标轴里，这间房子是诸多虚数之一。</p>
<p align=right>三三《即兴戏剧》</p>

<p>那天，在他们饱受爱欲围剿的时刻，他恍惚地望见她身后的黄浦江。对岸灯火流溢，一场通电的焰火巡展，一片虚张声势的后现代森林。水面吸满光影，看上去微微发烫。</p>
<p>但一个人在考量永恒之时，便是她失望的开始，只是当时她还不明白。</p>
<p align=right>三三《开罗紫玫瑰》</p>

<hr />
<p>“不管怎么说，蒋不凡，如果有那玩意的话，我们是不是得下地狱？大帅，张学良都在地狱里等着我们呐。”  <br />
蒋不凡不说话啦，瞪着老虎厅里的什么东西，或者什么东西也没瞪。半晌之后他说：“你看那老虎多威风，让蒋夫人也买一个，摆家里。”  <br />
“我问你呐。”<br />
“我不信这个，我没有信仰，我就信人死灯灭。”<br />
“如果没灭呢，就是换了一灯座儿。”  </p>
<p align=right>双雪涛《天吾手记》</p>

<hr />
<p>The Figurines Won't Win Her Back: they do nothing.</p>
<p>她的颜色是银色、白色和杏色。当你想起她的名字，德洛莉丝，胃酸就一路攀升到你的喉咙后部，疼痛难耐——你看见一道银色的闪光，一个花冠，还有一个旅行箱。还有一头金发。</p>
<p>瑞瓦肖会成为一个平静祥和的国度，（你该去喝一杯。）一个美丽祥和又神秘平静的所在。它不会被女人的脆弱以及歇斯底里所感染，也不会允许那些塞美尼人把裤腰降到脚踝的位置，到时候这些问题都将不复存在。（等你喝完一杯之后。）高院的工人主义教授将会被开除，世界报的编辑将会沦落到街头乞讨度日，而你则会把手中的啤酒倒进他们行乞的帽子里，然后放声大笑。（你应该去找酒喝了。）</p>
<p>You don't have to take him down. He's already down.</p>
<p>Welcome to the wake-up club, brother.</p>
<p>我是人类的革命公仆。我会解放人类，废除阶级制度。我会让死人复活。</p>
<p>好吧，我这么说只是为了结束这次的讨论：从理论上讲，如果我是一个失足小青年——如果我已经走上了这条路——那我觉得两种声明中，‘弱水三千只取一尿饮’是比较有力的那个。</p>
<p>坤诺也会走进枪林弹雨中，像头豪猪一样死去。</p>
<p>融化的雪花渗入你单薄的衣衫。在这种天气里，祖母们不会让他们的外孙穿的如此轻薄。至少你的头发有了保护，不会湿乎乎地黏在一起。</p>
<p>只有少数*小老鼠*从竖井里回来了甚至更少数找到了他们要找的东西。一个小孩从黑色的隧道中钻了出来，口袋里还装着一些银色的小饰品。在她周围，白雪覆盖在熄灭的焦炭炉上。在被风雨侵蚀的棚屋里，醉酒的父亲正在殴打他们的儿子。雪花在你的指尖融化成水滴。</p>
<p>接下来的十几年，她会一直站在索诺梵鱼品加工厂的传送带旁，鱼内脏的气味会逐渐渗入她的发丝和皮肤......她所有的梦想都将破灭——一个接着一个。</p>
<p>午后的日光之下，整片大区域轰鸣着：旧木屋组成一张黑色棋盘，里面生活着 80,000 条生命，还有层层叠叠的烟囱。一眼望去全是容易失火的建筑物——从大街到 41 分局，再到嵌入在大雪纷飞地平线上的布吉街......你闭上双眼，听见狗在吠叫。一个孤独的女人坐在工厂窗户旁边，梦想着陨石撞击这个星球。圣杰罗姆路上，一枚方形子弹滑入方形枪膛。旧南城里，一个没有眼睑的男人在微笑。春天来了。到时间了。</p>
<p align=right><i>Disco Elysium</i>（轻语工作室 译）, ZA/UM</p>

<hr />
<p>Fairy tales are more than true: not because they tell us that dragons exist, but because they tell us that dragons can be beaten.</p>
<p align=right>G.K. Chesterton by way of Neil Gaiman, Coraline</p>

<hr />
<p>书页不像IDE窗口那么宽，所以每一个字符都很珍贵。</p>
<p align=right><i>Crafting Interpreters</i>, Robert Nystrom</p>

<hr />
<p>山崖复远望<br />
仓皇 无告 不回的河流<br />
平原不可见<br />
晦暗 无声 未知的存亡</p>
<p align=right>万能青年旅店《山雀》</p>

<hr />
<p>“我明白你的意思了。一个人真正喜欢另一个人，哪怕这个人的相貌在别人眼里是平平常常的，但在他的眼睛里，这个人就是世界上最美丽最可爱的，对不对？”</p>
<p>这个问题似乎很大，很深奥，我从来没有仔仔细细地想过。何况跟一个女生讨论这样的问题，很难做到畅所欲言，幸好我们已经到了该分手的十字路口。</p>
<p align=right>杨红樱《男生日记》</p>

<hr />
<p>故闻《蓼萧》之篇，则知泽及四海也；闻《禾黍》之咏，则知时和岁丰也；闻《北风》之诗，则知威虐及人也；闻《硕鼠》之刺，则知重敛於下也；闻「广袖高髻」之谣，则知风俗之奢荡也；闻「谁其获者妇与姑」之言，则知征役之废业也。故国风之盛衰，由斯而见也；王政之得失，由斯而闻也；人情之哀乐，由斯而知也。</p>
<p align=right>白居易《策林六十九·采诗以补察时政》</p>

<hr />
<p>"My name is Lyra Heartstrings, and you will not remember me. You won't even remember this conversation. Just like with everypony else I've ever met, everything I do or say will be forgotten. Every letter I've written will appear blank; every piece of evidence I've left behind will end up missing. I'm stuck here in Ponyville because of the same curse that has made me so forgettable. Still, that doesn't stop me from doing the one thing that I love: making music. If my melodies find their way into your heart, then there is still hope for me. If I can't prove that I exist, I can at least prove that my love for each and every one of you exists. Please, listen to my story, my symphony, for it is me."</p>
<p>“小马们都是要做些什么，才可以被铭记。我靠弹音乐——你靠拯救全国。”我举杯示意，微笑道，“说到底咱俩都一样的。”</p>
<p align=right><i>Background Pony</i>,  shortskirtsandexplosions</p></section><section class="print-page" id="others-final" heading-number="5.3"><h1 id="others-final-_1">年终总结合集<a class="headerlink" href="#others-final-_1" title="Permanent link">&para;</a></h1>
<div class="admonition note">
<p class="admonition-title">Overview</p>
<p>放一些常用软件的年终总结，聊表纪念（自2023年开始）</p>
</div>
<h2 id="others-final-2023">2023<a class="headerlink" href="#others-final-2023" title="Permanent link">&para;</a></h2>
<p><img alt="netease2023" src="../img/netease2023.jpg" />
<img alt="qq2023" src="../img/qq2023.jpg" />
<img alt="steam2023" src="../img/steam2023.png" /></p>
<h2 id="others-final-2024">2024<a class="headerlink" href="#others-final-2024" title="Permanent link">&para;</a></h2>
<p><img alt="duolingo2024" src="../img/duolingo2024.jpg" />
<img alt="netease2024" src="../img/netease2024.jpg" />
<img alt="bilibili2024" src="../img/bilibili2024.jpg" />
<img alt="qq2024" src="../img/qq2024.jpg" />
<img alt="bbdc2024" src="../img/bbdc2024.jpg" /></p></section><section class="print-page" id="others-summer_idle" heading-number="5.4"><h1 id="others-summer_idle-_1">如果你高考完暑假里没事干了怎么办<a class="headerlink" href="#others-summer_idle-_1" title="Permanent link">&para;</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 2338 个字 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 17H7V3h14m0-2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2M3 5H1v16a2 2 0 0 0 2 2h16v-2H3m12.96-10.71-2.75 3.54-1.96-2.36L8.5 15h11z"/></svg></span> 1 张图片 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间 7 分钟</p>
</div>
<blockquote>
<p>这篇文章是我写给母校，即青海油田第一中学2024届的学弟学妹的高考后指南，旨在推荐一些暑假闲暇时可做可感的事项。如果你是其他学校的学生，也可参考本文构思你高考后的暑假生活！</p>
</blockquote>
<div class="admonition key-point">
<p class="admonition-title">引言</p>
<p>这是我第一次撰写指南类的文章，碍于笔者所见所感片面，观点仅是一孔之见/我自己踩过的坑，可能包含一些自认为正确的无稽之谈，望你多多甄别，选择对自己胃口的内容消化。<br />
（正也因此，本文也脱离了老生常谈的“预习大学内容”“打好大学基础”的窠臼，cover了少数笔者自己觉得十分有价值的方面）<br />
<strong>Anyway, enjoy your summer!</strong></p>
</div>
<h2 id="others-summer_idle-_2">玩个痛快！<a class="headerlink" href="#others-summer_idle-_2" title="Permanent link">&para;</a></h2>
<p><strong>永远的首选项！</strong>战斗，爽！遥想我当初考完后的第一个周末就完成了人生中第一次通宵（最接近这一成就的经历还是高二熬夜打元气骑士到四点半）（不过也因此重创了身体），好好释放一下是很有必要的，痛快玩吧！  </p>
<p>也毫无必要急匆匆地翻开b站提前找高数or编程的网课看，等大学考试周再看也不急（x。上大学后前两节课讲的就足够把你在暑假里勤苦看了好几p的视频全涵盖了，因此痛快玩吧！  </p>
<p>我唯一推荐的学习内容就是<strong>英语</strong>。高中还未露端倪，在以后的学习生涯中，无论你选择什么样的专业学习怎样的知识，大部分国外的资源/教程/网站远比国内的要来得清晰有效——也不奇怪，毕竟某些技术的起源地就在那边嘛。在你想办法接触到那些知识之前（这是pong都不能pong的滑梯x），先突破语言上的障碍更为优先。现在也有<a href="https://immersivetranslate.com/">沉浸式翻译</a>等类似的插件，不过机翻总归是没有直接认读好的。Anyway，痛快玩吧！  </p>
<h2 id="others-summer_idle-find-an-interesthobby">Find an Interest/Hobby<a class="headerlink" href="#others-summer_idle-find-an-interesthobby" title="Permanent link">&para;</a></h2>
<p>这一点可能是全文中最多余的一部分，这是因为我推测你有很大概率从小就在父母的要求下学过一两门乐器/才艺，也有可能从小就修炼了几个得心应手的电子游戏。有一个属于自己的兴趣爱好几乎会<strong>成千上万</strong>倍地提高你的大学生活——至少在第一个学期里，对家人故乡的思念、面对艰涩课程的无奈、对新地界的无所适从，都可以用你自己的这些喜欢的手艺活排遣疏散。打游戏、读书、弹钢琴吉他、盘核桃、写小说、唱歌、看直播、剪视频、远足，这些老生常谈的活计都有无比巨大的作用。如果你和我一样，早就放弃了小时候学过的某个技艺，建议你重拾起来。</p>
<h2 id="others-summer_idle-_3">考虑考虑以后想学什么<a class="headerlink" href="#others-summer_idle-_3" title="Permanent link">&para;</a></h2>
<p><img alt="" src="../img/summer.jpg" />
每次看到这段话都很无奈：除非自幼便决心于某个方面矢志不渝，要么是在父母某一方的强烈推动下了解过某个方向，抑或是凭自己的了解对某个学科有着无比浓厚的兴趣（这种兴趣不同于上一个板块的Interest，而是足以支撑其对这个方向不断砥砺向前的精神力量）（这也是为什么某些时候我很羡慕竞赛生：无论出发点如何，他们都在某一领域积攒了足够深厚的基础与兴趣），否则在专业选取时，一个普通孩子只能在父母+亲戚+选专业视频+道听途说来的就业情况等等因素的共同撺掇下敲定，兼之以“不亏高考分”的顾虑，至于学科本身涉及的知识与技术，一概不提，九霄云外——笔者便如此。我常无奈，可能这就是高考选拔这一制度最愚蠢的地方。  </p>
<p>因此，不必太过长远，有完全确定的方向，只在心里大致地、模模糊糊地感受一下，在过去的岁月中，生活中的哪个方面对你有着最浓厚的兴趣吸引力，你觉得花点时间研究它挺好的，最好把这些也加载到未来你考虑专业时的因素中。</p>
<details class="not-advice">
<summary>不推荐做的事</summary>
<ul>
<li><strong>学车</strong>。就个人体验而言，考驾照几乎占去了我大半个暑假+一整个寒假的时间，并且作用时间还在增加（写到这里时我刚刚挂了科目三考试）。你需要牺牲数十个中午与下午，寻求诸多亲戚朋友的接送，将这些时间精力全耗在戈壁滩上的驾校/考试场地，与此同时还要接受喷着敦煌话的教练/考官/车管所工作人员趾高气扬的指挥，这是高中生涯后你第一次有被当成佣人使来唤去的感觉（PS. 大学开学后的军训估计是第二次）。个人感觉把暑假时间放在这上面十分暴殄天物（有时我觉得敦煌的驾校相比外地只有两个好处——花钱少，并且科目三路程简单）。就实际价值而言，我真心感觉“开车是一项生存必备的技能”这句话过于夸张——至少在未来几年内，你绝对没有多少亲自驾车的机会，即便有也能被打车/地铁/公交等完美代替。如果很远的未来后有需求，到时再学也不迟。不过这一点见仁见智，或许你一直渴望驾车驰骋马路的快感——只是希望你不要仅仅因为父母的撺掇与安排就踏上考驾照这条路。</li>
<li><strong>仅就“毕业前景”“专业热门”等考虑专业</strong>。遥想我告知我妈可选的三个专业（计算机科学与技术，人工智能，信息安全）后，我妈隔天激动地告诉我：我上网查了，说信息安全毕业后年薪上百万！——只能说毕业后的薪资待遇，与个人能力有很大关系，同时距离现在而言也很遥远。与之相比，从网上或学长学姐那要来一张心仪/热门专业的课程表/培养方案看看更有参考价值。上b站搜一下那些稀奇古怪的课程都是教什么内容的，在这之后再考虑考虑你对它的热情与学习欲望是否依旧。（不然就会像我一样，天天对着一堆数学的玩意懊悔，当时怎么就走上这条道了）</li>
</ul>
</details>
<p>填报志愿时可参考<a href="https://colleges.chat/">这个网站</a>的内容，十分详细  </p>
<p>如果你确认了工科专业，也可以参考我同专业学长组的<a href="https://turing2023.tonycrane.cc/summer_study/">指南</a></p>
<h2 id="others-summer_idle-_4">一些碎碎念 ＆ 创作初衷<a class="headerlink" href="#others-summer_idle-_4" title="Permanent link">&para;</a></h2>
<p>关山难越，冯唐易老。落笔本文时刚刚跨过2024的门槛，距高考结束亦逾半年。二者相比，竟是后者更令笔者怅然惊异。考前的颓唐无力，考时的沉稳乏味，考后的狂欢无拘，出成绩时的意外之喜，奔走填报志愿时的疲劳无语，均已碾入时间滚动的车轮。由此回望，一路走来，暑假期间无比惬意享受，初入大学第一个学期时则艰难跋涉，不得不挣扎于某些痛苦的时刻。  </p>
<p>也就是在这些时刻我萌生了为学弟学妹们创作这一篇指南的想法：我的母校坐落在祁连山和当金山的夹角，青海省与甘肃省两大<strong>GDP巨鳄</strong>的交锋处。学校狭小，设施欠佳，实验物资匮乏，网络媒体的建设无比落后：名气和曝光度都小的惊人，没有公众号，没有官方网站，没有dy和bilibili上的官方账号发表高质量记录视频（不过近年来在@沙漠老师和一众同学的努力下有所改观）。全校最有活力的校友论坛甚至可能是“油田一中万能墙”的QQ号（笑）。闭塞的资源获取渠道，佐之以惨淡的教育资源，就是这样一所学校每年源源不断地着向国土东部胞吐着一届又一届“来自大山深处的孩子”。  </p>
<p>这些只是我对小小母校的诸多不满，和本文的主要内容没有多大关系。在大一上半学期的中旬，每当我怅然无助地缩进寝室被窝时，我就会想，如果当时能有一位前辈写下这样一篇指南（譬如我的大学学长们搭建的<a href="https://turing2023.tonycrane.cc/">网站</a>），我绝不会经历那么多怆然否定自己的悲伤时刻。因此我希望，这篇文章能够为你们起到一些帮助的作用。不用很多，一丁点也够了。</p>
<p><strong>言尽于此，祝身心康健，思维活泼，未来明朗！</strong></p></section></section><section class="print-page" id="tags" heading-number="6"><h1 id="tags-tags">tags<a class="headerlink" href="#tags-tags" title="Permanent link">&para;</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"/></svg></span> 约 1 个字 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"/></svg></span> 预计阅读时间不到 1 分钟</p>
</div>
<h4 id="tags-tags.md:179-201/slug">tags.md:179-201/name<a class="headerlink" href="#tags-tags.md:179-201/slug" title="Permanent link">&para;</a></h4></section><section class="print-page" id="friends" heading-number="7"><div class="nt-cards nt-grid cols-3">
<div class="nt-card"><a href="https://pampaseagle1.github.io/"><div><div class="nt-card-image tags"><img alt="PampasEagle" src="../img/Pampaseagle.jpg" /></div><div class="nt-card-content"><p class="nt-card-title">PampasEagle</p><p class="nt-card-text">Quadratic Reciprocity.</p></div></div></a></div>
<div class="nt-card"><a href="https://mem.ac/"><div><div class="nt-card-image tags"><img alt="memset0" src="../img/mem0.png" /></div><div class="nt-card-content"><p class="nt-card-title">memset0</p><p class="nt-card-text">mem 的小站</p></div></div></a></div>
<div class="nt-card"><a href="https://zjyinzju.github.io/"><div><div class="nt-card-image tags"><img alt="Amane Suzuha" src="../img/dgzs.jpg" /></div><div class="nt-card-content"><p class="nt-card-title">Amane Suzuha</p><p class="nt-card-text">一切都是命运石之门的选择</p></div></div></a></div>
<div class="nt-card"><a href="https://www.kailqq.cc/"><div><div class="nt-card-image tags"><img alt="Kailqq" src="../img/kailqq.png" /></div><div class="nt-card-content"><p class="nt-card-title">Kailqq</p><p class="nt-card-text">Man!</p></div></div></a></div>
<div class="nt-card"><a href="https://jazzyzj.github.io/"><div><div class="nt-card-image tags"><img alt="JazZyzJ" src="../img/jazz.jpg" /></div><div class="nt-card-content"><p class="nt-card-title">JazZyzJ</p><p class="nt-card-text">滚烫的人生 即使辛苦</p></div></div></a></div>
</div>
<details class="quote" open="open">
<summary>友链样式</summary>
<p>使用<a href="https://www.neoteroi.dev/mkdocs-plugins/cards">neoteroi.cards</a>插件生成<br />
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#friends-__codelineno-0-1"></a>pip<span class="w"> </span>install<span class="w"> </span>neoteroi-mkdocs
</code></pre></div>
官方文档讲的不是很详细，需要把他仓库里的scss文件拉到本地用<a href="https://sass-lang.com/install/">sass</a>编译成css再引用<br />
可以到我的仓库里下载编译好的<a href="../css/cards.css">css文件</a>，再引用：
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#friends-__codelineno-1-1"></a><span class="nt">markdown_extensions</span><span class="p">:</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#friends-__codelineno-1-2"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">neoteroi.cards</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#friends-__codelineno-1-3"></a><span class="nt">extra_css</span><span class="p">:</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#friends-__codelineno-1-4"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">css/cards.css</span>
</code></pre></div></p>
</details></section></div><style>.print-site-enumerate-headings #index > h1:before { content: '1 ' }

                .print-site-enumerate-headings #index h2:before { content: '1.' counter(counter-index-2) ' ' }
                .print-site-enumerate-headings #index h2 {  counter-reset: counter-index-3 ;  counter-increment: counter-index-2 }
            
                .print-site-enumerate-headings #index h3:before { content: '1.' counter(counter-index-2) '.' counter(counter-index-3) ' ' }
                .print-site-enumerate-headings #index h3 {  counter-increment: counter-index-3 }
            
.print-site-enumerate-headings #section-2 > h1:before { content: '2 ' }
.print-site-enumerate-headings #stories > h1:before { content: '2.1 ' }

                .print-site-enumerate-headings #stories h2:before { content: '2.1.' counter(counter-stories-2) ' ' }
                .print-site-enumerate-headings #stories h2 {  counter-increment: counter-stories-2 }
            
.print-site-enumerate-headings #stories-g30 > h1:before { content: '2.2 ' }

                .print-site-enumerate-headings #stories-g30 h2:before { content: '2.2.' counter(counter-stories-g30-2) ' ' }
                .print-site-enumerate-headings #stories-g30 h2 {  counter-increment: counter-stories-g30-2 }
            
.print-site-enumerate-headings #stories-curse > h1:before { content: '2.3 ' }

                .print-site-enumerate-headings #stories-curse h2:before { content: '2.3.' counter(counter-stories-curse-2) ' ' }
                .print-site-enumerate-headings #stories-curse h2 {  counter-increment: counter-stories-curse-2 }
            
.print-site-enumerate-headings #stories-justice > h1:before { content: '2.4 ' }

                .print-site-enumerate-headings #stories-justice h2:before { content: '2.4.' counter(counter-stories-justice-2) ' ' }
                .print-site-enumerate-headings #stories-justice h2 {  counter-increment: counter-stories-justice-2 }
            
.print-site-enumerate-headings #stories-fool > h1:before { content: '2.5 ' }

                .print-site-enumerate-headings #stories-fool h2:before { content: '2.5.' counter(counter-stories-fool-2) ' ' }
                .print-site-enumerate-headings #stories-fool h2 {  counter-increment: counter-stories-fool-2 }
            
.print-site-enumerate-headings #stories-pepper > h1:before { content: '2.6 ' }

                .print-site-enumerate-headings #stories-pepper h2:before { content: '2.6.' counter(counter-stories-pepper-2) ' ' }
                .print-site-enumerate-headings #stories-pepper h2 {  counter-increment: counter-stories-pepper-2 }
            
.print-site-enumerate-headings #stories-protein > h1:before { content: '2.7 ' }

                .print-site-enumerate-headings #stories-protein h2:before { content: '2.7.' counter(counter-stories-protein-2) ' ' }
                .print-site-enumerate-headings #stories-protein h2 {  counter-increment: counter-stories-protein-2 }
            
.print-site-enumerate-headings #stories-vanishment > h1:before { content: '2.8 ' }

                .print-site-enumerate-headings #stories-vanishment h2:before { content: '2.8.' counter(counter-stories-vanishment-2) ' ' }
                .print-site-enumerate-headings #stories-vanishment h2 {  counter-increment: counter-stories-vanishment-2 }
            
.print-site-enumerate-headings #stories-gunpowdersmoke > h1:before { content: '2.9 ' }

                .print-site-enumerate-headings #stories-gunpowdersmoke h2:before { content: '2.9.' counter(counter-stories-gunpowdersmoke-2) ' ' }
                .print-site-enumerate-headings #stories-gunpowdersmoke h2 {  counter-increment: counter-stories-gunpowdersmoke-2 }
            
.print-site-enumerate-headings #stories-newcar > h1:before { content: '2.10 ' }

                .print-site-enumerate-headings #stories-newcar h2:before { content: '2.10.' counter(counter-stories-newcar-2) ' ' }
                .print-site-enumerate-headings #stories-newcar h2 {  counter-increment: counter-stories-newcar-2 }
            
.print-site-enumerate-headings #stories-weapon > h1:before { content: '2.11 ' }

                .print-site-enumerate-headings #stories-weapon h2:before { content: '2.11.' counter(counter-stories-weapon-2) ' ' }
                .print-site-enumerate-headings #stories-weapon h2 {  counter-increment: counter-stories-weapon-2 }
            
.print-site-enumerate-headings #stories-mice > h1:before { content: '2.12 ' }

                .print-site-enumerate-headings #stories-mice h2:before { content: '2.12.' counter(counter-stories-mice-2) ' ' }
                .print-site-enumerate-headings #stories-mice h2 {  counter-increment: counter-stories-mice-2 }
            
.print-site-enumerate-headings #section-3 > h1:before { content: '3 ' }
.print-site-enumerate-headings #thoughts > h1:before { content: '3.1 ' }

                .print-site-enumerate-headings #thoughts h2:before { content: '3.1.' counter(counter-thoughts-2) ' ' }
                .print-site-enumerate-headings #thoughts h2 {  counter-increment: counter-thoughts-2 }
            
.print-site-enumerate-headings #thoughts-echo > h1:before { content: '3.2 ' }

                .print-site-enumerate-headings #thoughts-echo h2:before { content: '3.2.' counter(counter-thoughts-echo-2) ' ' }
                .print-site-enumerate-headings #thoughts-echo h2 {  counter-increment: counter-thoughts-echo-2 }
            
.print-site-enumerate-headings #thoughts-gaut > h1:before { content: '3.3 ' }

                .print-site-enumerate-headings #thoughts-gaut h2:before { content: '3.3.' counter(counter-thoughts-gaut-2) ' ' }
                .print-site-enumerate-headings #thoughts-gaut h2 {  counter-increment: counter-thoughts-gaut-2 }
            
.print-site-enumerate-headings #thoughts-homesick > h1:before { content: '3.4 ' }

                .print-site-enumerate-headings #thoughts-homesick h2:before { content: '3.4.' counter(counter-thoughts-homesick-2) ' ' }
                .print-site-enumerate-headings #thoughts-homesick h2 {  counter-increment: counter-thoughts-homesick-2 }
            
.print-site-enumerate-headings #thoughts-gut > h1:before { content: '3.5 ' }

                .print-site-enumerate-headings #thoughts-gut h2:before { content: '3.5.' counter(counter-thoughts-gut-2) ' ' }
                .print-site-enumerate-headings #thoughts-gut h2 {  counter-increment: counter-thoughts-gut-2 }
            
.print-site-enumerate-headings #thoughts-fortune > h1:before { content: '3.6 ' }

                .print-site-enumerate-headings #thoughts-fortune h2:before { content: '3.6.' counter(counter-thoughts-fortune-2) ' ' }
                .print-site-enumerate-headings #thoughts-fortune h2 {  counter-increment: counter-thoughts-fortune-2 }
            
.print-site-enumerate-headings #thoughts-unspoken > h1:before { content: '3.7 ' }

                .print-site-enumerate-headings #thoughts-unspoken h2:before { content: '3.7.' counter(counter-thoughts-unspoken-2) ' ' }
                .print-site-enumerate-headings #thoughts-unspoken h2 {  counter-increment: counter-thoughts-unspoken-2 }
            
.print-site-enumerate-headings #section-4 > h1:before { content: '4 ' }
.print-site-enumerate-headings #notes > h1:before { content: '4.1 ' }

                .print-site-enumerate-headings #notes h2:before { content: '4.1.' counter(counter-notes-2) ' ' }
                .print-site-enumerate-headings #notes h2 {  counter-increment: counter-notes-2 }
            
.print-site-enumerate-headings #section-4-2 > h1:before { content: '4.2 ' }
.print-site-enumerate-headings #notes-ai-aiy > h1:before { content: '4.2.1 ' }

.print-site-enumerate-headings #notes-ai-daml > h1:before { content: '4.2.2 ' }

.print-site-enumerate-headings #notes-ai-ail > h1:before { content: '4.2.3 ' }

.print-site-enumerate-headings #section-4-2-4 > h1:before { content: '4.2.4 ' }
.print-site-enumerate-headings #notes-ai-nlp > h1:before { content: '4.2.4.1 ' }

.print-site-enumerate-headings #section-4-3 > h1:before { content: '4.3 ' }
.print-site-enumerate-headings #notes-computerscience-computersystem1 > h1:before { content: '4.3.1 ' }

.print-site-enumerate-headings #notes-computerscience-computersystem2 > h1:before { content: '4.3.2 ' }

.print-site-enumerate-headings #notes-computerscience-computersystem3 > h1:before { content: '4.3.3 ' }

.print-site-enumerate-headings #notes-computerscience-ads > h1:before { content: '4.3.4 ' }

.print-site-enumerate-headings #section-4-4 > h1:before { content: '4.4 ' }
.print-site-enumerate-headings #notes-mathematicsandphysics-analysis > h1:before { content: '4.4.1 ' }

.print-site-enumerate-headings #notes-mathematicsandphysics-physics1 > h1:before { content: '4.4.2 ' }

.print-site-enumerate-headings #notes-mathematicsandphysics-ode > h1:before { content: '4.4.3 ' }

.print-site-enumerate-headings #notes-mathematicsandphysics-discretemath > h1:before { content: '4.4.4 ' }

.print-site-enumerate-headings #notes-mathematicsandphysics-probability > h1:before { content: '4.4.5 ' }

.print-site-enumerate-headings #notes-mathematicsandphysics-physics2 > h1:before { content: '4.4.6 ' }

.print-site-enumerate-headings #section-4-5 > h1:before { content: '4.5 ' }
.print-site-enumerate-headings #notes-literature-basiclinguistics > h1:before { content: '4.5.1 ' }

.print-site-enumerate-headings #section-4-6 > h1:before { content: '4.6 ' }
.print-site-enumerate-headings #notes-language-cs61a > h1:before { content: '4.6.1 ' }

.print-site-enumerate-headings #notes-language-verilog > h1:before { content: '4.6.2 ' }

.print-site-enumerate-headings #notes-language-cpp > h1:before { content: '4.6.3 ' }

.print-site-enumerate-headings #notes-language-toefl > h1:before { content: '4.6.4 ' }

.print-site-enumerate-headings #notes-language-typst > h1:before { content: '4.6.5 ' }

.print-site-enumerate-headings #section-4-7 > h1:before { content: '4.7 ' }
.print-site-enumerate-headings #notes-summercourses-ctf > h1:before { content: '4.7.1 ' }

.print-site-enumerate-headings #section-5 > h1:before { content: '5 ' }
.print-site-enumerate-headings #others > h1:before { content: '5.1 ' }

                .print-site-enumerate-headings #others h2:before { content: '5.1.' counter(counter-others-2) ' ' }
                .print-site-enumerate-headings #others h2 {  counter-increment: counter-others-2 }
            
.print-site-enumerate-headings #others-quotes > h1:before { content: '5.2 ' }

                .print-site-enumerate-headings #others-quotes h2:before { content: '5.2.' counter(counter-others-quotes-2) ' ' }
                .print-site-enumerate-headings #others-quotes h2 {  counter-increment: counter-others-quotes-2 }
            
.print-site-enumerate-headings #others-final > h1:before { content: '5.3 ' }

                .print-site-enumerate-headings #others-final h2:before { content: '5.3.' counter(counter-others-final-2) ' ' }
                .print-site-enumerate-headings #others-final h2 {  counter-increment: counter-others-final-2 }
            
.print-site-enumerate-headings #others-summer_idle > h1:before { content: '5.4 ' }

                .print-site-enumerate-headings #others-summer_idle h2:before { content: '5.4.' counter(counter-others-summer_idle-2) ' ' }
                .print-site-enumerate-headings #others-summer_idle h2 {  counter-increment: counter-others-summer_idle-2 }
            
.print-site-enumerate-headings #tags > h1:before { content: '6 ' }

                .print-site-enumerate-headings #tags h2:before { content: '6.' counter(counter-tags-2) ' ' }
                .print-site-enumerate-headings #tags h2 {  counter-reset: counter-tags-3 ;  counter-increment: counter-tags-2 }
            
                .print-site-enumerate-headings #tags h3:before { content: '6.' counter(counter-tags-2) '.' counter(counter-tags-3) ' ' }
                .print-site-enumerate-headings #tags h3 {  counter-increment: counter-tags-3 }
            
.print-site-enumerate-headings #friends > h1:before { content: '7 ' }

                .print-site-enumerate-headings #friends h2:before { content: '7.' counter(counter-friends-2) ' ' }
                .print-site-enumerate-headings #friends h2 {  counter-reset: counter-friends-3 ;  counter-increment: counter-friends-2 }
            
                .print-site-enumerate-headings #friends h3:before { content: '7.' counter(counter-friends-2) '.' counter(counter-friends-3) ' ' }
                .print-site-enumerate-headings #friends h3 {  counter-increment: counter-friends-3 }
            </style>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024 - 2025 <a href="https://github.com/shrike-505" target="_blank">shrike505</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="mailto:<mikamidouya@outlook.com>" target="_blank" rel="noopener" title="Email" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m20 8-8 5-8-5V6l8 5 8-5m0-2H4c-1.11 0-2 .89-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2"/></svg>
    </a>
  
    
    
    
    
    <a href="https://shrike505.cc/" target="_blank" rel="noopener" title="HomePage" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "/", "features": ["navigation.footer", "navigation.path", "navigation.indexes", "navigation.top", "navigation.tabs"], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
        <script src="../js/print-site.js"></script>
      
        <script src="../assets/mkdocs_pagetree_plugin.js"></script>
      
        <script src="../javascript/katex.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/katex.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/contrib/auto-render.min.js"></script>
      
    
  </body>
</html>